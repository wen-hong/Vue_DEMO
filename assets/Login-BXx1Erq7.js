import{r as s,e as g,c as d,a as t,w,f as x,d as n,g as V,v as k,t as _,h as m,i as y,j as L,o as p,b as v}from"./index-BtDBrzzu.js";import{_ as N}from"./PasswordInput-DGmqXfj1.js";const B={id:"loginApp",class:"container"},C={class:"login-card"},E={class:"mb-3"},R={class:"mb-3"},S={key:0,class:"text-danger text-center mt-3"},T={__name:"Login",setup(A){const l=s(""),a=s(""),o=s(""),f=L(),b=g();s(!1);const c=async()=>{o.value="";try{await b.login(l.value,a.value),f.push("/")}catch(i){o.value=i.response?.data?.error||"Login failed"}};return(i,e)=>{const u=y("RouterLink");return p(),d("div",B,[t("div",C,[e[8]||(e[8]=t("h2",{class:"login-title mb-4 text-center"},"系統登入",-1)),t("form",{onSubmit:w(c,["prevent"])},[t("div",E,[e[2]||(e[2]=t("label",{class:"form-label"},"Email",-1)),V(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>l.value=r),class:"form-control",placeholder:"請輸入Email"},null,512),[[k,l.value]])]),t("div",R,[e[3]||(e[3]=t("label",{class:"form-label"},"密碼",-1)),n(N,{modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=r=>a.value=r),placeholder:"請輸入密碼",required:""},null,8,["modelValue"])]),e[6]||(e[6]=t("button",{type:"submit",class:"btn btn-success w-100 py-2 mt-3"},"登入",-1)),o.value?(p(),d("p",S,_(o.value),1)):x("",!0),n(u,{to:"/loginbackground/register"},{default:m(()=>[...e[4]||(e[4]=[v("尚未註冊？建立帳號",-1)])]),_:1}),e[7]||(e[7]=t("br",null,null,-1)),n(u,{to:"/loginbackground/forgotpassword"},{default:m(()=>[...e[5]||(e[5]=[v("忘記密碼",-1)])]),_:1})],32)])])}}};export{T as default};
