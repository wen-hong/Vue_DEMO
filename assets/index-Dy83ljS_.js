(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Qu(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ke={},ki=[],_n=()=>{},Pm=()=>!1,Xa=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Xu=t=>t.startsWith("onUpdate:"),Et=Object.assign,Zu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Sw=Object.prototype.hasOwnProperty,Se=(t,e)=>Sw.call(t,e),se=Array.isArray,Di=t=>lo(t)==="[object Map]",Za=t=>lo(t)==="[object Set]",Eh=t=>lo(t)==="[object Date]",oe=t=>typeof t=="function",Qe=t=>typeof t=="string",Sn=t=>typeof t=="symbol",De=t=>t!==null&&typeof t=="object",Mm=t=>(De(t)||oe(t))&&oe(t.then)&&oe(t.catch),Im=Object.prototype.toString,lo=t=>Im.call(t),Aw=t=>lo(t).slice(8,-1),Nm=t=>lo(t)==="[object Object]",el=t=>Qe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,vr=Qu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tl=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},xw=/-\w/g,Xt=tl(t=>t.replace(xw,e=>e.slice(1).toUpperCase())),Rw=/\B([A-Z])/g,ii=tl(t=>t.replace(Rw,"-$1").toLowerCase()),nl=tl(t=>t.charAt(0).toUpperCase()+t.slice(1)),Wl=tl(t=>t?`on${nl(t)}`:""),us=(t,e)=>!Object.is(t,e),Zo=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Lm=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},sl=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Sh;const il=()=>Sh||(Sh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ed(t){if(se(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Qe(s)?Dw(s):ed(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(Qe(t)||De(t))return t}const Cw=/;(?![^(]*\))/g,Tw=/:([^]+)/,kw=/\/\*[^]*?\*\//g;function Dw(t){const e={};return t.replace(kw,"").split(Cw).forEach(n=>{if(n){const s=n.split(Tw);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ut(t){let e="";if(Qe(t))e=t;else if(se(t))for(let n=0;n<t.length;n++){const s=Ut(t[n]);s&&(e+=s+" ")}else if(De(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Ow="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Pw=Qu(Ow);function jm(t){return!!t||t===""}function Mw(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=rl(t[s],e[s]);return n}function rl(t,e){if(t===e)return!0;let n=Eh(t),s=Eh(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Sn(t),s=Sn(e),n||s)return t===e;if(n=se(t),s=se(e),n||s)return n&&s?Mw(t,e):!1;if(n=De(t),s=De(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!rl(t[o],e[o]))return!1}}return String(t)===String(e)}function Iw(t,e){return t.findIndex(n=>rl(n,e))}const Bm=t=>!!(t&&t.__v_isRef===!0),je=t=>Qe(t)?t:t==null?"":se(t)||De(t)&&(t.toString===Im||!oe(t.toString))?Bm(t)?je(t.value):JSON.stringify(t,Fm,2):String(t),Fm=(t,e)=>Bm(e)?Fm(t,e.value):Di(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[zl(s,r)+" =>"]=i,n),{})}:Za(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>zl(n))}:Sn(e)?zl(e):De(e)&&!se(e)&&!Nm(e)?String(e):e,zl=(t,e="")=>{var n;return Sn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let gt;class Um{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=gt,!e&&gt&&(this.index=(gt.scopes||(gt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=gt;try{return gt=this,e()}finally{gt=n}}}on(){++this._on===1&&(this.prevScope=gt,gt=this)}off(){this._on>0&&--this._on===0&&(gt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Hm(t){return new Um(t)}function $m(){return gt}function Nw(t,e=!1){gt&&gt.cleanups.push(t)}let Me;const ql=new WeakSet;class Vm{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,gt&&gt.active&&gt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ql.has(this)&&(ql.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||zm(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ah(this),qm(this);const e=Me,n=sn;Me=this,sn=!0;try{return this.fn()}finally{Gm(this),Me=e,sn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)sd(e);this.deps=this.depsTail=void 0,Ah(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ql.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Yc(this)&&this.run()}get dirty(){return Yc(this)}}let Wm=0,yr,_r;function zm(t,e=!1){if(t.flags|=8,e){t.next=_r,_r=t;return}t.next=yr,yr=t}function td(){Wm++}function nd(){if(--Wm>0)return;if(_r){let e=_r;for(_r=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;yr;){let e=yr;for(yr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function qm(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Gm(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),sd(s),Lw(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function Yc(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Km(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Km(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Fr)||(t.globalVersion=Fr,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Yc(t))))return;t.flags|=2;const e=t.dep,n=Me,s=sn;Me=t,sn=!0;try{qm(t);const i=t.fn(t._value);(e.version===0||us(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Me=n,sn=s,Gm(t),t.flags&=-3}}function sd(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)sd(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Lw(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let sn=!0;const Ym=[];function Hn(){Ym.push(sn),sn=!1}function $n(){const t=Ym.pop();sn=t===void 0?!0:t}function Ah(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Me;Me=void 0;try{e()}finally{Me=n}}}let Fr=0;class jw{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class id{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Me||!sn||Me===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Me)n=this.activeLink=new jw(Me,this),Me.deps?(n.prevDep=Me.depsTail,Me.depsTail.nextDep=n,Me.depsTail=n):Me.deps=Me.depsTail=n,Jm(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Me.depsTail,n.nextDep=void 0,Me.depsTail.nextDep=n,Me.depsTail=n,Me.deps===n&&(Me.deps=s)}return n}trigger(e){this.version++,Fr++,this.notify(e)}notify(e){td();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{nd()}}}function Jm(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Jm(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ga=new WeakMap,qs=Symbol(""),Jc=Symbol(""),Ur=Symbol("");function mt(t,e,n){if(sn&&Me){let s=ga.get(t);s||ga.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new id),i.map=s,i.key=n),i.track()}}function In(t,e,n,s,i,r){const o=ga.get(t);if(!o){Fr++;return}const a=l=>{l&&l.trigger()};if(td(),e==="clear")o.forEach(a);else{const l=se(t),c=l&&el(n);if(l&&n==="length"){const u=Number(s);o.forEach((d,h)=>{(h==="length"||h===Ur||!Sn(h)&&h>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Ur)),e){case"add":l?c&&a(o.get("length")):(a(o.get(qs)),Di(t)&&a(o.get(Jc)));break;case"delete":l||(a(o.get(qs)),Di(t)&&a(o.get(Jc)));break;case"set":Di(t)&&a(o.get(qs));break}}nd()}function Bw(t,e){const n=ga.get(t);return n&&n.get(e)}function di(t){const e=ve(t);return e===t?e:(mt(e,"iterate",Ur),qt(t)?e:e.map(on))}function ol(t){return mt(t=ve(t),"iterate",Ur),t}function Qn(t,e){return Vn(t)?Fn(t)?Fi(on(e)):Fi(e):on(e)}const Fw={__proto__:null,[Symbol.iterator](){return Gl(this,Symbol.iterator,t=>Qn(this,t))},concat(...t){return di(this).concat(...t.map(e=>se(e)?di(e):e))},entries(){return Gl(this,"entries",t=>(t[1]=Qn(this,t[1]),t))},every(t,e){return Rn(this,"every",t,e,void 0,arguments)},filter(t,e){return Rn(this,"filter",t,e,n=>n.map(s=>Qn(this,s)),arguments)},find(t,e){return Rn(this,"find",t,e,n=>Qn(this,n),arguments)},findIndex(t,e){return Rn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Rn(this,"findLast",t,e,n=>Qn(this,n),arguments)},findLastIndex(t,e){return Rn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Rn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Kl(this,"includes",t)},indexOf(...t){return Kl(this,"indexOf",t)},join(t){return di(this).join(t)},lastIndexOf(...t){return Kl(this,"lastIndexOf",t)},map(t,e){return Rn(this,"map",t,e,void 0,arguments)},pop(){return sr(this,"pop")},push(...t){return sr(this,"push",t)},reduce(t,...e){return xh(this,"reduce",t,e)},reduceRight(t,...e){return xh(this,"reduceRight",t,e)},shift(){return sr(this,"shift")},some(t,e){return Rn(this,"some",t,e,void 0,arguments)},splice(...t){return sr(this,"splice",t)},toReversed(){return di(this).toReversed()},toSorted(t){return di(this).toSorted(t)},toSpliced(...t){return di(this).toSpliced(...t)},unshift(...t){return sr(this,"unshift",t)},values(){return Gl(this,"values",t=>Qn(this,t))}};function Gl(t,e,n){const s=ol(t),i=s[e]();return s!==t&&!qt(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=n(r.value)),r}),i}const Uw=Array.prototype;function Rn(t,e,n,s,i,r){const o=ol(t),a=o!==t&&!qt(t),l=o[e];if(l!==Uw[e]){const d=l.apply(t,r);return a?on(d):d}let c=n;o!==t&&(a?c=function(d,h){return n.call(this,Qn(t,d),h,t)}:n.length>2&&(c=function(d,h){return n.call(this,d,h,t)}));const u=l.call(o,c,s);return a&&i?i(u):u}function xh(t,e,n,s){const i=ol(t);let r=n;return i!==t&&(qt(t)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,t)}):r=function(o,a,l){return n.call(this,o,Qn(t,a),l,t)}),i[e](r,...s)}function Kl(t,e,n){const s=ve(t);mt(s,"iterate",Ur);const i=s[e](...n);return(i===-1||i===!1)&&al(n[0])?(n[0]=ve(n[0]),s[e](...n)):i}function sr(t,e,n=[]){Hn(),td();const s=ve(t)[e].apply(t,n);return nd(),$n(),s}const Hw=Qu("__proto__,__v_isRef,__isVue"),Qm=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Sn));function $w(t){Sn(t)||(t=String(t));const e=ve(this);return mt(e,"has",t),e.hasOwnProperty(t)}class Xm{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?Xw:nb:r?tb:eb).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=se(e);if(!i){let l;if(o&&(l=Fw[n]))return l;if(n==="hasOwnProperty")return $w}const a=Reflect.get(e,n,Ye(e)?e:s);if((Sn(n)?Qm.has(n):Hw(n))||(i||mt(e,"get",n),r))return a;if(Ye(a)){const l=o&&el(n)?a:a.value;return i&&De(l)?Xc(l):l}return De(a)?i?Xc(a):co(a):a}}class Zm extends Xm{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];const o=se(e)&&el(n);if(!this._isShallow){const c=Vn(r);if(!qt(s)&&!Vn(s)&&(r=ve(r),s=ve(s)),!o&&Ye(r)&&!Ye(s))return c||(r.value=s),!0}const a=o?Number(n)<e.length:Se(e,n),l=Reflect.set(e,n,s,Ye(e)?e:i);return e===ve(i)&&(a?us(s,r)&&In(e,"set",n,s):In(e,"add",n,s)),l}deleteProperty(e,n){const s=Se(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&In(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Sn(n)||!Qm.has(n))&&mt(e,"has",n),s}ownKeys(e){return mt(e,"iterate",se(e)?"length":qs),Reflect.ownKeys(e)}}class Vw extends Xm{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Ww=new Zm,zw=new Vw,qw=new Zm(!0);const Qc=t=>t,Ao=t=>Reflect.getPrototypeOf(t);function Gw(t,e,n){return function(...s){const i=this.__v_raw,r=ve(i),o=Di(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...s),u=n?Qc:e?Fi:on;return!e&&mt(r,"iterate",l?Jc:qs),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function xo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Kw(t,e){const n={get(i){const r=this.__v_raw,o=ve(r),a=ve(i);t||(us(i,a)&&mt(o,"get",i),mt(o,"get",a));const{has:l}=Ao(o),c=e?Qc:t?Fi:on;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&mt(ve(i),"iterate",qs),i.size},has(i){const r=this.__v_raw,o=ve(r),a=ve(i);return t||(us(i,a)&&mt(o,"has",i),mt(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=ve(a),c=e?Qc:t?Fi:on;return!t&&mt(l,"iterate",qs),a.forEach((u,d)=>i.call(r,c(u),c(d),o))}};return Et(n,t?{add:xo("add"),set:xo("set"),delete:xo("delete"),clear:xo("clear")}:{add(i){!e&&!qt(i)&&!Vn(i)&&(i=ve(i));const r=ve(this);return Ao(r).has.call(r,i)||(r.add(i),In(r,"add",i,i)),this},set(i,r){!e&&!qt(r)&&!Vn(r)&&(r=ve(r));const o=ve(this),{has:a,get:l}=Ao(o);let c=a.call(o,i);c||(i=ve(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?us(r,u)&&In(o,"set",i,r):In(o,"add",i,r),this},delete(i){const r=ve(this),{has:o,get:a}=Ao(r);let l=o.call(r,i);l||(i=ve(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&In(r,"delete",i,void 0),c},clear(){const i=ve(this),r=i.size!==0,o=i.clear();return r&&In(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Gw(i,t,e)}),n}function rd(t,e){const n=Kw(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(Se(n,i)&&i in s?n:s,i,r)}const Yw={get:rd(!1,!1)},Jw={get:rd(!1,!0)},Qw={get:rd(!0,!1)};const eb=new WeakMap,tb=new WeakMap,nb=new WeakMap,Xw=new WeakMap;function Zw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function e0(t){return t.__v_skip||!Object.isExtensible(t)?0:Zw(Aw(t))}function co(t){return Vn(t)?t:od(t,!1,Ww,Yw,eb)}function sb(t){return od(t,!1,qw,Jw,tb)}function Xc(t){return od(t,!0,zw,Qw,nb)}function od(t,e,n,s,i){if(!De(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=e0(t);if(r===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,r===2?s:n);return i.set(t,a),a}function Fn(t){return Vn(t)?Fn(t.__v_raw):!!(t&&t.__v_isReactive)}function Vn(t){return!!(t&&t.__v_isReadonly)}function qt(t){return!!(t&&t.__v_isShallow)}function al(t){return t?!!t.__v_raw:!1}function ve(t){const e=t&&t.__v_raw;return e?ve(e):t}function ad(t){return!Se(t,"__v_skip")&&Object.isExtensible(t)&&Lm(t,"__v_skip",!0),t}const on=t=>De(t)?co(t):t,Fi=t=>De(t)?Xc(t):t;function Ye(t){return t?t.__v_isRef===!0:!1}function ue(t){return ib(t,!1)}function t0(t){return ib(t,!0)}function ib(t,e){return Ye(t)?t:new n0(t,e)}class n0{constructor(e,n){this.dep=new id,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ve(e),this._value=n?e:on(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||qt(e)||Vn(e);e=s?e:ve(e),us(e,n)&&(this._rawValue=e,this._value=s?e:on(e),this.dep.trigger())}}function Jt(t){return Ye(t)?t.value:t}const s0={get:(t,e,n)=>e==="__v_raw"?t:Jt(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Ye(i)&&!Ye(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function rb(t){return Fn(t)?t:new Proxy(t,s0)}function i0(t){const e=se(t)?new Array(t.length):{};for(const n in t)e[n]=o0(t,n);return e}class r0{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0,this._raw=ve(e);let i=!0,r=e;if(!se(e)||!el(String(n)))do i=!al(r)||qt(r);while(i&&(r=r.__v_raw));this._shallow=i}get value(){let e=this._object[this._key];return this._shallow&&(e=Jt(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&Ye(this._raw[this._key])){const n=this._object[this._key];if(Ye(n)){n.value=e;return}}this._object[this._key]=e}get dep(){return Bw(this._raw,this._key)}}function o0(t,e,n){return new r0(t,e,n)}class a0{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new id(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Me!==this)return zm(this,!0),!0}get value(){const e=this.dep.track();return Km(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function l0(t,e,n=!1){let s,i;return oe(t)?s=t:(s=t.get,i=t.set),new a0(s,i,n)}const Ro={},pa=new WeakMap;let Ps;function c0(t,e=!1,n=Ps){if(n){let s=pa.get(n);s||pa.set(n,s=[]),s.push(t)}}function u0(t,e,n=ke){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=_=>i?_:qt(_)||i===!1||i===0?Nn(_,1):Nn(_);let u,d,h,f,g=!1,p=!1;if(Ye(t)?(d=()=>t.value,g=qt(t)):Fn(t)?(d=()=>c(t),g=!0):se(t)?(p=!0,g=t.some(_=>Fn(_)||qt(_)),d=()=>t.map(_=>{if(Ye(_))return _.value;if(Fn(_))return c(_);if(oe(_))return l?l(_,2):_()})):oe(t)?e?d=l?()=>l(t,2):t:d=()=>{if(h){Hn();try{h()}finally{$n()}}const _=Ps;Ps=u;try{return l?l(t,3,[f]):t(f)}finally{Ps=_}}:d=_n,e&&i){const _=d,S=i===!0?1/0:i;d=()=>Nn(_(),S)}const m=$m(),b=()=>{u.stop(),m&&m.active&&Zu(m.effects,u)};if(r&&e){const _=e;e=(...S)=>{_(...S),b()}}let v=p?new Array(t.length).fill(Ro):Ro;const y=_=>{if(!(!(u.flags&1)||!u.dirty&&!_))if(e){const S=u.run();if(i||g||(p?S.some((T,x)=>us(T,v[x])):us(S,v))){h&&h();const T=Ps;Ps=u;try{const x=[S,v===Ro?void 0:p&&v[0]===Ro?[]:v,f];v=S,l?l(e,3,x):e(...x)}finally{Ps=T}}}else u.run()};return a&&a(y),u=new Vm(d),u.scheduler=o?()=>o(y,!1):y,f=_=>c0(_,!1,u),h=u.onStop=()=>{const _=pa.get(u);if(_){if(l)l(_,4);else for(const S of _)S();pa.delete(u)}},e?s?y(!0):v=u.run():o?o(y.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Nn(t,e=1/0,n){if(e<=0||!De(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Ye(t))Nn(t.value,e,n);else if(se(t))for(let s=0;s<t.length;s++)Nn(t[s],e,n);else if(Za(t)||Di(t))t.forEach(s=>{Nn(s,e,n)});else if(Nm(t)){for(const s in t)Nn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Nn(t[s],e,n)}return t}function uo(t,e,n,s){try{return s?t(...s):t()}catch(i){ll(i,e,n)}}function An(t,e,n,s){if(oe(t)){const i=uo(t,e,n,s);return i&&Mm(i)&&i.catch(r=>{ll(r,e,n)}),i}if(se(t)){const i=[];for(let r=0;r<t.length;r++)i.push(An(t[r],e,n,s));return i}}function ll(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ke;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(r){Hn(),uo(r,null,10,[t,l,c]),$n();return}}d0(t,n,i,s,o)}function d0(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const Ct=[];let mn=-1;const Oi=[];let Xn=null,wi=0;const ob=Promise.resolve();let ma=null;function ho(t){const e=ma||ob;return t?e.then(this?t.bind(this):t):e}function h0(t){let e=mn+1,n=Ct.length;for(;e<n;){const s=e+n>>>1,i=Ct[s],r=Hr(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function ld(t){if(!(t.flags&1)){const e=Hr(t),n=Ct[Ct.length-1];!n||!(t.flags&2)&&e>=Hr(n)?Ct.push(t):Ct.splice(h0(e),0,t),t.flags|=1,ab()}}function ab(){ma||(ma=ob.then(cb))}function f0(t){se(t)?Oi.push(...t):Xn&&t.id===-1?Xn.splice(wi+1,0,t):t.flags&1||(Oi.push(t),t.flags|=1),ab()}function Rh(t,e,n=mn+1){for(;n<Ct.length;n++){const s=Ct[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Ct.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function lb(t){if(Oi.length){const e=[...new Set(Oi)].sort((n,s)=>Hr(n)-Hr(s));if(Oi.length=0,Xn){Xn.push(...e);return}for(Xn=e,wi=0;wi<Xn.length;wi++){const n=Xn[wi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Xn=null,wi=0}}const Hr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function cb(t){try{for(mn=0;mn<Ct.length;mn++){const e=Ct[mn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),uo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;mn<Ct.length;mn++){const e=Ct[mn];e&&(e.flags&=-2)}mn=-1,Ct.length=0,lb(),ma=null,(Ct.length||Oi.length)&&cb()}}let Vt=null,ub=null;function ba(t){const e=Vt;return Vt=t,ub=t&&t.type.__scopeId||null,e}function Un(t,e=Vt,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&wa(-1);const r=ba(e);let o;try{o=t(...i)}finally{ba(r),s._d&&wa(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Wt(t,e){if(Vt===null)return t;const n=fl(Vt),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=ke]=e[i];r&&(oe(r)&&(r={mounted:r,updated:r}),r.deep&&Nn(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function As(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(Hn(),An(l,n,8,[t.el,a,t,e]),$n())}}const db=Symbol("_vte"),g0=t=>t.__isTeleport,wr=t=>t&&(t.disabled||t.disabled===""),Ch=t=>t&&(t.defer||t.defer===""),Th=t=>typeof SVGElement<"u"&&t instanceof SVGElement,kh=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Zc=(t,e)=>{const n=t&&t.to;return Qe(n)?e?e(n):null:n},hb={name:"Teleport",__isTeleport:!0,process(t,e,n,s,i,r,o,a,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:g,createText:p,createComment:m}}=c,b=wr(e.props);let{shapeFlag:v,children:y,dynamicChildren:_}=e;if(t==null){const S=e.el=p(""),T=e.anchor=p("");f(S,n,s),f(T,n,s);const x=(k,B)=>{v&16&&u(y,k,B,i,r,o,a,l)},A=()=>{const k=e.target=Zc(e.props,g),B=fb(k,e,p,f);k&&(o!=="svg"&&Th(k)?o="svg":o!=="mathml"&&kh(k)&&(o="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(k),b||(x(k,B),ea(e,!1)))};b&&(x(n,T),ea(e,!0)),Ch(e.props)?(e.el.__isMounted=!1,xt(()=>{A(),delete e.el.__isMounted},r)):A()}else{if(Ch(e.props)&&t.el.__isMounted===!1){xt(()=>{hb.process(t,e,n,s,i,r,o,a,l,c)},r);return}e.el=t.el,e.targetStart=t.targetStart;const S=e.anchor=t.anchor,T=e.target=t.target,x=e.targetAnchor=t.targetAnchor,A=wr(t.props),k=A?n:T,B=A?S:x;if(o==="svg"||Th(T)?o="svg":(o==="mathml"||kh(T))&&(o="mathml"),_?(h(t.dynamicChildren,_,k,i,r,o,a),hd(t,e,!0)):l||d(t,e,k,B,i,r,o,a,!1),b)A?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Co(e,n,S,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const W=e.target=Zc(e.props,g);W&&Co(e,W,null,c,0)}else A&&Co(e,T,x,c,1);ea(e,b)}},remove(t,e,n,{um:s,o:{remove:i}},r){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:h}=t;if(d&&(i(c),i(u)),r&&i(l),o&16){const f=r||!wr(h);for(let g=0;g<a.length;g++){const p=a[g];s(p,e,n,f,!!p.dynamicChildren)}}},move:Co,hydrate:p0};function Co(t,e,n,{o:{insert:s},m:i},r=2){r===0&&s(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=r===2;if(d&&s(o,e,n),(!d||wr(u))&&l&16)for(let h=0;h<c.length;h++)i(c[h],e,n,2);d&&s(a,e,n)}function p0(t,e,n,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){function h(p,m,b,v){m.anchor=d(o(p),m,a(p),n,s,i,r),m.targetStart=b,m.targetAnchor=v}const f=e.target=Zc(e.props,l),g=wr(e.props);if(f){const p=f._lpa||f.firstChild;if(e.shapeFlag&16)if(g)h(t,e,p,p&&o(p));else{e.anchor=o(t);let m=p;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}m=o(m)}e.targetAnchor||fb(f,e,u,c),d(p&&o(p),e,f,n,s,i,r)}ea(e,g)}else g&&e.shapeFlag&16&&h(t,e,t,o(t));return e.anchor&&o(e.anchor)}const m0=hb;function ea(t,e){const n=t.ctx;if(n&&n.ut){let s,i;for(e?(s=t.el,i=t.anchor):(s=t.targetStart,i=t.targetAnchor);s&&s!==i;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function fb(t,e,n,s){const i=e.targetStart=n(""),r=e.targetAnchor=n("");return i[db]=r,t&&(s(i,t),s(r,t)),r}const b0=Symbol("_leaveCb");function cd(t,e){t.shapeFlag&6&&t.component?(t.transition=e,cd(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function cl(t,e){return oe(t)?Et({name:t.name},e,{setup:t}):t}function gb(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const va=new WeakMap;function Er(t,e,n,s,i=!1){if(se(t)){t.forEach((g,p)=>Er(g,e&&(se(e)?e[p]:e),n,s,i));return}if(Sr(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Er(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?fl(s.component):s.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===ke?a.refs={}:a.refs,d=a.setupState,h=ve(d),f=d===ke?Pm:g=>Se(h,g);if(c!=null&&c!==l){if(Dh(e),Qe(c))u[c]=null,f(c)&&(d[c]=null);else if(Ye(c)){c.value=null;const g=e;g.k&&(u[g.k]=null)}}if(oe(l))uo(l,a,12,[o,u]);else{const g=Qe(l),p=Ye(l);if(g||p){const m=()=>{if(t.f){const b=g?f(l)?d[l]:u[l]:l.value;if(i)se(b)&&Zu(b,r);else if(se(b))b.includes(r)||b.push(r);else if(g)u[l]=[r],f(l)&&(d[l]=u[l]);else{const v=[r];l.value=v,t.k&&(u[t.k]=v)}}else g?(u[l]=o,f(l)&&(d[l]=o)):p&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const b=()=>{m(),va.delete(t)};b.id=-1,va.set(t,b),xt(b,n)}else Dh(t),m()}}}function Dh(t){const e=va.get(t);e&&(e.flags|=8,va.delete(t))}il().requestIdleCallback;il().cancelIdleCallback;const Sr=t=>!!t.type.__asyncLoader,pb=t=>t.type.__isKeepAlive;function v0(t,e){mb(t,"a",e)}function y0(t,e){mb(t,"da",e)}function mb(t,e,n=vt){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(ul(e,s,n),n){let i=n.parent;for(;i&&i.parent;)pb(i.parent.vnode)&&_0(s,e,n,i),i=i.parent}}function _0(t,e,n,s){const i=ul(e,t,s,!0);bb(()=>{Zu(s[e],i)},n)}function ul(t,e,n=vt,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Hn();const a=fo(n),l=An(e,n,t,o);return a(),$n(),l});return s?i.unshift(r):i.push(r),r}}const zn=t=>(e,n=vt)=>{(!Vr||t==="sp")&&ul(t,(...s)=>e(...s),n)},w0=zn("bm"),Ji=zn("m"),E0=zn("bu"),S0=zn("u"),A0=zn("bum"),bb=zn("um"),x0=zn("sp"),R0=zn("rtg"),C0=zn("rtc");function T0(t,e=vt){ul("ec",t,e)}const k0="components";function Xs(t,e){return O0(k0,t,!0,e)||t}const D0=Symbol.for("v-ndc");function O0(t,e,n=!0,s=!1){const i=Vt||vt;if(i){const r=i.type;{const a=yE(r,!1);if(a&&(a===e||a===Xt(e)||a===nl(Xt(e))))return r}const o=Oh(i[t]||r[t],e)||Oh(i.appContext[t],e);return!o&&s?r:o}}function Oh(t,e){return t&&(t[e]||t[Xt(e)]||t[nl(Xt(e))])}function ya(t,e,n,s){let i;const r=n,o=se(t);if(o||Qe(t)){const a=o&&Fn(t);let l=!1,c=!1;a&&(l=!qt(t),c=Vn(t),t=ol(t)),i=new Array(t.length);for(let u=0,d=t.length;u<d;u++)i[u]=e(l?c?Fi(on(t[u])):on(t[u]):t[u],u,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r)}else if(De(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,r)}}else i=[];return i}const eu=t=>t?jb(t)?fl(t):eu(t.parent):null,Ar=Et(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>eu(t.parent),$root:t=>eu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>yb(t),$forceUpdate:t=>t.f||(t.f=()=>{ld(t.update)}),$nextTick:t=>t.n||(t.n=ho.bind(t.proxy)),$watch:t=>V0.bind(t)}),Yl=(t,e)=>t!==ke&&!t.__isScriptSetup&&Se(t,e),P0={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=t;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(Yl(s,e))return o[e]=1,s[e];if(i!==ke&&Se(i,e))return o[e]=2,i[e];if(Se(r,e))return o[e]=3,r[e];if(n!==ke&&Se(n,e))return o[e]=4,n[e];tu&&(o[e]=0)}}const c=Ar[e];let u,d;if(c)return e==="$attrs"&&mt(t.attrs,"get",""),c(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(n!==ke&&Se(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,Se(d,e))return d[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return Yl(i,e)?(i[e]=n,!0):s!==ke&&Se(s,e)?(s[e]=n,!0):Se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,props:r,type:o}},a){let l;return!!(n[a]||t!==ke&&a[0]!=="$"&&Se(t,a)||Yl(e,a)||Se(r,a)||Se(s,a)||Se(Ar,a)||Se(i.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Se(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ph(t){return se(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let tu=!0;function M0(t){const e=yb(t),n=t.proxy,s=t.ctx;tu=!1,e.beforeCreate&&Mh(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:g,activated:p,deactivated:m,beforeDestroy:b,beforeUnmount:v,destroyed:y,unmounted:_,render:S,renderTracked:T,renderTriggered:x,errorCaptured:A,serverPrefetch:k,expose:B,inheritAttrs:W,components:G,directives:ce,filters:Ae}=e;if(c&&I0(c,s,null),o)for(const z in o){const Z=o[z];oe(Z)&&(s[z]=Z.bind(n))}if(i){const z=i.call(n,n);De(z)&&(t.data=co(z))}if(tu=!0,r)for(const z in r){const Z=r[z],xe=oe(Z)?Z.bind(n,n):oe(Z.get)?Z.get.bind(n,n):_n,lt=!oe(Z)&&oe(Z.set)?Z.set.bind(n):_n,Le=Ve({get:xe,set:lt});Object.defineProperty(s,z,{enumerable:!0,configurable:!0,get:()=>Le.value,set:Te=>Le.value=Te})}if(a)for(const z in a)vb(a[z],s,n,z);if(l){const z=oe(l)?l.call(n):l;Reflect.ownKeys(z).forEach(Z=>{ta(Z,z[Z])})}u&&Mh(u,t,"c");function K(z,Z){se(Z)?Z.forEach(xe=>z(xe.bind(n))):Z&&z(Z.bind(n))}if(K(w0,d),K(Ji,h),K(E0,f),K(S0,g),K(v0,p),K(y0,m),K(T0,A),K(C0,T),K(R0,x),K(A0,v),K(bb,_),K(x0,k),se(B))if(B.length){const z=t.exposed||(t.exposed={});B.forEach(Z=>{Object.defineProperty(z,Z,{get:()=>n[Z],set:xe=>n[Z]=xe,enumerable:!0})})}else t.exposed||(t.exposed={});S&&t.render===_n&&(t.render=S),W!=null&&(t.inheritAttrs=W),G&&(t.components=G),ce&&(t.directives=ce),k&&gb(t)}function I0(t,e,n=_n){se(t)&&(t=nu(t));for(const s in t){const i=t[s];let r;De(i)?"default"in i?r=Qt(i.from||s,i.default,!0):r=Qt(i.from||s):r=Qt(i),Ye(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Mh(t,e,n){An(se(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function vb(t,e,n,s){let i=s.includes(".")?Eb(n,s):()=>n[s];if(Qe(t)){const r=e[t];oe(r)&&Pi(i,r)}else if(oe(t))Pi(i,t.bind(n));else if(De(t))if(se(t))t.forEach(r=>vb(r,e,n,s));else{const r=oe(t.handler)?t.handler.bind(n):e[t.handler];oe(r)&&Pi(i,r,t)}}function yb(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>_a(l,c,o,!0)),_a(l,e,o)),De(e)&&r.set(e,l),l}function _a(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&_a(t,r,n,!0),i&&i.forEach(o=>_a(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=N0[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const N0={data:Ih,props:Nh,emits:Nh,methods:hr,computed:hr,beforeCreate:At,created:At,beforeMount:At,mounted:At,beforeUpdate:At,updated:At,beforeDestroy:At,beforeUnmount:At,destroyed:At,unmounted:At,activated:At,deactivated:At,errorCaptured:At,serverPrefetch:At,components:hr,directives:hr,watch:j0,provide:Ih,inject:L0};function Ih(t,e){return e?t?function(){return Et(oe(t)?t.call(this,this):t,oe(e)?e.call(this,this):e)}:e:t}function L0(t,e){return hr(nu(t),nu(e))}function nu(t){if(se(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function At(t,e){return t?[...new Set([].concat(t,e))]:e}function hr(t,e){return t?Et(Object.create(null),t,e):e}function Nh(t,e){return t?se(t)&&se(e)?[...new Set([...t,...e])]:Et(Object.create(null),Ph(t),Ph(e??{})):e}function j0(t,e){if(!t)return e;if(!e)return t;const n=Et(Object.create(null),t);for(const s in e)n[s]=At(t[s],e[s]);return n}function _b(){return{app:null,config:{isNativeTag:Pm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let B0=0;function F0(t,e){return function(s,i=null){oe(s)||(s=Et({},s)),i!=null&&!De(i)&&(i=null);const r=_b(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:B0++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:wE,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&oe(u.install)?(o.add(u),u.install(c,...d)):oe(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,h){if(!l){const f=c._ceVNode||ge(s,i);return f.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),t(f,u,h),l=!0,c._container=u,u.__vue_app__=c,fl(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(An(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=Gs;Gs=c;try{return u()}finally{Gs=d}}};return c}}let Gs=null;function ta(t,e){if(vt){let n=vt.provides;const s=vt.parent&&vt.parent.provides;s===n&&(n=vt.provides=Object.create(s)),n[t]=e}}function Qt(t,e,n=!1){const s=Lb();if(s||Gs){let i=Gs?Gs._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&oe(e)?e.call(s&&s.proxy):e}}function U0(){return!!(Lb()||Gs)}const H0=Symbol.for("v-scx"),$0=()=>Qt(H0);function Pi(t,e,n){return wb(t,e,n)}function wb(t,e,n=ke){const{immediate:s,deep:i,flush:r,once:o}=n,a=Et({},n),l=e&&s||!e&&r!=="post";let c;if(Vr){if(r==="sync"){const f=$0();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=_n,f.resume=_n,f.pause=_n,f}}const u=vt;a.call=(f,g,p)=>An(f,u,g,p);let d=!1;r==="post"?a.scheduler=f=>{xt(f,u&&u.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(f,g)=>{g?f():ld(f)}),a.augmentJob=f=>{e&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=u0(t,e,a);return Vr&&(c?c.push(h):l&&h()),h}function V0(t,e,n){const s=this.proxy,i=Qe(t)?t.includes(".")?Eb(s,t):()=>s[t]:t.bind(s,s);let r;oe(e)?r=e:(r=e.handler,n=e);const o=fo(this),a=wb(i,r.bind(s),n);return o(),a}function Eb(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}const W0=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Xt(e)}Modifiers`]||t[`${ii(e)}Modifiers`];function z0(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||ke;let i=n;const r=e.startsWith("update:"),o=r&&W0(s,e.slice(7));o&&(o.trim&&(i=n.map(u=>Qe(u)?u.trim():u)),o.number&&(i=n.map(sl)));let a,l=s[a=Wl(e)]||s[a=Wl(Xt(e))];!l&&r&&(l=s[a=Wl(ii(e))]),l&&An(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,An(c,t,6,i)}}const q0=new WeakMap;function Sb(t,e,n=!1){const s=n?q0:e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!oe(t)){const l=c=>{const u=Sb(c,e,!0);u&&(a=!0,Et(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(De(t)&&s.set(t,null),null):(se(r)?r.forEach(l=>o[l]=null):Et(o,r),De(t)&&s.set(t,o),o)}function dl(t,e){return!t||!Xa(e)?!1:(e=e.slice(2).replace(/Once$/,""),Se(t,e[0].toLowerCase()+e.slice(1))||Se(t,ii(e))||Se(t,e))}function Lh(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:g,inheritAttrs:p}=t,m=ba(t);let b,v;try{if(n.shapeFlag&4){const _=i||s,S=_;b=vn(c.call(S,_,u,d,f,h,g)),v=a}else{const _=e;b=vn(_.length>1?_(d,{attrs:a,slots:o,emit:l}):_(d,null)),v=e.props?a:G0(a)}}catch(_){xr.length=0,ll(_,t,1),b=ge(gs)}let y=b;if(v&&p!==!1){const _=Object.keys(v),{shapeFlag:S}=y;_.length&&S&7&&(r&&_.some(Xu)&&(v=K0(v,r)),y=Ui(y,v,!1,!0))}return n.dirs&&(y=Ui(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&cd(y,n.transition),b=y,ba(m),b}const G0=t=>{let e;for(const n in t)(n==="class"||n==="style"||Xa(n))&&((e||(e={}))[n]=t[n]);return e},K0=(t,e)=>{const n={};for(const s in t)(!Xu(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Y0(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?jh(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==s[h]&&!dl(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?jh(s,o,c):!0:!!o;return!1}function jh(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!dl(n,r))return!0}return!1}function J0({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ab={},xb=()=>Object.create(Ab),Rb=t=>Object.getPrototypeOf(t)===Ab;function Q0(t,e,n,s=!1){const i={},r=xb();t.propsDefaults=Object.create(null),Cb(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:sb(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function X0(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=ve(i),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(dl(t.emitsOptions,h))continue;const f=e[h];if(l)if(Se(r,h))f!==r[h]&&(r[h]=f,c=!0);else{const g=Xt(h);i[g]=su(l,a,g,f,t,!1)}else f!==r[h]&&(r[h]=f,c=!0)}}}else{Cb(t,e,i,r)&&(c=!0);let u;for(const d in a)(!e||!Se(e,d)&&((u=ii(d))===d||!Se(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=su(l,a,d,void 0,t,!0)):delete i[d]);if(r!==a)for(const d in r)(!e||!Se(e,d))&&(delete r[d],c=!0)}c&&In(t.attrs,"set","")}function Cb(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(vr(l))continue;const c=e[l];let u;i&&Se(i,u=Xt(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:dl(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=ve(n),c=a||ke;for(let u=0;u<r.length;u++){const d=r[u];n[d]=su(i,l,d,c[d],t,!Se(c,d))}}return o}function su(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=Se(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&oe(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=fo(i);s=c[n]=l.call(null,e),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===ii(n))&&(s=!0))}return s}const Z0=new WeakMap;function Tb(t,e,n=!1){const s=n?Z0:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!oe(t)){const u=d=>{l=!0;const[h,f]=Tb(d,e,!0);Et(o,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return De(t)&&s.set(t,ki),ki;if(se(r))for(let u=0;u<r.length;u++){const d=Xt(r[u]);Bh(d)&&(o[d]=ke)}else if(r)for(const u in r){const d=Xt(u);if(Bh(d)){const h=r[u],f=o[d]=se(h)||oe(h)?{type:h}:Et({},h),g=f.type;let p=!1,m=!0;if(se(g))for(let b=0;b<g.length;++b){const v=g[b],y=oe(v)&&v.name;if(y==="Boolean"){p=!0;break}else y==="String"&&(m=!1)}else p=oe(g)&&g.name==="Boolean";f[0]=p,f[1]=m,(p||Se(f,"default"))&&a.push(d)}}const c=[o,a];return De(t)&&s.set(t,c),c}function Bh(t){return t[0]!=="$"&&!vr(t)}const ud=t=>t==="_"||t==="_ctx"||t==="$stable",dd=t=>se(t)?t.map(vn):[vn(t)],eE=(t,e,n)=>{if(e._n)return e;const s=Un((...i)=>dd(e(...i)),n);return s._c=!1,s},kb=(t,e,n)=>{const s=t._ctx;for(const i in t){if(ud(i))continue;const r=t[i];if(oe(r))e[i]=eE(i,r,s);else if(r!=null){const o=dd(r);e[i]=()=>o}}},Db=(t,e)=>{const n=dd(e);t.slots.default=()=>n},Ob=(t,e,n)=>{for(const s in e)(n||!ud(s))&&(t[s]=e[s])},tE=(t,e,n)=>{const s=t.slots=xb();if(t.vnode.shapeFlag&32){const i=e._;i?(Ob(s,e,n),n&&Lm(s,"_",i,!0)):kb(e,s)}else e&&Db(t,e)},nE=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=ke;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:Ob(i,e,n):(r=!e.$stable,kb(e,i)),o=e}else e&&(Db(t,e),o={default:1});if(r)for(const a in i)!ud(a)&&o[a]==null&&delete i[a]},xt=aE;function sE(t){return iE(t)}function iE(t,e){const n=il();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=_n,insertStaticContent:g}=t,p=(w,E,R,I=null,L=null,M=null,H=void 0,U=null,F=!!E.dynamicChildren)=>{if(w===E)return;w&&!ir(w,E)&&(I=N(w),Te(w,L,M,!0),w=null),E.patchFlag===-2&&(F=!1,E.dynamicChildren=null);const{type:j,ref:ee,shapeFlag:V}=E;switch(j){case hl:m(w,E,R,I);break;case gs:b(w,E,R,I);break;case Ql:w==null&&v(E,R,I,H);break;case bt:G(w,E,R,I,L,M,H,U,F);break;default:V&1?S(w,E,R,I,L,M,H,U,F):V&6?ce(w,E,R,I,L,M,H,U,F):(V&64||V&128)&&j.process(w,E,R,I,L,M,H,U,F,J)}ee!=null&&L?Er(ee,w&&w.ref,M,E||w,!E):ee==null&&w&&w.ref!=null&&Er(w.ref,null,M,w,!0)},m=(w,E,R,I)=>{if(w==null)s(E.el=a(E.children),R,I);else{const L=E.el=w.el;E.children!==w.children&&c(L,E.children)}},b=(w,E,R,I)=>{w==null?s(E.el=l(E.children||""),R,I):E.el=w.el},v=(w,E,R,I)=>{[w.el,w.anchor]=g(w.children,E,R,I,w.el,w.anchor)},y=({el:w,anchor:E},R,I)=>{let L;for(;w&&w!==E;)L=h(w),s(w,R,I),w=L;s(E,R,I)},_=({el:w,anchor:E})=>{let R;for(;w&&w!==E;)R=h(w),i(w),w=R;i(E)},S=(w,E,R,I,L,M,H,U,F)=>{if(E.type==="svg"?H="svg":E.type==="math"&&(H="mathml"),w==null)T(E,R,I,L,M,H,U,F);else{const j=w.el&&w.el._isVueCE?w.el:null;try{j&&j._beginPatch(),k(w,E,L,M,H,U,F)}finally{j&&j._endPatch()}}},T=(w,E,R,I,L,M,H,U)=>{let F,j;const{props:ee,shapeFlag:V,transition:Q,dirs:ie}=w;if(F=w.el=o(w.type,M,ee&&ee.is,ee),V&8?u(F,w.children):V&16&&A(w.children,F,null,I,L,Jl(w,M),H,U),ie&&As(w,null,I,"created"),x(F,w,w.scopeId,H,I),ee){for(const Oe in ee)Oe!=="value"&&!vr(Oe)&&r(F,Oe,null,ee[Oe],M,I);"value"in ee&&r(F,"value",null,ee.value,M),(j=ee.onVnodeBeforeMount)&&fn(j,I,w)}ie&&As(w,null,I,"beforeMount");const me=rE(L,Q);me&&Q.beforeEnter(F),s(F,E,R),((j=ee&&ee.onVnodeMounted)||me||ie)&&xt(()=>{j&&fn(j,I,w),me&&Q.enter(F),ie&&As(w,null,I,"mounted")},L)},x=(w,E,R,I,L)=>{if(R&&f(w,R),I)for(let M=0;M<I.length;M++)f(w,I[M]);if(L){let M=L.subTree;if(E===M||Mb(M.type)&&(M.ssContent===E||M.ssFallback===E)){const H=L.vnode;x(w,H,H.scopeId,H.slotScopeIds,L.parent)}}},A=(w,E,R,I,L,M,H,U,F=0)=>{for(let j=F;j<w.length;j++){const ee=w[j]=U?Zn(w[j]):vn(w[j]);p(null,ee,E,R,I,L,M,H,U)}},k=(w,E,R,I,L,M,H)=>{const U=E.el=w.el;let{patchFlag:F,dynamicChildren:j,dirs:ee}=E;F|=w.patchFlag&16;const V=w.props||ke,Q=E.props||ke;let ie;if(R&&xs(R,!1),(ie=Q.onVnodeBeforeUpdate)&&fn(ie,R,E,w),ee&&As(E,w,R,"beforeUpdate"),R&&xs(R,!0),(V.innerHTML&&Q.innerHTML==null||V.textContent&&Q.textContent==null)&&u(U,""),j?B(w.dynamicChildren,j,U,R,I,Jl(E,L),M):H||Z(w,E,U,null,R,I,Jl(E,L),M,!1),F>0){if(F&16)W(U,V,Q,R,L);else if(F&2&&V.class!==Q.class&&r(U,"class",null,Q.class,L),F&4&&r(U,"style",V.style,Q.style,L),F&8){const me=E.dynamicProps;for(let Oe=0;Oe<me.length;Oe++){const Re=me[Oe],Tt=V[Re],kt=Q[Re];(kt!==Tt||Re==="value")&&r(U,Re,Tt,kt,L,R)}}F&1&&w.children!==E.children&&u(U,E.children)}else!H&&j==null&&W(U,V,Q,R,L);((ie=Q.onVnodeUpdated)||ee)&&xt(()=>{ie&&fn(ie,R,E,w),ee&&As(E,w,R,"updated")},I)},B=(w,E,R,I,L,M,H)=>{for(let U=0;U<E.length;U++){const F=w[U],j=E[U],ee=F.el&&(F.type===bt||!ir(F,j)||F.shapeFlag&198)?d(F.el):R;p(F,j,ee,null,I,L,M,H,!0)}},W=(w,E,R,I,L)=>{if(E!==R){if(E!==ke)for(const M in E)!vr(M)&&!(M in R)&&r(w,M,E[M],null,L,I);for(const M in R){if(vr(M))continue;const H=R[M],U=E[M];H!==U&&M!=="value"&&r(w,M,U,H,L,I)}"value"in R&&r(w,"value",E.value,R.value,L)}},G=(w,E,R,I,L,M,H,U,F)=>{const j=E.el=w?w.el:a(""),ee=E.anchor=w?w.anchor:a("");let{patchFlag:V,dynamicChildren:Q,slotScopeIds:ie}=E;ie&&(U=U?U.concat(ie):ie),w==null?(s(j,R,I),s(ee,R,I),A(E.children||[],R,ee,L,M,H,U,F)):V>0&&V&64&&Q&&w.dynamicChildren?(B(w.dynamicChildren,Q,R,L,M,H,U),(E.key!=null||L&&E===L.subTree)&&hd(w,E,!0)):Z(w,E,R,ee,L,M,H,U,F)},ce=(w,E,R,I,L,M,H,U,F)=>{E.slotScopeIds=U,w==null?E.shapeFlag&512?L.ctx.activate(E,R,I,H,F):Ae(E,R,I,L,M,H,F):le(w,E,F)},Ae=(w,E,R,I,L,M,H)=>{const U=w.component=gE(w,I,L);if(pb(w)&&(U.ctx.renderer=J),pE(U,!1,H),U.asyncDep){if(L&&L.registerDep(U,K,H),!w.el){const F=U.subTree=ge(gs);b(null,F,E,R),w.placeholder=F.el}}else K(U,w,E,R,L,M,H)},le=(w,E,R)=>{const I=E.component=w.component;if(Y0(w,E,R))if(I.asyncDep&&!I.asyncResolved){z(I,E,R);return}else I.next=E,I.update();else E.el=w.el,I.vnode=E},K=(w,E,R,I,L,M,H)=>{const U=()=>{if(w.isMounted){let{next:V,bu:Q,u:ie,parent:me,vnode:Oe}=w;{const dn=Pb(w);if(dn){V&&(V.el=Oe.el,z(w,V,H)),dn.asyncDep.then(()=>{w.isUnmounted||U()});return}}let Re=V,Tt;xs(w,!1),V?(V.el=Oe.el,z(w,V,H)):V=Oe,Q&&Zo(Q),(Tt=V.props&&V.props.onVnodeBeforeUpdate)&&fn(Tt,me,V,Oe),xs(w,!0);const kt=Lh(w),un=w.subTree;w.subTree=kt,p(un,kt,d(un.el),N(un),w,L,M),V.el=kt.el,Re===null&&J0(w,kt.el),ie&&xt(ie,L),(Tt=V.props&&V.props.onVnodeUpdated)&&xt(()=>fn(Tt,me,V,Oe),L)}else{let V;const{el:Q,props:ie}=E,{bm:me,m:Oe,parent:Re,root:Tt,type:kt}=w,un=Sr(E);xs(w,!1),me&&Zo(me),!un&&(V=ie&&ie.onVnodeBeforeMount)&&fn(V,Re,E),xs(w,!0);{Tt.ce&&Tt.ce._def.shadowRoot!==!1&&Tt.ce._injectChildStyle(kt);const dn=w.subTree=Lh(w);p(null,dn,R,I,w,L,M),E.el=dn.el}if(Oe&&xt(Oe,L),!un&&(V=ie&&ie.onVnodeMounted)){const dn=E;xt(()=>fn(V,Re,dn),L)}(E.shapeFlag&256||Re&&Sr(Re.vnode)&&Re.vnode.shapeFlag&256)&&w.a&&xt(w.a,L),w.isMounted=!0,E=R=I=null}};w.scope.on();const F=w.effect=new Vm(U);w.scope.off();const j=w.update=F.run.bind(F),ee=w.job=F.runIfDirty.bind(F);ee.i=w,ee.id=w.uid,F.scheduler=()=>ld(ee),xs(w,!0),j()},z=(w,E,R)=>{E.component=w;const I=w.vnode.props;w.vnode=E,w.next=null,X0(w,E.props,I,R),nE(w,E.children,R),Hn(),Rh(w),$n()},Z=(w,E,R,I,L,M,H,U,F=!1)=>{const j=w&&w.children,ee=w?w.shapeFlag:0,V=E.children,{patchFlag:Q,shapeFlag:ie}=E;if(Q>0){if(Q&128){lt(j,V,R,I,L,M,H,U,F);return}else if(Q&256){xe(j,V,R,I,L,M,H,U,F);return}}ie&8?(ee&16&&Ze(j,L,M),V!==j&&u(R,V)):ee&16?ie&16?lt(j,V,R,I,L,M,H,U,F):Ze(j,L,M,!0):(ee&8&&u(R,""),ie&16&&A(V,R,I,L,M,H,U,F))},xe=(w,E,R,I,L,M,H,U,F)=>{w=w||ki,E=E||ki;const j=w.length,ee=E.length,V=Math.min(j,ee);let Q;for(Q=0;Q<V;Q++){const ie=E[Q]=F?Zn(E[Q]):vn(E[Q]);p(w[Q],ie,R,null,L,M,H,U,F)}j>ee?Ze(w,L,M,!0,!1,V):A(E,R,I,L,M,H,U,F,V)},lt=(w,E,R,I,L,M,H,U,F)=>{let j=0;const ee=E.length;let V=w.length-1,Q=ee-1;for(;j<=V&&j<=Q;){const ie=w[j],me=E[j]=F?Zn(E[j]):vn(E[j]);if(ir(ie,me))p(ie,me,R,null,L,M,H,U,F);else break;j++}for(;j<=V&&j<=Q;){const ie=w[V],me=E[Q]=F?Zn(E[Q]):vn(E[Q]);if(ir(ie,me))p(ie,me,R,null,L,M,H,U,F);else break;V--,Q--}if(j>V){if(j<=Q){const ie=Q+1,me=ie<ee?E[ie].el:I;for(;j<=Q;)p(null,E[j]=F?Zn(E[j]):vn(E[j]),R,me,L,M,H,U,F),j++}}else if(j>Q)for(;j<=V;)Te(w[j],L,M,!0),j++;else{const ie=j,me=j,Oe=new Map;for(j=me;j<=Q;j++){const jt=E[j]=F?Zn(E[j]):vn(E[j]);jt.key!=null&&Oe.set(jt.key,j)}let Re,Tt=0;const kt=Q-me+1;let un=!1,dn=0;const nr=new Array(kt);for(j=0;j<kt;j++)nr[j]=0;for(j=ie;j<=V;j++){const jt=w[j];if(Tt>=kt){Te(jt,L,M,!0);continue}let hn;if(jt.key!=null)hn=Oe.get(jt.key);else for(Re=me;Re<=Q;Re++)if(nr[Re-me]===0&&ir(jt,E[Re])){hn=Re;break}hn===void 0?Te(jt,L,M,!0):(nr[hn-me]=j+1,hn>=dn?dn=hn:un=!0,p(jt,E[hn],R,null,L,M,H,U,F),Tt++)}const yh=un?oE(nr):ki;for(Re=yh.length-1,j=kt-1;j>=0;j--){const jt=me+j,hn=E[jt],_h=E[jt+1],wh=jt+1<ee?_h.el||_h.placeholder:I;nr[j]===0?p(null,hn,R,wh,L,M,H,U,F):un&&(Re<0||j!==yh[Re]?Le(hn,R,wh,2):Re--)}}},Le=(w,E,R,I,L=null)=>{const{el:M,type:H,transition:U,children:F,shapeFlag:j}=w;if(j&6){Le(w.component.subTree,E,R,I);return}if(j&128){w.suspense.move(E,R,I);return}if(j&64){H.move(w,E,R,J);return}if(H===bt){s(M,E,R);for(let V=0;V<F.length;V++)Le(F[V],E,R,I);s(w.anchor,E,R);return}if(H===Ql){y(w,E,R);return}if(I!==2&&j&1&&U)if(I===0)U.beforeEnter(M),s(M,E,R),xt(()=>U.enter(M),L);else{const{leave:V,delayLeave:Q,afterLeave:ie}=U,me=()=>{w.ctx.isUnmounted?i(M):s(M,E,R)},Oe=()=>{M._isLeaving&&M[b0](!0),V(M,()=>{me(),ie&&ie()})};Q?Q(M,me,Oe):Oe()}else s(M,E,R)},Te=(w,E,R,I=!1,L=!1)=>{const{type:M,props:H,ref:U,children:F,dynamicChildren:j,shapeFlag:ee,patchFlag:V,dirs:Q,cacheIndex:ie}=w;if(V===-2&&(L=!1),U!=null&&(Hn(),Er(U,null,R,w,!0),$n()),ie!=null&&(E.renderCache[ie]=void 0),ee&256){E.ctx.deactivate(w);return}const me=ee&1&&Q,Oe=!Sr(w);let Re;if(Oe&&(Re=H&&H.onVnodeBeforeUnmount)&&fn(Re,E,w),ee&6)ht(w.component,R,I);else{if(ee&128){w.suspense.unmount(R,I);return}me&&As(w,null,E,"beforeUnmount"),ee&64?w.type.remove(w,E,R,J,I):j&&!j.hasOnce&&(M!==bt||V>0&&V&64)?Ze(j,E,R,!1,!0):(M===bt&&V&384||!L&&ee&16)&&Ze(F,E,R),I&&dt(w)}(Oe&&(Re=H&&H.onVnodeUnmounted)||me)&&xt(()=>{Re&&fn(Re,E,w),me&&As(w,null,E,"unmounted")},R)},dt=w=>{const{type:E,el:R,anchor:I,transition:L}=w;if(E===bt){tt(R,I);return}if(E===Ql){_(w);return}const M=()=>{i(R),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(w.shapeFlag&1&&L&&!L.persisted){const{leave:H,delayLeave:U}=L,F=()=>H(R,M);U?U(w.el,M,F):F()}else M()},tt=(w,E)=>{let R;for(;w!==E;)R=h(w),i(w),w=R;i(E)},ht=(w,E,R)=>{const{bum:I,scope:L,job:M,subTree:H,um:U,m:F,a:j}=w;Fh(F),Fh(j),I&&Zo(I),L.stop(),M&&(M.flags|=8,Te(H,w,E,R)),U&&xt(U,E),xt(()=>{w.isUnmounted=!0},E)},Ze=(w,E,R,I=!1,L=!1,M=0)=>{for(let H=M;H<w.length;H++)Te(w[H],E,R,I,L)},N=w=>{if(w.shapeFlag&6)return N(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const E=h(w.anchor||w.el),R=E&&E[db];return R?h(R):E};let q=!1;const $=(w,E,R)=>{w==null?E._vnode&&Te(E._vnode,null,null,!0):p(E._vnode||null,w,E,null,null,null,R),E._vnode=w,q||(q=!0,Rh(),lb(),q=!1)},J={p,um:Te,m:Le,r:dt,mt:Ae,mc:A,pc:Z,pbc:B,n:N,o:t};return{render:$,hydrate:void 0,createApp:F0($)}}function Jl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function xs({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function rE(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function hd(t,e,n=!1){const s=t.children,i=e.children;if(se(s)&&se(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Zn(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&hd(o,a)),a.type===hl&&a.patchFlag!==-1&&(a.el=o.el),a.type===gs&&!a.el&&(a.el=o.el)}}function oE(t){const e=t.slice(),n=[0];let s,i,r,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function Pb(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Pb(e)}function Fh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Mb=t=>t.__isSuspense;function aE(t,e){e&&e.pendingBranch?se(t)?e.effects.push(...t):e.effects.push(t):f0(t)}const bt=Symbol.for("v-fgt"),hl=Symbol.for("v-txt"),gs=Symbol.for("v-cmt"),Ql=Symbol.for("v-stc"),xr=[];let zt=null;function he(t=!1){xr.push(zt=t?null:[])}function lE(){xr.pop(),zt=xr[xr.length-1]||null}let $r=1;function wa(t,e=!1){$r+=t,t<0&&zt&&e&&(zt.hasOnce=!0)}function Ib(t){return t.dynamicChildren=$r>0?zt||ki:null,lE(),$r>0&&zt&&zt.push(t),t}function be(t,e,n,s,i,r){return Ib(C(t,e,n,s,i,r,!0))}function fd(t,e,n,s,i){return Ib(ge(t,e,n,s,i,!0))}function Ea(t){return t?t.__v_isVNode===!0:!1}function ir(t,e){return t.type===e.type&&t.key===e.key}const Nb=({key:t})=>t??null,na=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Qe(t)||Ye(t)||oe(t)?{i:Vt,r:t,k:e,f:!!n}:t:null);function C(t,e=null,n=null,s=0,i=null,r=t===bt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Nb(e),ref:e&&na(e),scopeId:ub,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Vt};return a?(gd(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=Qe(n)?8:16),$r>0&&!o&&zt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&zt.push(l),l}const ge=cE;function cE(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===D0)&&(t=gs),Ea(t)){const a=Ui(t,e,!0);return n&&gd(a,n),$r>0&&!r&&zt&&(a.shapeFlag&6?zt[zt.indexOf(t)]=a:zt.push(a)),a.patchFlag=-2,a}if(_E(t)&&(t=t.__vccOpts),e){e=uE(e);let{class:a,style:l}=e;a&&!Qe(a)&&(e.class=Ut(a)),De(l)&&(al(l)&&!se(l)&&(l=Et({},l)),e.style=ed(l))}const o=Qe(t)?1:Mb(t)?128:g0(t)?64:De(t)?4:oe(t)?2:0;return C(t,e,n,s,i,o,r,!0)}function uE(t){return t?al(t)||Rb(t)?Et({},t):t:null}function Ui(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?dE(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Nb(c),ref:e&&e.ref?n&&r?se(r)?r.concat(na(e)):[r,na(e)]:na(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==bt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ui(t.ssContent),ssFallback:t.ssFallback&&Ui(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&cd(u,l.clone(u)),u}function It(t=" ",e=0){return ge(hl,null,t,e)}function Gt(t="",e=!1){return e?(he(),fd(gs,null,t)):ge(gs,null,t)}function vn(t){return t==null||typeof t=="boolean"?ge(gs):se(t)?ge(bt,null,t.slice()):Ea(t)?Zn(t):ge(hl,null,String(t))}function Zn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ui(t)}function gd(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(se(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),gd(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Rb(e)?e._ctx=Vt:i===3&&Vt&&(Vt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else oe(e)?(e={default:e,_ctx:Vt},n=32):(e=String(e),s&64?(n=16,e=[It(e)]):n=8);t.children=e,t.shapeFlag|=n}function dE(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Ut([e.class,s.class]));else if(i==="style")e.style=ed([e.style,s.style]);else if(Xa(i)){const r=e[i],o=s[i];o&&r!==o&&!(se(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function fn(t,e,n,s=null){An(t,e,7,[n,s])}const hE=_b();let fE=0;function gE(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||hE,r={uid:fE++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Um(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Tb(s,i),emitsOptions:Sb(s,i),emit:null,emitted:null,propsDefaults:ke,inheritAttrs:s.inheritAttrs,ctx:ke,data:ke,props:ke,attrs:ke,slots:ke,refs:ke,setupState:ke,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=z0.bind(null,r),t.ce&&t.ce(r),r}let vt=null;const Lb=()=>vt||Vt;let Sa,iu;{const t=il(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};Sa=e("__VUE_INSTANCE_SETTERS__",n=>vt=n),iu=e("__VUE_SSR_SETTERS__",n=>Vr=n)}const fo=t=>{const e=vt;return Sa(t),t.scope.on(),()=>{t.scope.off(),Sa(e)}},Uh=()=>{vt&&vt.scope.off(),Sa(null)};function jb(t){return t.vnode.shapeFlag&4}let Vr=!1;function pE(t,e=!1,n=!1){e&&iu(e);const{props:s,children:i}=t.vnode,r=jb(t);Q0(t,s,r,e),tE(t,i,n||e);const o=r?mE(t,e):void 0;return e&&iu(!1),o}function mE(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,P0);const{setup:s}=n;if(s){Hn();const i=t.setupContext=s.length>1?vE(t):null,r=fo(t),o=uo(s,t,0,[t.props,i]),a=Mm(o);if($n(),r(),(a||t.sp)&&!Sr(t)&&gb(t),a){if(o.then(Uh,Uh),e)return o.then(l=>{Hh(t,l)}).catch(l=>{ll(l,t,0)});t.asyncDep=o}else Hh(t,o)}else Bb(t)}function Hh(t,e,n){oe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:De(e)&&(t.setupState=rb(e)),Bb(t)}function Bb(t,e,n){const s=t.type;t.render||(t.render=s.render||_n);{const i=fo(t);Hn();try{M0(t)}finally{$n(),i()}}}const bE={get(t,e){return mt(t,"get",""),t[e]}};function vE(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,bE),slots:t.slots,emit:t.emit,expose:e}}function fl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(rb(ad(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ar)return Ar[n](t)},has(e,n){return n in e||n in Ar}})):t.proxy}function yE(t,e=!0){return oe(t)?t.displayName||t.name:t.name||e&&t.__name}function _E(t){return oe(t)&&"__vccOpts"in t}const Ve=(t,e)=>l0(t,e,Vr);function Mi(t,e,n){try{wa(-1);const s=arguments.length;return s===2?De(e)&&!se(e)?Ea(e)?ge(t,null,[e]):ge(t,e):ge(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ea(n)&&(n=[n]),ge(t,e,n))}finally{wa(1)}}const wE="3.5.25";let ru;const $h=typeof window<"u"&&window.trustedTypes;if($h)try{ru=$h.createPolicy("vue",{createHTML:t=>t})}catch{}const Fb=ru?t=>ru.createHTML(t):t=>t,EE="http://www.w3.org/2000/svg",SE="http://www.w3.org/1998/Math/MathML",On=typeof document<"u"?document:null,Vh=On&&On.createElement("template"),AE={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?On.createElementNS(EE,t):e==="mathml"?On.createElementNS(SE,t):n?On.createElement(t,{is:n}):On.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>On.createTextNode(t),createComment:t=>On.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>On.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{Vh.innerHTML=Fb(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=Vh.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},xE=Symbol("_vtc");function RE(t,e,n){const s=t[xE];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Wh=Symbol("_vod"),CE=Symbol("_vsh"),TE=Symbol(""),kE=/(?:^|;)\s*display\s*:/;function DE(t,e,n){const s=t.style,i=Qe(n);let r=!1;if(n&&!i){if(e)if(Qe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&sa(s,a,"")}else for(const o in e)n[o]==null&&sa(s,o,"");for(const o in n)o==="display"&&(r=!0),sa(s,o,n[o])}else if(i){if(e!==n){const o=s[TE];o&&(n+=";"+o),s.cssText=n,r=kE.test(n)}}else e&&t.removeAttribute("style");Wh in t&&(t[Wh]=r?s.display:"",t[CE]&&(s.display="none"))}const zh=/\s*!important$/;function sa(t,e,n){if(se(n))n.forEach(s=>sa(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=OE(t,e);zh.test(n)?t.setProperty(ii(s),n.replace(zh,""),"important"):t[s]=n}}const qh=["Webkit","Moz","ms"],Xl={};function OE(t,e){const n=Xl[e];if(n)return n;let s=Xt(e);if(s!=="filter"&&s in t)return Xl[e]=s;s=nl(s);for(let i=0;i<qh.length;i++){const r=qh[i]+s;if(r in t)return Xl[e]=r}return e}const Gh="http://www.w3.org/1999/xlink";function Kh(t,e,n,s,i,r=Pw(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Gh,e.slice(6,e.length)):t.setAttributeNS(Gh,e,n):n==null||r&&!jm(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Sn(n)?String(n):n)}function Yh(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Fb(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=jm(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Bs(t,e,n,s){t.addEventListener(e,n,s)}function PE(t,e,n,s){t.removeEventListener(e,n,s)}const Jh=Symbol("_vei");function ME(t,e,n,s,i=null){const r=t[Jh]||(t[Jh]={}),o=r[e];if(s&&o)o.value=s;else{const[a,l]=IE(e);if(s){const c=r[e]=jE(s,i);Bs(t,a,c,l)}else o&&(PE(t,a,o,l),r[e]=void 0)}}const Qh=/(?:Once|Passive|Capture)$/;function IE(t){let e;if(Qh.test(t)){e={};let s;for(;s=t.match(Qh);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ii(t.slice(2)),e]}let Zl=0;const NE=Promise.resolve(),LE=()=>Zl||(NE.then(()=>Zl=0),Zl=Date.now());function jE(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;An(BE(s,n.value),e,5,[s])};return n.value=t,n.attached=LE(),n}function BE(t,e){if(se(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const Xh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,FE=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?RE(t,s,o):e==="style"?DE(t,n,s):Xa(e)?Xu(e)||ME(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):UE(t,e,s,o))?(Yh(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Kh(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Qe(s))?Yh(t,Xt(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Kh(t,e,s,o))};function UE(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Xh(e)&&oe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Xh(e)&&Qe(n)?!1:e in t}const Aa=t=>{const e=t.props["onUpdate:modelValue"]||!1;return se(e)?n=>Zo(e,n):e};function HE(t){t.target.composing=!0}function Zh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ii=Symbol("_assign");function ef(t,e,n){return e&&(t=t.trim()),n&&(t=sl(t)),t}const wn={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[Ii]=Aa(i);const r=s||i.props&&i.props.type==="number";Bs(t,e?"change":"input",o=>{o.target.composing||t[Ii](ef(t.value,n,r))}),(n||r)&&Bs(t,"change",()=>{t.value=ef(t.value,n,r)}),e||(Bs(t,"compositionstart",HE),Bs(t,"compositionend",Zh),Bs(t,"change",Zh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[Ii]=Aa(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?sl(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===l)||(t.value=l))}},pd={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=Za(e);Bs(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?sl(xa(o)):xa(o));t[Ii](t.multiple?i?new Set(r):r:r[0]),t._assigning=!0,ho(()=>{t._assigning=!1})}),t[Ii]=Aa(s)},mounted(t,{value:e}){tf(t,e)},beforeUpdate(t,e,n){t[Ii]=Aa(n)},updated(t,{value:e}){t._assigning||tf(t,e)}};function tf(t,e){const n=t.multiple,s=se(e);if(!(n&&!s&&!Za(e))){for(let i=0,r=t.options.length;i<r;i++){const o=t.options[i],a=xa(o);if(n)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=Iw(e,a)>-1}else o.selected=e.has(a);else if(rl(xa(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function xa(t){return"_value"in t?t._value:t.value}const $E=["ctrl","shift","alt","meta"],VE={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>$E.some(n=>t[`${n}Key`]&&!e.includes(n))},md=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=((i,...r)=>{for(let o=0;o<e.length;o++){const a=VE[e[o]];if(a&&a(i,e))return}return t(i,...r)}))},WE=Et({patchProp:FE},AE);let nf;function zE(){return nf||(nf=sE(WE))}const qE=((...t)=>{const e=zE().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=KE(s);if(!i)return;const r=e._component;!oe(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,GE(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function GE(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function KE(t){return Qe(t)?document.querySelector(t):t}let Ub;const gl=t=>Ub=t,Hb=Symbol();function ou(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Rr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Rr||(Rr={}));function YE(){const t=Hm(!0),e=t.run(()=>ue({}));let n=[],s=[];const i=ad({install(r){gl(i),i._a=r,r.provide(Hb,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const $b=()=>{};function sf(t,e,n,s=$b){t.add(e);const i=()=>{t.delete(e)&&s()};return!n&&$m()&&Nw(i),i}function hi(t,...e){t.forEach(n=>{n(...e)})}const JE=t=>t(),rf=Symbol(),ec=Symbol();function au(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];ou(i)&&ou(s)&&t.hasOwnProperty(n)&&!Ye(s)&&!Fn(s)?t[n]=au(i,s):t[n]=s}return t}const QE=Symbol();function XE(t){return!ou(t)||!Object.prototype.hasOwnProperty.call(t,QE)}const{assign:Jn}=Object;function ZE(t){return!!(Ye(t)&&t.effect)}function eS(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=i0(n.state.value[t]);return Jn(u,r,Object.keys(o||{}).reduce((d,h)=>(d[h]=ad(Ve(()=>{gl(n);const f=n._s.get(t);return o[h].call(f,f)})),d),{}))}return l=Vb(t,c,e,n,s,!0),l}function Vb(t,e,n={},s,i,r){let o;const a=Jn({actions:{}},n),l={deep:!0};let c,u,d=new Set,h=new Set,f;const g=s.state.value[t];!r&&!g&&(s.state.value[t]={}),ue({});let p;function m(A){let k;c=u=!1,typeof A=="function"?(A(s.state.value[t]),k={type:Rr.patchFunction,storeId:t,events:f}):(au(s.state.value[t],A),k={type:Rr.patchObject,payload:A,storeId:t,events:f});const B=p=Symbol();ho().then(()=>{p===B&&(c=!0)}),u=!0,hi(d,k,s.state.value[t])}const b=r?function(){const{state:k}=n,B=k?k():{};this.$patch(W=>{Jn(W,B)})}:$b;function v(){o.stop(),d.clear(),h.clear(),s._s.delete(t)}const y=(A,k="")=>{if(rf in A)return A[ec]=k,A;const B=function(){gl(s);const W=Array.from(arguments),G=new Set,ce=new Set;function Ae(z){G.add(z)}function le(z){ce.add(z)}hi(h,{args:W,name:B[ec],store:S,after:Ae,onError:le});let K;try{K=A.apply(this&&this.$id===t?this:S,W)}catch(z){throw hi(ce,z),z}return K instanceof Promise?K.then(z=>(hi(G,z),z)).catch(z=>(hi(ce,z),Promise.reject(z))):(hi(G,K),K)};return B[rf]=!0,B[ec]=k,B},_={_p:s,$id:t,$onAction:sf.bind(null,h),$patch:m,$reset:b,$subscribe(A,k={}){const B=sf(d,A,k.detached,()=>W()),W=o.run(()=>Pi(()=>s.state.value[t],G=>{(k.flush==="sync"?u:c)&&A({storeId:t,type:Rr.direct,events:f},G)},Jn({},l,k)));return B},$dispose:v},S=co(_);s._s.set(t,S);const x=(s._a&&s._a.runWithContext||JE)(()=>s._e.run(()=>(o=Hm()).run(()=>e({action:y}))));for(const A in x){const k=x[A];if(Ye(k)&&!ZE(k)||Fn(k))r||(g&&XE(k)&&(Ye(k)?k.value=g[A]:au(k,g[A])),s.state.value[t][A]=k);else if(typeof k=="function"){const B=y(k,A);x[A]=B,a.actions[A]=k}}return Jn(S,x),Jn(ve(S),x),Object.defineProperty(S,"$state",{get:()=>s.state.value[t],set:A=>{m(k=>{Jn(k,A)})}}),s._p.forEach(A=>{Jn(S,o.run(()=>A({store:S,app:s._a,pinia:s,options:a})))}),g&&r&&n.hydrate&&n.hydrate(S.$state,g),c=!0,u=!0,S}function tS(t,e,n){let s;const i=typeof e=="function";s=i?n:e;function r(o,a){const l=U0();return o=o||(l?Qt(Hb,null):null),o&&gl(o),o=Ub,o._s.has(t)||(i?Vb(t,e,s,o):eS(t,s,o)),o._s.get(t)}return r.$id=t,r}const Ei=typeof document<"u";function Wb(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function nS(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Wb(t.default)}const Ee=Object.assign;function tc(t,e){const n={};for(const s in e){const i=e[s];n[s]=an(i)?i.map(t):t(i)}return n}const Cr=()=>{},an=Array.isArray;function of(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}const zb=/#/g,sS=/&/g,iS=/\//g,rS=/=/g,oS=/\?/g,qb=/\+/g,aS=/%5B/g,lS=/%5D/g,Gb=/%5E/g,cS=/%60/g,Kb=/%7B/g,uS=/%7C/g,Yb=/%7D/g,dS=/%20/g;function bd(t){return t==null?"":encodeURI(""+t).replace(uS,"|").replace(aS,"[").replace(lS,"]")}function hS(t){return bd(t).replace(Kb,"{").replace(Yb,"}").replace(Gb,"^")}function lu(t){return bd(t).replace(qb,"%2B").replace(dS,"+").replace(zb,"%23").replace(sS,"%26").replace(cS,"`").replace(Kb,"{").replace(Yb,"}").replace(Gb,"^")}function fS(t){return lu(t).replace(rS,"%3D")}function gS(t){return bd(t).replace(zb,"%23").replace(oS,"%3F")}function pS(t){return gS(t).replace(iS,"%2F")}function Wr(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const mS=/\/$/,bS=t=>t.replace(mS,"");function nc(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(s=e.slice(0,l),r=e.slice(l,a>0?a:e.length),i=t(r.slice(1))),a>=0&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=wS(s??e,n),{fullPath:s+r+o,path:s,query:i,hash:Wr(o)}}function vS(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function af(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function yS(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Hi(e.matched[s],n.matched[i])&&Jb(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Hi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Jb(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!_S(t[n],e[n]))return!1;return!0}function _S(t,e){return an(t)?lf(t,e):an(e)?lf(e,t):t===e}function lf(t,e){return an(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function wS(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Yn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let cu=(function(t){return t.pop="pop",t.push="push",t})({}),sc=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function ES(t){if(!t)if(Ei){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),bS(t)}const SS=/^[^#]+#/;function AS(t,e){return t.replace(SS,"#")+e}function xS(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const pl=()=>({left:window.scrollX,top:window.scrollY});function RS(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=xS(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function cf(t,e){return(history.state?history.state.position-e:-1)+t}const uu=new Map;function CS(t,e){uu.set(t,e)}function TS(t){const e=uu.get(t);return uu.delete(t),e}function kS(t){return typeof t=="string"||t&&typeof t=="object"}function Qb(t){return typeof t=="string"||typeof t=="symbol"}let ze=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Xb=Symbol("");ze.MATCHER_NOT_FOUND+"",ze.NAVIGATION_GUARD_REDIRECT+"",ze.NAVIGATION_ABORTED+"",ze.NAVIGATION_CANCELLED+"",ze.NAVIGATION_DUPLICATED+"";function $i(t,e){return Ee(new Error,{type:t,[Xb]:!0},e)}function Cn(t,e){return t instanceof Error&&Xb in t&&(e==null||!!(t.type&e))}const DS=["params","query","hash"];function OS(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of DS)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function PS(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(qb," "),r=i.indexOf("="),o=Wr(r<0?i:i.slice(0,r)),a=r<0?null:Wr(i.slice(r+1));if(o in e){let l=e[o];an(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function uf(t){let e="";for(let n in t){const s=t[n];if(n=fS(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(an(s)?s.map(i=>i&&lu(i)):[s&&lu(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function MS(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=an(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const IS=Symbol(""),df=Symbol(""),ml=Symbol(""),vd=Symbol(""),du=Symbol("");function rr(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function es(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l($i(ze.NAVIGATION_ABORTED,{from:n,to:e})):h instanceof Error?l(h):kS(h)?l($i(ze.NAVIGATION_GUARD_REDIRECT,{from:e,to:h})):(o&&s.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},u=r(()=>t.call(s&&s.instances[i],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(h=>l(h))})}function ic(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Wb(l)){const c=(l.__vccOpts||l)[e];c&&r.push(es(c,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=nS(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&es(h,n,s,o,a,i)()}))}}return r}function NS(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Hi(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Hi(c,l))||i.push(l))}return[n,s,i]}let LS=()=>location.protocol+"//"+location.host;function Zb(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let o=i.includes(t.slice(r))?t.slice(r).length:1,a=i.slice(o);return a[0]!=="/"&&(a="/"+a),af(a,"")}return af(n,t)+s+i}function jS(t,e,n,s){let i=[],r=[],o=null;const a=({state:h})=>{const f=Zb(t,location),g=n.value,p=e.value;let m=0;if(h){if(n.value=f,e.value=h,o&&o===g){o=null;return}m=p?h.position-p.position:0}else s(f);i.forEach(b=>{b(n.value,g,{delta:m,type:cu.pop,direction:m?m>0?sc.forward:sc.back:sc.unknown})})};function l(){o=n.value}function c(h){i.push(h);const f=()=>{const g=i.indexOf(h);g>-1&&i.splice(g,1)};return r.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(Ee({},h.state,{scroll:pl()}),"")}}function d(){for(const h of r)h();r=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:d}}function hf(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?pl():null}}function BS(t){const{history:e,location:n}=window,s={value:Zb(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:LS()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(f){console.error(f),n[u?"replace":"assign"](h)}}function o(l,c){r(l,Ee({},e.state,hf(i.value.back,l,i.value.forward,!0),c,{position:i.value.position}),!0),s.value=l}function a(l,c){const u=Ee({},i.value,e.state,{forward:l,scroll:pl()});r(u.current,u,!0),r(l,Ee({},hf(s.value,l,null),{position:u.position+1},c),!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function FS(t){t=ES(t);const e=BS(t),n=jS(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Ee({location:"",base:t,go:s,createHref:AS.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}let $s=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var nt=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(nt||{});const US={type:$s.Static,value:""},HS=/[a-zA-Z0-9_]/;function $S(t){if(!t)return[[]];if(t==="/")return[[US]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=nt.Static,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(n===nt.Static?r.push({type:$s.Static,value:c}):n===nt.Param||n===nt.ParamRegExp||n===nt.ParamRegExpEnd?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:$s.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==nt.ParamRegExp){s=n,n=nt.EscapeNext;continue}switch(n){case nt.Static:l==="/"?(c&&d(),o()):l===":"?(d(),n=nt.Param):h();break;case nt.EscapeNext:h(),n=s;break;case nt.Param:l==="("?n=nt.ParamRegExp:HS.test(l)?h():(d(),n=nt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case nt.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=nt.ParamRegExpEnd:u+=l;break;case nt.ParamRegExpEnd:d(),n=nt.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===nt.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}const ff="[^/]+?",VS={sensitive:!1,strict:!1,start:!0,end:!0};var Rt=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(Rt||{});const WS=/[.+*?^${}()[\]/\\]/g;function zS(t,e){const n=Ee({},VS,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[Rt.Root];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=Rt.Segment+(n.sensitive?Rt.BonusCaseSensitive:0);if(h.type===$s.Static)d||(i+="/"),i+=h.value.replace(WS,"\\$&"),f+=Rt.Static;else if(h.type===$s.Param){const{value:g,repeatable:p,optional:m,regexp:b}=h;r.push({name:g,repeatable:p,optional:m});const v=b||ff;if(v!==ff){f+=Rt.BonusCustomRegExp;try{`${v}`}catch(_){throw new Error(`Invalid custom RegExp for param "${g}" (${v}): `+_.message)}}let y=p?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;d||(y=m&&c.length<2?`(?:/${y})`:"/"+y),m&&(y+="?"),i+=y,f+=Rt.Dynamic,m&&(f+=Rt.BonusOptional),p&&(f+=Rt.BonusRepeatable),v===".*"&&(f+=Rt.BonusWildcard)}u.push(f)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=Rt.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",g=r[h-1];d[g.name]=f&&g.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===$s.Static)u+=f.value;else if(f.type===$s.Param){const{value:g,repeatable:p,optional:m}=f,b=g in c?c[g]:"";if(an(b)&&!p)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const v=an(b)?b.join("/"):b;if(!v)if(m)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);u+=v}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function qS(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===Rt.Static+Rt.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Rt.Static+Rt.Segment?1:-1:0}function ev(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=qS(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(gf(s))return 1;if(gf(i))return-1}return i.length-s.length}function gf(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const GS={strict:!1,end:!0,sensitive:!1};function KS(t,e,n){const s=zS($S(t.path),n),i=Ee(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function YS(t,e){const n=[],s=new Map;e=of(GS,e);function i(d){return s.get(d)}function r(d,h,f){const g=!f,p=mf(d);p.aliasOf=f&&f.record;const m=of(e,d),b=[p];if("alias"in d){const _=typeof d.alias=="string"?[d.alias]:d.alias;for(const S of _)b.push(mf(Ee({},p,{components:f?f.record.components:p.components,path:S,aliasOf:f?f.record:p})))}let v,y;for(const _ of b){const{path:S}=_;if(h&&S[0]!=="/"){const T=h.record.path,x=T[T.length-1]==="/"?"":"/";_.path=h.record.path+(S&&x+S)}if(v=KS(_,h,m),f?f.alias.push(v):(y=y||v,y!==v&&y.alias.push(v),g&&d.name&&!bf(v)&&o(d.name)),tv(v)&&l(v),p.children){const T=p.children;for(let x=0;x<T.length;x++)r(T[x],v,f&&f.children[x])}f=f||v}return y?()=>{o(y)}:Cr}function o(d){if(Qb(d)){const h=s.get(d);h&&(s.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&s.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const h=XS(d,n);n.splice(h,0,d),d.record.name&&!bf(d)&&s.set(d.record.name,d)}function c(d,h){let f,g={},p,m;if("name"in d&&d.name){if(f=s.get(d.name),!f)throw $i(ze.MATCHER_NOT_FOUND,{location:d});m=f.record.name,g=Ee(pf(h.params,f.keys.filter(y=>!y.optional).concat(f.parent?f.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),d.params&&pf(d.params,f.keys.map(y=>y.name))),p=f.stringify(g)}else if(d.path!=null)p=d.path,f=n.find(y=>y.re.test(p)),f&&(g=f.parse(p),m=f.record.name);else{if(f=h.name?s.get(h.name):n.find(y=>y.re.test(h.path)),!f)throw $i(ze.MATCHER_NOT_FOUND,{location:d,currentLocation:h});m=f.record.name,g=Ee({},h.params,d.params),p=f.stringify(g)}const b=[];let v=f;for(;v;)b.unshift(v.record),v=v.parent;return{name:m,path:p,params:g,matched:b,meta:QS(b)}}t.forEach(d=>r(d));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function pf(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function mf(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:JS(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function JS(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function bf(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function QS(t){return t.reduce((e,n)=>Ee(e,n.meta),{})}function XS(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;ev(t,e[r])<0?s=r:n=r+1}const i=ZS(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function ZS(t){let e=t;for(;e=e.parent;)if(tv(e)&&ev(t,e)===0)return e}function tv({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function vf(t){const e=Qt(ml),n=Qt(vd),s=Ve(()=>{const l=Jt(t.to);return e.resolve(l)}),i=Ve(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex(Hi.bind(null,u));if(h>-1)return h;const f=yf(l[c-2]);return c>1&&yf(u)===f&&d[d.length-1].path!==f?d.findIndex(Hi.bind(null,l[c-2])):h}),r=Ve(()=>i.value>-1&&iA(n.params,s.value.params)),o=Ve(()=>i.value>-1&&i.value===n.matched.length-1&&Jb(n.params,s.value.params));function a(l={}){if(sA(l)){const c=e[Jt(t.replace)?"replace":"push"](Jt(t.to)).catch(Cr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Ve(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function eA(t){return t.length===1?t[0]:t}const tA=cl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:vf,setup(t,{slots:e}){const n=co(vf(t)),{options:s}=Qt(ml),i=Ve(()=>({[_f(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[_f(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&eA(e.default(n));return t.custom?r:Mi("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),nA=tA;function sA(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function iA(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!an(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function yf(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const _f=(t,e,n)=>t??e??n,rA=cl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Qt(du),i=Ve(()=>t.route||s.value),r=Qt(df,0),o=Ve(()=>{let c=Jt(r);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Ve(()=>i.value.matched[o.value]);ta(df,Ve(()=>o.value+1)),ta(IS,a),ta(du,i);const l=ue();return Pi(()=>[l.value,a.value,t.name],([c,u,d],[h,f,g])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Hi(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,h=d&&d.components[u];if(!h)return wf(n.default,{Component:h,route:c});const f=d.props[u],g=f?f===!0?c.params:typeof f=="function"?f(c):f:null,m=Mi(h,Ee({},g,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return wf(n.default,{Component:m,route:c})||m}}});function wf(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const nv=rA;function oA(t){const e=YS(t.routes,t),n=t.parseQuery||PS,s=t.stringifyQuery||uf,i=t.history,r=rr(),o=rr(),a=rr(),l=t0(Yn);let c=Yn;Ei&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=tc.bind(null,N=>""+N),d=tc.bind(null,pS),h=tc.bind(null,Wr);function f(N,q){let $,J;return Qb(N)?($=e.getRecordMatcher(N),J=q):J=N,e.addRoute(J,$)}function g(N){const q=e.getRecordMatcher(N);q&&e.removeRoute(q)}function p(){return e.getRoutes().map(N=>N.record)}function m(N){return!!e.getRecordMatcher(N)}function b(N,q){if(q=Ee({},q||l.value),typeof N=="string"){const R=nc(n,N,q.path),I=e.resolve({path:R.path},q),L=i.createHref(R.fullPath);return Ee(R,I,{params:h(I.params),hash:Wr(R.hash),redirectedFrom:void 0,href:L})}let $;if(N.path!=null)$=Ee({},N,{path:nc(n,N.path,q.path).path});else{const R=Ee({},N.params);for(const I in R)R[I]==null&&delete R[I];$=Ee({},N,{params:d(R)}),q.params=d(q.params)}const J=e.resolve($,q),pe=N.hash||"";J.params=u(h(J.params));const w=vS(s,Ee({},N,{hash:hS(pe),path:J.path})),E=i.createHref(w);return Ee({fullPath:w,hash:pe,query:s===uf?MS(N.query):N.query||{}},J,{redirectedFrom:void 0,href:E})}function v(N){return typeof N=="string"?nc(n,N,l.value.path):Ee({},N)}function y(N,q){if(c!==N)return $i(ze.NAVIGATION_CANCELLED,{from:q,to:N})}function _(N){return x(N)}function S(N){return _(Ee(v(N),{replace:!0}))}function T(N,q){const $=N.matched[N.matched.length-1];if($&&$.redirect){const{redirect:J}=$;let pe=typeof J=="function"?J(N,q):J;return typeof pe=="string"&&(pe=pe.includes("?")||pe.includes("#")?pe=v(pe):{path:pe},pe.params={}),Ee({query:N.query,hash:N.hash,params:pe.path!=null?{}:N.params},pe)}}function x(N,q){const $=c=b(N),J=l.value,pe=N.state,w=N.force,E=N.replace===!0,R=T($,J);if(R)return x(Ee(v(R),{state:typeof R=="object"?Ee({},pe,R.state):pe,force:w,replace:E}),q||$);const I=$;I.redirectedFrom=q;let L;return!w&&yS(s,J,$)&&(L=$i(ze.NAVIGATION_DUPLICATED,{to:I,from:J}),Le(J,J,!0,!1)),(L?Promise.resolve(L):B(I,J)).catch(M=>Cn(M)?Cn(M,ze.NAVIGATION_GUARD_REDIRECT)?M:lt(M):Z(M,I,J)).then(M=>{if(M){if(Cn(M,ze.NAVIGATION_GUARD_REDIRECT))return x(Ee({replace:E},v(M.to),{state:typeof M.to=="object"?Ee({},pe,M.to.state):pe,force:w}),q||I)}else M=G(I,J,!0,E,pe);return W(I,J,M),M})}function A(N,q){const $=y(N,q);return $?Promise.reject($):Promise.resolve()}function k(N){const q=tt.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(N):N()}function B(N,q){let $;const[J,pe,w]=NS(N,q);$=ic(J.reverse(),"beforeRouteLeave",N,q);for(const R of J)R.leaveGuards.forEach(I=>{$.push(es(I,N,q))});const E=A.bind(null,N,q);return $.push(E),Ze($).then(()=>{$=[];for(const R of r.list())$.push(es(R,N,q));return $.push(E),Ze($)}).then(()=>{$=ic(pe,"beforeRouteUpdate",N,q);for(const R of pe)R.updateGuards.forEach(I=>{$.push(es(I,N,q))});return $.push(E),Ze($)}).then(()=>{$=[];for(const R of w)if(R.beforeEnter)if(an(R.beforeEnter))for(const I of R.beforeEnter)$.push(es(I,N,q));else $.push(es(R.beforeEnter,N,q));return $.push(E),Ze($)}).then(()=>(N.matched.forEach(R=>R.enterCallbacks={}),$=ic(w,"beforeRouteEnter",N,q,k),$.push(E),Ze($))).then(()=>{$=[];for(const R of o.list())$.push(es(R,N,q));return $.push(E),Ze($)}).catch(R=>Cn(R,ze.NAVIGATION_CANCELLED)?R:Promise.reject(R))}function W(N,q,$){a.list().forEach(J=>k(()=>J(N,q,$)))}function G(N,q,$,J,pe){const w=y(N,q);if(w)return w;const E=q===Yn,R=Ei?history.state:{};$&&(J||E?i.replace(N.fullPath,Ee({scroll:E&&R&&R.scroll},pe)):i.push(N.fullPath,pe)),l.value=N,Le(N,q,$,E),lt()}let ce;function Ae(){ce||(ce=i.listen((N,q,$)=>{if(!ht.listening)return;const J=b(N),pe=T(J,ht.currentRoute.value);if(pe){x(Ee(pe,{replace:!0,force:!0}),J).catch(Cr);return}c=J;const w=l.value;Ei&&CS(cf(w.fullPath,$.delta),pl()),B(J,w).catch(E=>Cn(E,ze.NAVIGATION_ABORTED|ze.NAVIGATION_CANCELLED)?E:Cn(E,ze.NAVIGATION_GUARD_REDIRECT)?(x(Ee(v(E.to),{force:!0}),J).then(R=>{Cn(R,ze.NAVIGATION_ABORTED|ze.NAVIGATION_DUPLICATED)&&!$.delta&&$.type===cu.pop&&i.go(-1,!1)}).catch(Cr),Promise.reject()):($.delta&&i.go(-$.delta,!1),Z(E,J,w))).then(E=>{E=E||G(J,w,!1),E&&($.delta&&!Cn(E,ze.NAVIGATION_CANCELLED)?i.go(-$.delta,!1):$.type===cu.pop&&Cn(E,ze.NAVIGATION_ABORTED|ze.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),W(J,w,E)}).catch(Cr)}))}let le=rr(),K=rr(),z;function Z(N,q,$){lt(N);const J=K.list();return J.length?J.forEach(pe=>pe(N,q,$)):console.error(N),Promise.reject(N)}function xe(){return z&&l.value!==Yn?Promise.resolve():new Promise((N,q)=>{le.add([N,q])})}function lt(N){return z||(z=!N,Ae(),le.list().forEach(([q,$])=>N?$(N):q()),le.reset()),N}function Le(N,q,$,J){const{scrollBehavior:pe}=t;if(!Ei||!pe)return Promise.resolve();const w=!$&&TS(cf(N.fullPath,0))||(J||!$)&&history.state&&history.state.scroll||null;return ho().then(()=>pe(N,q,w)).then(E=>E&&RS(E)).catch(E=>Z(E,N,q))}const Te=N=>i.go(N);let dt;const tt=new Set,ht={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:m,getRoutes:p,resolve:b,options:t,push:_,replace:S,go:Te,back:()=>Te(-1),forward:()=>Te(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:K.add,isReady:xe,install(N){N.component("RouterLink",nA),N.component("RouterView",nv),N.config.globalProperties.$router=ht,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>Jt(l)}),Ei&&!dt&&l.value===Yn&&(dt=!0,_(i.location).catch(J=>{}));const q={};for(const J in Yn)Object.defineProperty(q,J,{get:()=>l.value[J],enumerable:!0});N.provide(ml,ht),N.provide(vd,sb(q)),N.provide(du,l);const $=N.unmount;tt.add(N),N.unmount=function(){tt.delete(N),tt.size<1&&(c=Yn,ce&&ce(),ce=null,l.value=Yn,dt=!1,z=!1),$()}}};function Ze(N){return N.reduce((q,$)=>q.then(()=>k($)),Promise.resolve())}return ht}function Qi(){return Qt(ml)}function aA(t){return Qt(vd)}const lA={__name:"App",setup(t){const e=Qi();return Ji(()=>{const n=window.location.hash;if(!n)return;new URLSearchParams(n.substring(1)).get("type")==="recovery"&&e.replace({path:"/loginbackground/forgotpasswordreset",query:{hash:n.substring(1)}})}),(n,s)=>{const i=Xs("router-view");return he(),fd(i)}}};function sv(t,e){return function(){return t.apply(e,arguments)}}const{toString:cA}=Object.prototype,{getPrototypeOf:yd}=Object,{iterator:bl,toStringTag:iv}=Symbol,vl=(t=>e=>{const n=cA.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),cn=t=>(t=t.toLowerCase(),e=>vl(e)===t),yl=t=>e=>typeof e===t,{isArray:Xi}=Array,Vi=yl("undefined");function go(t){return t!==null&&!Vi(t)&&t.constructor!==null&&!Vi(t.constructor)&&Nt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rv=cn("ArrayBuffer");function uA(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&rv(t.buffer),e}const dA=yl("string"),Nt=yl("function"),ov=yl("number"),po=t=>t!==null&&typeof t=="object",hA=t=>t===!0||t===!1,ia=t=>{if(vl(t)!=="object")return!1;const e=yd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(iv in t)&&!(bl in t)},fA=t=>{if(!po(t)||go(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},gA=cn("Date"),pA=cn("File"),mA=cn("Blob"),bA=cn("FileList"),vA=t=>po(t)&&Nt(t.pipe),yA=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Nt(t.append)&&((e=vl(t))==="formdata"||e==="object"&&Nt(t.toString)&&t.toString()==="[object FormData]"))},_A=cn("URLSearchParams"),[wA,EA,SA,AA]=["ReadableStream","Request","Response","Headers"].map(cn),xA=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function mo(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),Xi(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{if(go(t))return;const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(s=0;s<o;s++)a=r[s],e.call(null,t[a],a,t)}}function av(t,e){if(go(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const Vs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lv=t=>!Vi(t)&&t!==Vs;function hu(){const{caseless:t,skipUndefined:e}=lv(this)&&this||{},n={},s=(i,r)=>{const o=t&&av(n,r)||r;ia(n[o])&&ia(i)?n[o]=hu(n[o],i):ia(i)?n[o]=hu({},i):Xi(i)?n[o]=i.slice():(!e||!Vi(i))&&(n[o]=i)};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&mo(arguments[i],s);return n}const RA=(t,e,n,{allOwnKeys:s}={})=>(mo(e,(i,r)=>{n&&Nt(i)?t[r]=sv(i,n):t[r]=i},{allOwnKeys:s}),t),CA=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),TA=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},kA=(t,e,n,s)=>{let i,r,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),r=i.length;r-- >0;)o=i[r],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&yd(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},DA=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},OA=t=>{if(!t)return null;if(Xi(t))return t;let e=t.length;if(!ov(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},PA=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&yd(Uint8Array)),MA=(t,e)=>{const s=(t&&t[bl]).call(t);let i;for(;(i=s.next())&&!i.done;){const r=i.value;e.call(t,r[0],r[1])}},IA=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},NA=cn("HTMLFormElement"),LA=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),Ef=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),jA=cn("RegExp"),cv=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};mo(n,(i,r)=>{let o;(o=e(i,r,t))!==!1&&(s[r]=o||i)}),Object.defineProperties(t,s)},BA=t=>{cv(t,(e,n)=>{if(Nt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Nt(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},FA=(t,e)=>{const n={},s=i=>{i.forEach(r=>{n[r]=!0})};return Xi(t)?s(t):s(String(t).split(e)),n},UA=()=>{},HA=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function $A(t){return!!(t&&Nt(t.append)&&t[iv]==="FormData"&&t[bl])}const VA=t=>{const e=new Array(10),n=(s,i)=>{if(po(s)){if(e.indexOf(s)>=0)return;if(go(s))return s;if(!("toJSON"in s)){e[i]=s;const r=Xi(s)?[]:{};return mo(s,(o,a)=>{const l=n(o,i+1);!Vi(l)&&(r[a]=l)}),e[i]=void 0,r}}return s};return n(t,0)},WA=cn("AsyncFunction"),zA=t=>t&&(po(t)||Nt(t))&&Nt(t.then)&&Nt(t.catch),uv=((t,e)=>t?setImmediate:e?((n,s)=>(Vs.addEventListener("message",({source:i,data:r})=>{i===Vs&&r===n&&s.length&&s.shift()()},!1),i=>{s.push(i),Vs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Nt(Vs.postMessage)),qA=typeof queueMicrotask<"u"?queueMicrotask.bind(Vs):typeof process<"u"&&process.nextTick||uv,GA=t=>t!=null&&Nt(t[bl]),O={isArray:Xi,isArrayBuffer:rv,isBuffer:go,isFormData:yA,isArrayBufferView:uA,isString:dA,isNumber:ov,isBoolean:hA,isObject:po,isPlainObject:ia,isEmptyObject:fA,isReadableStream:wA,isRequest:EA,isResponse:SA,isHeaders:AA,isUndefined:Vi,isDate:gA,isFile:pA,isBlob:mA,isRegExp:jA,isFunction:Nt,isStream:vA,isURLSearchParams:_A,isTypedArray:PA,isFileList:bA,forEach:mo,merge:hu,extend:RA,trim:xA,stripBOM:CA,inherits:TA,toFlatObject:kA,kindOf:vl,kindOfTest:cn,endsWith:DA,toArray:OA,forEachEntry:MA,matchAll:IA,isHTMLForm:NA,hasOwnProperty:Ef,hasOwnProp:Ef,reduceDescriptors:cv,freezeMethods:BA,toObjectSet:FA,toCamelCase:LA,noop:UA,toFiniteNumber:HA,findKey:av,global:Vs,isContextDefined:lv,isSpecCompliantForm:$A,toJSONObject:VA,isAsyncFn:WA,isThenable:zA,setImmediate:uv,asap:qA,isIterable:GA};function ae(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}O.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const dv=ae.prototype,hv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{hv[t]={value:t}});Object.defineProperties(ae,hv);Object.defineProperty(dv,"isAxiosError",{value:!0});ae.from=(t,e,n,s,i,r)=>{const o=Object.create(dv);O.toFlatObject(t,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return ae.call(o,a,l,n,s,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",r&&Object.assign(o,r),o};const KA=null;function fu(t){return O.isPlainObject(t)||O.isArray(t)}function fv(t){return O.endsWith(t,"[]")?t.slice(0,-2):t}function Sf(t,e,n){return t?t.concat(e).map(function(i,r){return i=fv(i),!n&&r?"["+i+"]":i}).join(n?".":""):e}function YA(t){return O.isArray(t)&&!t.some(fu)}const JA=O.toFlatObject(O,{},null,function(e){return/^is[A-Z]/.test(e)});function _l(t,e,n){if(!O.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,m){return!O.isUndefined(m[p])});const s=n.metaTokens,i=n.visitor||u,r=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(e);if(!O.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(O.isDate(g))return g.toISOString();if(O.isBoolean(g))return g.toString();if(!l&&O.isBlob(g))throw new ae("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(g)||O.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,p,m){let b=g;if(g&&!m&&typeof g=="object"){if(O.endsWith(p,"{}"))p=s?p:p.slice(0,-2),g=JSON.stringify(g);else if(O.isArray(g)&&YA(g)||(O.isFileList(g)||O.endsWith(p,"[]"))&&(b=O.toArray(g)))return p=fv(p),b.forEach(function(y,_){!(O.isUndefined(y)||y===null)&&e.append(o===!0?Sf([p],_,r):o===null?p:p+"[]",c(y))}),!1}return fu(g)?!0:(e.append(Sf(m,p,r),c(g)),!1)}const d=[],h=Object.assign(JA,{defaultVisitor:u,convertValue:c,isVisitable:fu});function f(g,p){if(!O.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(g),O.forEach(g,function(b,v){(!(O.isUndefined(b)||b===null)&&i.call(e,b,O.isString(v)?v.trim():v,p,h))===!0&&f(b,p?p.concat(v):[v])}),d.pop()}}if(!O.isObject(t))throw new TypeError("data must be an object");return f(t),e}function Af(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function _d(t,e){this._pairs=[],t&&_l(t,this,e)}const gv=_d.prototype;gv.append=function(e,n){this._pairs.push([e,n])};gv.toString=function(e){const n=e?function(s){return e.call(this,s,Af)}:Af;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function QA(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function pv(t,e,n){if(!e)return t;const s=n&&n.encode||QA;O.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let r;if(i?r=i(e,n):r=O.isURLSearchParams(e)?e.toString():new _d(e,n).toString(s),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class xf{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){O.forEach(this.handlers,function(s){s!==null&&e(s)})}}const mv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},XA=typeof URLSearchParams<"u"?URLSearchParams:_d,ZA=typeof FormData<"u"?FormData:null,ex=typeof Blob<"u"?Blob:null,tx={isBrowser:!0,classes:{URLSearchParams:XA,FormData:ZA,Blob:ex},protocols:["http","https","file","blob","url","data"]},wd=typeof window<"u"&&typeof document<"u",gu=typeof navigator=="object"&&navigator||void 0,nx=wd&&(!gu||["ReactNative","NativeScript","NS"].indexOf(gu.product)<0),sx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ix=wd&&window.location.href||"http://localhost",rx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wd,hasStandardBrowserEnv:nx,hasStandardBrowserWebWorkerEnv:sx,navigator:gu,origin:ix},Symbol.toStringTag,{value:"Module"})),yt={...rx,...tx};function ox(t,e){return _l(t,new yt.classes.URLSearchParams,{visitor:function(n,s,i,r){return yt.isNode&&O.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function ax(t){return O.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function lx(t){const e={},n=Object.keys(t);let s;const i=n.length;let r;for(s=0;s<i;s++)r=n[s],e[r]=t[r];return e}function bv(t){function e(n,s,i,r){let o=n[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=n.length;return o=!o&&O.isArray(i)?i.length:o,l?(O.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!a):((!i[o]||!O.isObject(i[o]))&&(i[o]=[]),e(n,s,i[o],r)&&O.isArray(i[o])&&(i[o]=lx(i[o])),!a)}if(O.isFormData(t)&&O.isFunction(t.entries)){const n={};return O.forEachEntry(t,(s,i)=>{e(ax(s),i,n,0)}),n}return null}function cx(t,e,n){if(O.isString(t))try{return(e||JSON.parse)(t),O.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const bo={transitional:mv,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,r=O.isObject(e);if(r&&O.isHTMLForm(e)&&(e=new FormData(e)),O.isFormData(e))return i?JSON.stringify(bv(e)):e;if(O.isArrayBuffer(e)||O.isBuffer(e)||O.isStream(e)||O.isFile(e)||O.isBlob(e)||O.isReadableStream(e))return e;if(O.isArrayBufferView(e))return e.buffer;if(O.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ox(e,this.formSerializer).toString();if((a=O.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return _l(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||i?(n.setContentType("application/json",!1),cx(e)):e}],transformResponse:[function(e){const n=this.transitional||bo.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(O.isResponse(e)||O.isReadableStream(e))return e;if(e&&O.isString(e)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?ae.from(a,ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yt.classes.FormData,Blob:yt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],t=>{bo.headers[t]={}});const ux=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dx=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||e[n]&&ux[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Rf=Symbol("internals");function or(t){return t&&String(t).trim().toLowerCase()}function ra(t){return t===!1||t==null?t:O.isArray(t)?t.map(ra):String(t)}function hx(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const fx=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function rc(t,e,n,s,i){if(O.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!O.isString(e)){if(O.isString(s))return e.indexOf(s)!==-1;if(O.isRegExp(s))return s.test(e)}}function gx(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function px(t,e){const n=O.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,r,o){return this[s].call(this,e,i,r,o)},configurable:!0})})}let Lt=class{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function r(a,l,c){const u=or(l);if(!u)throw new Error("header name must be a non-empty string");const d=O.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=ra(a))}const o=(a,l)=>O.forEach(a,(c,u)=>r(c,u,l));if(O.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(O.isString(e)&&(e=e.trim())&&!fx(e))o(dx(e),n);else if(O.isObject(e)&&O.isIterable(e)){let a={},l,c;for(const u of e){if(!O.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?O.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,n)}else e!=null&&r(n,e,s);return this}get(e,n){if(e=or(e),e){const s=O.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return hx(i);if(O.isFunction(n))return n.call(this,i,s);if(O.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=or(e),e){const s=O.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||rc(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function r(o){if(o=or(o),o){const a=O.findKey(s,o);a&&(!n||rc(s,s[a],a,n))&&(delete s[a],i=!0)}}return O.isArray(e)?e.forEach(r):r(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const r=n[s];(!e||rc(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const n=this,s={};return O.forEach(this,(i,r)=>{const o=O.findKey(s,r);if(o){n[o]=ra(i),delete n[r];return}const a=e?gx(r):String(r).trim();a!==r&&delete n[r],n[a]=ra(i),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return O.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&O.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[Rf]=this[Rf]={accessors:{}}).accessors,i=this.prototype;function r(o){const a=or(o);s[a]||(px(i,o),s[a]=!0)}return O.isArray(e)?e.forEach(r):r(e),this}};Lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Lt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});O.freezeMethods(Lt);function oc(t,e){const n=this||bo,s=e||n,i=Lt.from(s.headers);let r=s.data;return O.forEach(t,function(a){r=a.call(n,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function vv(t){return!!(t&&t.__CANCEL__)}function Zi(t,e,n){ae.call(this,t??"canceled",ae.ERR_CANCELED,e,n),this.name="CanceledError"}O.inherits(Zi,ae,{__CANCEL__:!0});function yv(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new ae("Request failed with status code "+n.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function mx(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function bx(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=s[r];o||(o=c),n[i]=l,s[i]=c;let d=r,h=0;for(;d!==i;)h+=n[d++],d=d%t;if(i=(i+1)%t,i===r&&(r=(r+1)%t),c-o<e)return;const f=u&&c-u;return f?Math.round(h*1e3/f):void 0}}function vx(t,e){let n=0,s=1e3/e,i,r;const o=(c,u=Date.now())=>{n=u,i=null,r&&(clearTimeout(r),r=null),t(...c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=s?o(c,u):(i=c,r||(r=setTimeout(()=>{r=null,o(i)},s-d)))},()=>i&&o(i)]}const Ra=(t,e,n=3)=>{let s=0;const i=bx(50,250);return vx(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-s,c=i(l),u=o<=a;s=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},Cf=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},Tf=t=>(...e)=>O.asap(()=>t(...e)),yx=yt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,yt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(yt.origin),yt.navigator&&/(msie|trident)/i.test(yt.navigator.userAgent)):()=>!0,_x=yt.hasStandardBrowserEnv?{write(t,e,n,s,i,r,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];O.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),O.isString(s)&&a.push(`path=${s}`),O.isString(i)&&a.push(`domain=${i}`),r===!0&&a.push("secure"),O.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function wx(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ex(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function _v(t,e,n){let s=!wx(e);return t&&(s||n==!1)?Ex(t,e):e}const kf=t=>t instanceof Lt?{...t}:t;function Zs(t,e){e=e||{};const n={};function s(c,u,d,h){return O.isPlainObject(c)&&O.isPlainObject(u)?O.merge.call({caseless:h},c,u):O.isPlainObject(u)?O.merge({},u):O.isArray(u)?u.slice():u}function i(c,u,d,h){if(O.isUndefined(u)){if(!O.isUndefined(c))return s(void 0,c,d,h)}else return s(c,u,d,h)}function r(c,u){if(!O.isUndefined(u))return s(void 0,u)}function o(c,u){if(O.isUndefined(u)){if(!O.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function a(c,u,d){if(d in e)return s(c,u);if(d in t)return s(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>i(kf(c),kf(u),d,!0)};return O.forEach(Object.keys({...t,...e}),function(u){const d=l[u]||i,h=d(t[u],e[u],u);O.isUndefined(h)&&d!==a||(n[u]=h)}),n}const wv=t=>{const e=Zs({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:a}=e;if(e.headers=o=Lt.from(o),e.url=pv(_v(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),O.isFormData(n)){if(yt.hasStandardBrowserEnv||yt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(O.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&o.set(u,d)})}}if(yt.hasStandardBrowserEnv&&(s&&O.isFunction(s)&&(s=s(e)),s||s!==!1&&yx(e.url))){const l=i&&r&&_x.read(r);l&&o.set(i,l)}return e},Sx=typeof XMLHttpRequest<"u",Ax=Sx&&function(t){return new Promise(function(n,s){const i=wv(t);let r=i.data;const o=Lt.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,h,f,g;function p(){f&&f(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let m=new XMLHttpRequest;m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout;function b(){if(!m)return;const y=Lt.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),S={data:!a||a==="text"||a==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:y,config:t,request:m};yv(function(x){n(x),p()},function(x){s(x),p()},S),m=null}"onloadend"in m?m.onloadend=b:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(b)},m.onabort=function(){m&&(s(new ae("Request aborted",ae.ECONNABORTED,t,m)),m=null)},m.onerror=function(_){const S=_&&_.message?_.message:"Network Error",T=new ae(S,ae.ERR_NETWORK,t,m);T.event=_||null,s(T),m=null},m.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||mv;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),s(new ae(_,S.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,t,m)),m=null},r===void 0&&o.setContentType(null),"setRequestHeader"in m&&O.forEach(o.toJSON(),function(_,S){m.setRequestHeader(S,_)}),O.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),a&&a!=="json"&&(m.responseType=i.responseType),c&&([h,g]=Ra(c,!0),m.addEventListener("progress",h)),l&&m.upload&&([d,f]=Ra(l),m.upload.addEventListener("progress",d),m.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(u=y=>{m&&(s(!y||y.type?new Zi(null,t,m):y),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=mx(i.url);if(v&&yt.protocols.indexOf(v)===-1){s(new ae("Unsupported protocol "+v+":",ae.ERR_BAD_REQUEST,t));return}m.send(r||null)})},xx=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const r=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;s.abort(u instanceof ae?u:new Zi(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,r(new ae(`timeout ${e} of ms exceeded`,ae.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),t=null)};t.forEach(c=>c.addEventListener("abort",r));const{signal:l}=s;return l.unsubscribe=()=>O.asap(a),l}},Rx=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},Cx=async function*(t,e){for await(const n of Tx(t))yield*Rx(n,e)},Tx=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},Df=(t,e,n,s)=>{const i=Cx(t,e);let r=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let h=r+=d;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Of=64*1024,{isFunction:To}=O,kx=(({Request:t,Response:e})=>({Request:t,Response:e}))(O.global),{ReadableStream:Pf,TextEncoder:Mf}=O.global,If=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Dx=t=>{t=O.merge.call({skipUndefined:!0},kx,t);const{fetch:e,Request:n,Response:s}=t,i=e?To(e):typeof fetch=="function",r=To(n),o=To(s);if(!i)return!1;const a=i&&To(Pf),l=i&&(typeof Mf=="function"?(g=>p=>g.encode(p))(new Mf):async g=>new Uint8Array(await new n(g).arrayBuffer())),c=r&&a&&If(()=>{let g=!1;const p=new n(yt.origin,{body:new Pf,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!p}),u=o&&a&&If(()=>O.isReadableStream(new s("").body)),d={stream:u&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!d[g]&&(d[g]=(p,m)=>{let b=p&&p[g];if(b)return b.call(p);throw new ae(`Response type '${g}' is not supported`,ae.ERR_NOT_SUPPORT,m)})});const h=async g=>{if(g==null)return 0;if(O.isBlob(g))return g.size;if(O.isSpecCompliantForm(g))return(await new n(yt.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(O.isArrayBufferView(g)||O.isArrayBuffer(g))return g.byteLength;if(O.isURLSearchParams(g)&&(g=g+""),O.isString(g))return(await l(g)).byteLength},f=async(g,p)=>{const m=O.toFiniteNumber(g.getContentLength());return m??h(p)};return async g=>{let{url:p,method:m,data:b,signal:v,cancelToken:y,timeout:_,onDownloadProgress:S,onUploadProgress:T,responseType:x,headers:A,withCredentials:k="same-origin",fetchOptions:B}=wv(g),W=e||fetch;x=x?(x+"").toLowerCase():"text";let G=xx([v,y&&y.toAbortSignal()],_),ce=null;const Ae=G&&G.unsubscribe&&(()=>{G.unsubscribe()});let le;try{if(T&&c&&m!=="get"&&m!=="head"&&(le=await f(A,b))!==0){let Le=new n(p,{method:"POST",body:b,duplex:"half"}),Te;if(O.isFormData(b)&&(Te=Le.headers.get("content-type"))&&A.setContentType(Te),Le.body){const[dt,tt]=Cf(le,Ra(Tf(T)));b=Df(Le.body,Of,dt,tt)}}O.isString(k)||(k=k?"include":"omit");const K=r&&"credentials"in n.prototype,z={...B,signal:G,method:m.toUpperCase(),headers:A.normalize().toJSON(),body:b,duplex:"half",credentials:K?k:void 0};ce=r&&new n(p,z);let Z=await(r?W(ce,B):W(p,z));const xe=u&&(x==="stream"||x==="response");if(u&&(S||xe&&Ae)){const Le={};["status","statusText","headers"].forEach(ht=>{Le[ht]=Z[ht]});const Te=O.toFiniteNumber(Z.headers.get("content-length")),[dt,tt]=S&&Cf(Te,Ra(Tf(S),!0))||[];Z=new s(Df(Z.body,Of,dt,()=>{tt&&tt(),Ae&&Ae()}),Le)}x=x||"text";let lt=await d[O.findKey(d,x)||"text"](Z,g);return!xe&&Ae&&Ae(),await new Promise((Le,Te)=>{yv(Le,Te,{data:lt,headers:Lt.from(Z.headers),status:Z.status,statusText:Z.statusText,config:g,request:ce})})}catch(K){throw Ae&&Ae(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new ae("Network Error",ae.ERR_NETWORK,g,ce),{cause:K.cause||K}):ae.from(K,K&&K.code,g,ce)}}},Ox=new Map,Ev=t=>{let e=t&&t.env||{};const{fetch:n,Request:s,Response:i}=e,r=[s,i,n];let o=r.length,a=o,l,c,u=Ox;for(;a--;)l=r[a],c=u.get(l),c===void 0&&u.set(l,c=a?new Map:Dx(e)),u=c;return c};Ev();const Ed={http:KA,xhr:Ax,fetch:{get:Ev}};O.forEach(Ed,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Nf=t=>`- ${t}`,Px=t=>O.isFunction(t)||t===null||t===!1;function Mx(t,e){t=O.isArray(t)?t:[t];const{length:n}=t;let s,i;const r={};for(let o=0;o<n;o++){s=t[o];let a;if(i=s,!Px(s)&&(i=Ed[(a=String(s)).toLowerCase()],i===void 0))throw new ae(`Unknown adapter '${a}'`);if(i&&(O.isFunction(i)||(i=i.get(e))))break;r[a||"#"+o]=i}if(!i){const o=Object.entries(r).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(Nf).join(`
`):" "+Nf(o[0]):"as no adapter specified";throw new ae("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const Sv={getAdapter:Mx,adapters:Ed};function ac(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Zi(null,t)}function Lf(t){return ac(t),t.headers=Lt.from(t.headers),t.data=oc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Sv.getAdapter(t.adapter||bo.adapter,t)(t).then(function(s){return ac(t),s.data=oc.call(t,t.transformResponse,s),s.headers=Lt.from(s.headers),s},function(s){return vv(s)||(ac(t),s&&s.response&&(s.response.data=oc.call(t,t.transformResponse,s.response),s.response.headers=Lt.from(s.response.headers))),Promise.reject(s)})}const Av="1.13.2",wl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{wl[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const jf={};wl.transitional=function(e,n,s){function i(r,o){return"[Axios v"+Av+"] Transitional option '"+r+"'"+o+(s?". "+s:"")}return(r,o,a)=>{if(e===!1)throw new ae(i(o," has been removed"+(n?" in "+n:"")),ae.ERR_DEPRECATED);return n&&!jf[o]&&(jf[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,a):!0}};wl.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function Ix(t,e,n){if(typeof t!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const r=s[i],o=e[r];if(o){const a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new ae("option "+r+" must be "+l,ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ae("Unknown option "+r,ae.ERR_BAD_OPTION)}}const oa={assertOptions:Ix,validators:wl},gn=oa.validators;let Ks=class{constructor(e){this.defaults=e||{},this.interceptors={request:new xf,response:new xf}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Zs(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:r}=n;s!==void 0&&oa.assertOptions(s,{silentJSONParsing:gn.transitional(gn.boolean),forcedJSONParsing:gn.transitional(gn.boolean),clarifyTimeoutError:gn.transitional(gn.boolean)},!1),i!=null&&(O.isFunction(i)?n.paramsSerializer={serialize:i}:oa.assertOptions(i,{encode:gn.function,serialize:gn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),oa.assertOptions(n,{baseUrl:gn.spelling("baseURL"),withXsrfToken:gn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&O.merge(r.common,r[n.method]);r&&O.forEach(["delete","get","head","post","put","patch","common"],g=>{delete r[g]}),n.headers=Lt.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const c=[];this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected)});let u,d=0,h;if(!l){const g=[Lf.bind(this),void 0];for(g.unshift(...a),g.push(...c),h=g.length,u=Promise.resolve(n);d<h;)u=u.then(g[d++],g[d++]);return u}h=a.length;let f=n;for(;d<h;){const g=a[d++],p=a[d++];try{f=g(f)}catch(m){p.call(this,m);break}}try{u=Lf.call(this,f)}catch(g){return Promise.reject(g)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Zs(this.defaults,e);const n=_v(e.baseURL,e.url,e.allowAbsoluteUrls);return pv(n,e.params,e.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(e){Ks.prototype[e]=function(n,s){return this.request(Zs(s||{},{method:e,url:n,data:(s||{}).data}))}});O.forEach(["post","put","patch"],function(e){function n(s){return function(r,o,a){return this.request(Zs(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Ks.prototype[e]=n(),Ks.prototype[e+"Form"]=n(!0)});let Nx=class xv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(i=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](i);s._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(a=>{s.subscribe(a),r=a}).then(i);return o.cancel=function(){s.unsubscribe(r)},o},e(function(r,o,a){s.reason||(s.reason=new Zi(r,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new xv(function(i){e=i}),cancel:e}}};function Lx(t){return function(n){return t.apply(null,n)}}function jx(t){return O.isObject(t)&&t.isAxiosError===!0}const pu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(pu).forEach(([t,e])=>{pu[e]=t});function Rv(t){const e=new Ks(t),n=sv(Ks.prototype.request,e);return O.extend(n,Ks.prototype,e,{allOwnKeys:!0}),O.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Rv(Zs(t,i))},n}const Xe=Rv(bo);Xe.Axios=Ks;Xe.CanceledError=Zi;Xe.CancelToken=Nx;Xe.isCancel=vv;Xe.VERSION=Av;Xe.toFormData=_l;Xe.AxiosError=ae;Xe.Cancel=Xe.CanceledError;Xe.all=function(e){return Promise.all(e)};Xe.spread=Lx;Xe.isAxiosError=jx;Xe.mergeConfig=Zs;Xe.AxiosHeaders=Lt;Xe.formToJSON=t=>bv(O.isHTMLForm(t)?new FormData(t):t);Xe.getAdapter=Sv.getAdapter;Xe.HttpStatusCode=pu;Xe.default=Xe;const{Axios:tH,AxiosError:nH,CanceledError:sH,isCancel:iH,CancelToken:rH,VERSION:oH,all:aH,Cancel:lH,isAxiosError:cH,spread:uH,toFormData:dH,AxiosHeaders:hH,HttpStatusCode:fH,formToJSON:gH,getAdapter:pH,mergeConfig:mH}=Xe,Pt=Xe.create({baseURL:"https://vue-demo-backend.onrender.com"});Pt.interceptors.request.use(t=>{const e=localStorage.getItem("access_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});Pt.interceptors.response.use(t=>t,t=>{if(t.response?.status===401){if(t.response.config.url==="/login")return Promise.reject(t);localStorage.clear(),alert(""),window.location.href="/";return}return Promise.reject(t)});const El=tS("auth",{state:()=>({token:localStorage.getItem("access_token"),user:null,isReady:!1}),getters:{isLogin:t=>!!t.token&&!!t.user},actions:{async init(){if(!this.token){this.isReady=!0;return}try{await this.fetchMe()}catch{this.logout()}finally{this.isReady=!0}},async login(t,e){const n=await Pt.post("/login",{email:t,password:e});this.token=n.data.access_token,localStorage.setItem("access_token",this.token),await this.fetchMe()},async fetchMe(){const t=await Pt.get("/me");this.user=t.data},logout(){this.token=null,this.user=null,localStorage.removeItem("access_token")}}}),Bx="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20261.76%20226.69'%3e%3cpath%20d='M161.096.001l-30.225%2052.351L100.647.001H-.005l130.877%20226.688L261.749.001z'%20fill='%2341b883'/%3e%3cpath%20d='M161.096.001l-30.225%2052.351L100.647.001H52.346l78.526%20136.01L209.398.001z'%20fill='%2334495e'/%3e%3c/svg%3e",ys=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Fx={class:"greetings"},Ux={class:"green"},Hx={__name:"HelloWorld",props:{msg:{type:String,required:!0}},setup(t){return(e,n)=>(he(),be("div",Fx,[C("h1",Ux,je(t.msg),1),n[0]||(n[0]=C("h3",null,[It(" Its created a project with "),C("a",{href:"https://vite.dev/",target:"_blank",rel:"noopener"},"Vite"),It(" + "),C("a",{href:"https://vuejs.org/",target:"_blank",rel:"noopener"},"Vue 3"),It(". ")],-1))]))}},$x=ys(Hx,[["__scopeId","data-v-08f71f8d"]]),Vx={class:"wrapper"},Wx={__name:"Loginbackground",setup(t){return(e,n)=>(he(),be(bt,null,[C("header",null,[n[0]||(n[0]=C("img",{alt:"Vue logo",class:"logo",src:Bx,width:"125",height:"125"},null,-1)),C("div",Vx,[ge($x,{msg:"Welcome Wen's DEMO!"})])]),ge(Jt(nv))],64))}},Bf=ys(Wx,[["__scopeId","data-v-8fbe7a0d"]]),zx={class:"input-group"},qx=["type","placeholder","value","required"],ds={__name:"PasswordInput",props:{modelValue:String,placeholder:{type:String,default:""},required:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t){const e=ue(!1);return(n,s)=>(he(),be("div",zx,[C("input",{type:e.value?"text":"password",class:"form-control",placeholder:t.placeholder,value:t.modelValue,onInput:s[0]||(s[0]=i=>n.$emit("update:modelValue",i.target.value)),required:t.required},null,40,qx),C("button",{type:"button",class:"btn btn-outline-secondary",onClick:s[1]||(s[1]=i=>e.value=!e.value)},[C("i",{class:Ut(e.value?"bi bi-eye-slash":"bi bi-eye")},null,2)])]))}},Gx={id:"loginApp",class:"container"},Kx={class:"login-card"},Yx={class:"mb-3"},Jx={class:"mb-3"},Qx={key:0,class:"text-danger text-center mt-3"},Xx={__name:"Login",setup(t){const e=ue(""),n=ue(""),s=ue(""),i=Qi(),r=El();ue(!1);const o=async()=>{s.value="";try{await r.login(e.value,n.value),i.push("/")}catch(a){s.value=a.response?.data?.error||"Login failed"}};return(a,l)=>{const c=Xs("RouterLink");return he(),be("div",Gx,[C("div",Kx,[l[8]||(l[8]=C("h2",{class:"login-title mb-4 text-center"},"",-1)),C("form",{onSubmit:md(o,["prevent"])},[C("div",Yx,[l[2]||(l[2]=C("label",{class:"form-label"},"Email",-1)),Wt(C("input",{"onUpdate:modelValue":l[0]||(l[0]=u=>e.value=u),class:"form-control",placeholder:"Email"},null,512),[[wn,e.value]])]),C("div",Jx,[l[3]||(l[3]=C("label",{class:"form-label"},"",-1)),ge(ds,{modelValue:n.value,"onUpdate:modelValue":l[1]||(l[1]=u=>n.value=u),placeholder:"",required:""},null,8,["modelValue"])]),l[6]||(l[6]=C("button",{type:"submit",class:"btn btn-success w-100 py-2 mt-3"},"",-1)),s.value?(he(),be("p",Qx,je(s.value),1)):Gt("",!0),ge(c,{to:"/loginbackground/register"},{default:Un(()=>[...l[4]||(l[4]=[It("",-1)])]),_:1}),l[7]||(l[7]=C("br",null,null,-1)),ge(c,{to:"/loginbackground/forgotpassword"},{default:Un(()=>[...l[5]||(l[5]=[It("",-1)])]),_:1})],32)])])}}},Zx={class:"rules"},eR={__name:"PasswordRules",props:{rules:{type:Object,required:!0}},setup(t){return(e,n)=>(he(),be("ul",Zx,[C("li",{class:Ut({valid:t.rules.length})}," 6 ",2),C("li",{class:Ut({valid:t.rules.uppercase})},"",2),C("li",{class:Ut({valid:t.rules.lowercase})},"",2),C("li",{class:Ut({valid:t.rules.number})},"",2),C("li",{class:Ut({valid:t.rules.special})},"",2)]))}},Sd=ys(eR,[["__scopeId","data-v-e6d39ab6"]]);function Sl(t){return{length:t.length>=6,uppercase:/[A-Z]/.test(t),lowercase:/[a-z]/.test(t),number:/\d/.test(t),special:/[!@#$%^&*()_+=[\]{};':"\\|,.<>/?~-]/.test(t)}}function tR(t){const e=Sl(t);return Object.values(e).every(Boolean)}function Ad(t,e,n={}){const{minLength:s=6,requireConfirm:i=!0,requireStrong:r=!1}=n;return t?t.length<s?` ${s} `:r&&!tR(t)?"":i&&t!==e?"":"":""}const nR={class:"container"},sR={class:"login-card"},iR={class:"mb-3"},rR={class:"mb-3"},oR={class:"mb-3"},aR={key:0,class:"text-danger text-center mt-3"},lR={key:1,class:"text-success text-center mt-3"},cR={class:"text-center mt-4"},uR={__name:"Register",setup(t){Qi();const e=ue(""),n=ue(""),s=ue(""),i=ue(""),r=ue(!1),o=Ve(()=>Sl(n.value));Ve(()=>Object.values(o.value).every(Boolean));const a=async()=>{i.value="",r.value=!1;const l=Ad(n.value,s.value,{requireStrong:!0});if(l){i.value=l;return}try{await Pt.post("/register",{email:e.value,password:n.value}),r.value=!0}catch(c){i.value=c.response?.data?.error||c.message||""}};return(l,c)=>{const u=Xs("RouterLink");return he(),be("div",nR,[C("div",sR,[c[8]||(c[8]=C("h2",{class:"login-title text-center mb-4"},"",-1)),C("form",{onSubmit:md(a,["prevent"])},[C("div",iR,[c[3]||(c[3]=C("label",{class:"form-label"},"Email",-1)),Wt(C("input",{"onUpdate:modelValue":c[0]||(c[0]=d=>e.value=d),type:"email",class:"form-control",placeholder:" Email",required:""},null,512),[[wn,e.value]])]),C("div",rR,[c[4]||(c[4]=C("label",{class:"form-label"},"",-1)),ge(ds,{modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=d=>n.value=d),placeholder:" 6 ",required:""},null,8,["modelValue"])]),C("div",oR,[c[5]||(c[5]=C("label",{class:"form-label"},"",-1)),ge(ds,{modelValue:s.value,"onUpdate:modelValue":c[2]||(c[2]=d=>s.value=d),placeholder:" 6 ",required:""},null,8,["modelValue"])]),ge(Sd,{rules:o.value},null,8,["rules"]),c[6]||(c[6]=C("button",{type:"submit",class:"btn btn-primary w-100 mt-3"},"",-1)),i.value?(he(),be("p",aR,je(i.value),1)):Gt("",!0),r.value?(he(),be("p",lR,"")):Gt("",!0)],32),C("div",cR,[ge(u,{to:"/loginbackground/login"},{default:Un(()=>[...c[7]||(c[7]=[It("",-1)])]),_:1})])])])}}},dR=ys(uR,[["__scopeId","data-v-6722b7aa"]]),hR={class:"container"},fR={class:"login-card"},gR={class:"mb-3"},pR={class:"mb-3"},mR={class:"mb-3"},bR=["disabled"],vR={key:0,class:"text-danger text-center mt-3"},yR={class:"text-center mt-4"},_R={__name:"Resetpassword",setup(t){const e=Qi(),n=El(),s=ue(""),i=ue(""),r=ue(""),o=ue(""),a=ue(!1),l=Ve(()=>Sl(i.value));Ve(()=>Object.values(l.value).every(Boolean));const c=async()=>{o.value="";const u=Ad(i.value,r.value,{requireStrong:!0});if(u){o.value=u;return}a.value=!0;try{const d=await Pt.post("/auth/Resetpassword",{currentPassword:s.value,newPassword:i.value});alert(d.data.message),n.logout(),e.push("/loginbackground/login")}catch(d){o.value=d.response?.data?.error||""}finally{a.value=!1}};return(u,d)=>{const h=Xs("RouterLink");return he(),be("div",hR,[C("div",fR,[d[7]||(d[7]=C("h2",{class:"login-title text-center mb-4"},"",-1)),C("form",{onSubmit:md(c,["prevent"])},[C("div",gR,[d[3]||(d[3]=C("label",{class:"form-label"},"",-1)),ge(ds,{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=f=>s.value=f),placeholder:"",required:""},null,8,["modelValue"])]),C("div",pR,[d[4]||(d[4]=C("label",{class:"form-label"},"",-1)),ge(ds,{modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=f=>i.value=f),placeholder:"",required:""},null,8,["modelValue"])]),C("div",mR,[d[5]||(d[5]=C("label",{class:"form-label"},"",-1)),ge(ds,{modelValue:r.value,"onUpdate:modelValue":d[2]||(d[2]=f=>r.value=f),placeholder:"",required:""},null,8,["modelValue"])]),ge(Sd,{rules:l.value},null,8,["rules"]),C("button",{type:"submit",class:"btn btn-primary w-100 mt-3",disabled:a.value},je(a.value?"...":""),9,bR),o.value?(he(),be("p",vR,je(o.value),1)):Gt("",!0)],32),C("div",yR,[ge(h,{to:"/"},{default:Un(()=>[...d[6]||(d[6]=[It(" Dashboard",-1)])]),_:1})])])])}}},wR=ys(_R,[["__scopeId","data-v-7be7d464"]]),ER={class:"container d-flex justify-content-center align-items-center min-vh-100"},SR={class:"card shadow-sm p-4",style:{"max-width":"420px",width:"100%"}},AR={class:"mb-3"},xR=["disabled"],RR=["disabled"],CR={key:0,class:"spinner-border spinner-border-sm me-2"},TR={class:"text-center mt-4"},kR={__name:"Forgotpassword",setup(t){const e=ue(""),n=ue(""),s=ue("text-success"),i=ue(!1),r=async()=>{if(e.value){n.value="",i.value=!0;try{const o=await Pt.post("/auth/forgotpassword",{email:e.value});n.value=o.data.message,s.value="text-success"}catch{n.value="",s.value="text-danger"}finally{i.value=!1}}};return(o,a)=>{const l=Xs("RouterLink");return he(),be("div",ER,[C("div",SR,[a[3]||(a[3]=C("h3",{class:"text-center mb-3 fw-bold"},"",-1)),a[4]||(a[4]=C("p",{class:"text-muted text-center mb-4"},"  Email ",-1)),C("div",AR,[a[1]||(a[1]=C("label",{class:"form-label"},"Email",-1)),Wt(C("input",{"onUpdate:modelValue":a[0]||(a[0]=c=>e.value=c),type:"email",class:"form-control",placeholder:"example@email.com",disabled:i.value},null,8,xR),[[wn,e.value]])]),C("button",{class:"btn btn-primary w-100",onClick:r,disabled:i.value||!e.value},[i.value?(he(),be("span",CR)):Gt("",!0),It(" "+je(i.value?"...":""),1)],8,RR),n.value?(he(),be("p",{key:0,class:Ut(["mt-3 text-center",s.value])},je(n.value),3)):Gt("",!0),C("div",TR,[ge(l,{to:"/"},{default:Un(()=>[...a[2]||(a[2]=[It(" ",-1)])]),_:1})])])])}}};function Al(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function DR(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})}const OR=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class xd extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class PR extends xd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ff extends xd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Uf extends xd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var mu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(mu||(mu={}));class MR{constructor(e,{headers:n={},customFetch:s,region:i=mu.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=OR(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return DR(this,arguments,void 0,function*(n,s={}){var i;let r,o;try{const{headers:a,method:l,body:c,signal:u,timeout:d}=s;let h={},{region:f}=s;f||(f=this.region);const g=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,g.searchParams.set("forceFunctionRegion",f));let p;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=c):typeof c=="string"?(h["Content-Type"]="text/plain",p=c):typeof FormData<"u"&&c instanceof FormData?p=c:(h["Content-Type"]="application/json",p=JSON.stringify(c)):p=c;let m=u;d&&(o=new AbortController,r=setTimeout(()=>o.abort(),d),u?(m=o.signal,u.addEventListener("abort",()=>o.abort())):m=o.signal);const b=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:p,signal:m}).catch(S=>{throw new PR(S)}),v=b.headers.get("x-relay-error");if(v&&v==="true")throw new Ff(b);if(!b.ok)throw new Uf(b);let y=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield b.json():y==="application/octet-stream"||y==="application/pdf"?_=yield b.blob():y==="text/event-stream"?_=b:y==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(a){return{data:null,error:a,response:a instanceof Uf||a instanceof Ff?a.context:void 0}}finally{r&&clearTimeout(r)}})}}var IR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},NR=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{let o=null,a=null,l=null,c=r.status,u=r.statusText;if(r.ok){var d,h;if(n.method!=="HEAD"){var f;const b=await r.text();b===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=b:a=JSON.parse(b))}const p=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),m=(h=r.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&m&&m.length>1&&(l=parseInt(m[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var g;const p=await r.text();try{o=JSON.parse(p),Array.isArray(o)&&r.status===404&&(a=[],o=null,c=200,u="OK")}catch{r.status===404&&p===""?(c=204,u="No Content"):o={message:p}}if(o&&n.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&n.shouldThrowOnError)throw new IR(o)}return{error:o,data:a,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(i=i.catch(r=>{var o;let a="";const l=r?.cause;if(l){var c,u,d,h;const g=(c=l?.message)!==null&&c!==void 0?c:"",p=(u=l?.code)!==null&&u!==void 0?u:"";a=`${(d=r?.name)!==null&&d!==void 0?d:"FetchError"}: ${r?.message}`,a+=`

Caused by: ${(h=l?.name)!==null&&h!==void 0?h:"Error"}: ${g}`,p&&(a+=` (${p})`),l?.stack&&(a+=`
${l.stack}`)}else{var f;a=(f=r?.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(o=r?.name)!==null&&o!==void 0?o:"FetchError"}: ${r?.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},LR=class extends NR{select(t){let e=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const r=i?`${i}.order`:"order",o=this.url.searchParams.get(r);return this.url.searchParams.set(r,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(r,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:r="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${r}; for="${l}"; options=${a};`),r==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Hf=new RegExp("[,()]");var Si=class extends LR{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&Hf.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(s=>typeof s=="string"&&Hf.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const r=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${r}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},jR=class{constructor(t,{headers:e={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=s}select(t,e){const{head:n=!1,count:s}=e??{},i=n?"HEAD":"GET";let r=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new Si({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var s;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const r=t.reduce((o,a)=>o.concat(Object.keys(a)),[]);if(r.length>0){const o=[...new Set(r)].map(a=>`"${a}"`);this.url.searchParams.set("columns",o.join(","))}}return new Si({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var r;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Si({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}update(t,{count:e}={}){var n;const s="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Si({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Si({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},BR=class Cv{constructor(e,{headers:n={},schema:s,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=s,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new jR(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Cv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:i=!1,count:r}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;s||i?(a=s?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",c=n);const u=new Headers(this.headers);return r&&u.set("Prefer",`count=${r}`),new Si({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class FR{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const UR="2.89.0",HR=`realtime-js/${UR}`,Tv="1.0.0",$R="2.0.0",$f=Tv,bu=1e4,VR=1e3,WR=100;var ts;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ts||(ts={}));var st;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(st||(st={}));var tn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(tn||(tn={}));var vu;(function(t){t.websocket="websocket"})(vu||(vu={}));var Fs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Fs||(Fs={}));class zR{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const i=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,s;const i=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,n,s){var i,r;const o=e.topic,a=(i=e.ref)!==null&&i!==void 0?i:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",c=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(f),p=0;g.setUint8(p++,this.KINDS.userBroadcastPush),g.setUint8(p++,l.length),g.setUint8(p++,a.length),g.setUint8(p++,o.length),g.setUint8(p++,c.length),g.setUint8(p++,d.length),g.setUint8(p++,n),Array.from(l,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(a,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(c,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(d,b=>g.setUint8(p++,b.charCodeAt(0)));var m=new Uint8Array(f.byteLength+s.byteLength);return m.set(new Uint8Array(f),0),m.set(new Uint8Array(s),f.byteLength),m.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[i,r,o,a,l]=s;return n({join_ref:i,ref:r,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),i=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,s){const i=n.getUint8(1),r=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=s.decode(e.slice(l,l+i));l=l+i;const u=s.decode(e.slice(l,l+r));l=l+r;const d=s.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(s.decode(h)):h,g={type:this.BROADCAST_EVENT,event:u,payload:f};return o>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>n.includes(s)))}}class kv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Pe||(Pe={}));const Vf=(t,e,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((r,o)=>(r[o]=qR(o,t,e,i),r),{}):{}},qR=(t,e,n,s)=>{const i=e.find(a=>a.name===t),r=i?.type,o=n[t];return r&&!s.includes(r)?Dv(r,o):yu(o)},Dv=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return JR(e,n)}switch(t){case Pe.bool:return GR(e);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return KR(e);case Pe.json:case Pe.jsonb:return YR(e);case Pe.timestamp:return QR(e);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return yu(e);default:return yu(e)}},yu=t=>t,GR=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},KR=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},YR=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},JR=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let r;const o=t.slice(1,n);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>Dv(e,a))}return t},QR=t=>typeof t=="string"?t.replace(" ","T"):t,Ov=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class lc{constructor(e,n,s={},i=bu){this.channel=e,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Wf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Wf||(Wf={}));class Tr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tr.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=Tr.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Tr.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,i){const r=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=r[c];if(d){const h=u.map(m=>m.presence_ref),f=d.map(m=>m.presence_ref),g=u.filter(m=>f.indexOf(m.presence_ref)<0),p=d.filter(m=>h.indexOf(m.presence_ref)<0);g.length>0&&(a[c]=g),p.length>0&&(l[c]=p)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},s,i)}static syncDiff(e,n,s,i){const{joins:r,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const i=e[s];return"metas"in i?n[s]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):n[s]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(zf||(zf={}));var kr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(kr||(kr={}));var Pn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Pn||(Pn={}));class Ci{constructor(e,n={config:{}},s){var i,r;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new lc(this,tn.join,this.params,this.timeout),this.rejoinTimer=new kv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Tr(this),this.broadcastEndpointURL=Ov(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((r=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||r===void 0)&&r.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[kr.PRESENCE]&&this.bindings[kr.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(Pn.CHANNEL_ERROR,f)),this._onClose(()=>e?.(Pn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){e?.(Pn.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,m=(g=p?.length)!==null&&g!==void 0?g:0,b=[];for(let v=0;v<m;v++){const y=p[v],{filter:{event:_,schema:S,table:T,filter:x}}=y,A=f&&f[v];if(A&&A.event===_&&Ci.isFilterValueEqual(A.schema,S)&&Ci.isFilterValueEqual(A.table,T)&&Ci.isFilterValueEqual(A.filter,x))b.push(Object.assign(Object.assign({},y),{id:A.id}));else{this.unsubscribe(),this.state=st.errored,e?.(Pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Pn.SUBSCRIBED);return}}).receive("error",f=>{this.state=st.errored,e?.(Pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(Pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===st.joined&&e===kr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const r={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(r.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:r,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var s,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:r,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=st.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new lc(this,tn.leave,{},e),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const i=new AbortController,r=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(r),o}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new lc(this,e,n,s);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>WR){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var i,r;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=tn;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let h=this._onMessage(o,n,s);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,p,m;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((m=(p=f.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(f=>f.callback(h,s)):(r=this.bindings[o])===null||r===void 0||r.filter(f=>{var g,p,m,b,v,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const _=f.id,S=(g=f.filter)===null||g===void 0?void 0:g.event;return _&&((p=n.ids)===null||p===void 0?void 0:p.includes(_))&&(S==="*"||S?.toLocaleLowerCase()===((m=n.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const _=(v=(b=f?.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((y=n?.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:m,commit_timestamp:b,type:v,errors:y}=g;h=Object.assign(Object.assign({},{schema:p,table:m,commit_timestamp:b,eventType:v,new:{},old:{},errors:y}),this._getPayloadRecords(g))}f.callback(h,s)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const i=e.toLocaleLowerCase(),r={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===s&&Ci.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tn.close,{},e)}_onError(e){this._on(tn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Vf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Vf(e.columns,e.old_record)),n}}const cc=()=>{},ko={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XR=[1e3,2e3,5e3,1e4],ZR=1e4,eC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tC{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bu,this.transport=null,this.heartbeatIntervalMs=ko.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cc,this.ref=0,this.reconnectTimer=null,this.vsn=$f,this.logger=cc,this.conn=null,this.sendBuffer=[],this.serializer=new zR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${vu.websocket}`,this.httpEndpoint=Ov(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=FR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ts.connecting:return Fs.Connecting;case ts.open:return Fs.Open;case ts.closing:return Fs.Closing;default:return Fs.Closed}}isConnected(){return this.connectionState()===Fs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,i=this.getChannels().find(r=>r.topic===s);if(i)return i;{const r=new Ci(`realtime:${e}`,n,this);return this.channels.push(r),r}}push(e){const{topic:n,event:s,payload:i,ref:r}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(VR,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ko.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:i,payload:r,ref:o}=n,a=o?`(${o})`:"",l=r.status||"";this.log("receive",`${l} ${s} ${i} ${a}`.trim(),r),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(i,r,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ts.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ts.open||this.conn.readyState===ts.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(tn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${s}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([eC],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,s=!1;if(e)n=e,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const r={access_token:n,version:HR};n&&i.updateJoinPayload(r),i.joinedOnce&&i._isJoined()&&i._push(tn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new kv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ko.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,i,r,o,a,l,c,u,d,h,f;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:bu,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:ko.HEARTBEAT_INTERVAL,this.worker=(r=e?.worker)!==null&&r!==void 0?r:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:cc,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:$f,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(g=>XR[g-1]||ZR),this.vsn){case Tv:this.encode=(u=e?.encode)!==null&&u!==void 0?u:((g,p)=>p(JSON.stringify(g))),this.decode=(d=e?.decode)!==null&&d!==void 0?d:((g,p)=>p(JSON.parse(g)));break;case $R:this.encode=(h=e?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var zr=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function nC(t,e,n){const s=new URL(e,t);if(n)for(const[i,r]of Object.entries(n))r!==void 0&&s.searchParams.set(i,r);return s.toString()}async function sC(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function iC(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:i,body:r,headers:o}){const a=nC(t.baseUrl,s,i),l=await sC(t.auth),c=await e(a,{method:n,headers:{...r?{"Content-Type":"application/json"}:{},...l,...o},body:r?JSON.stringify(r):void 0}),u=await c.text(),d=(c.headers.get("content-type")||"").includes("application/json"),h=d&&u?JSON.parse(u):u;if(!c.ok){const f=d?h:void 0,g=f?.error;throw new zr(g?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:g?.type,icebergCode:g?.code,details:f})}return{status:c.status,headers:c.headers,data:h}}}}function Do(t){return t.join("")}var rC=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Do(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Do(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Do(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Do(t.namespace)}`}),!0}catch(e){if(e instanceof zr&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof zr&&n.status===409)return;throw n}}};function fi(t){return t.join("")}var oC=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fi(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fi(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fi(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fi(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fi(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fi(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof zr&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof zr&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},aC=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=iC({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new rC(this.client,e),this.tableOps=new oC(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},xl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function $e(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var lC=class extends xl{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_u=class extends xl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Rd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),cC=()=>Response,wu=t=>{if(Array.isArray(t))return t.map(n=>wu(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[i]=wu(s)}),e},uC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},dC=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function qr(t){"@babel/helpers - typeof";return qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qr(t)}function hC(t,e){if(qr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(qr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fC(t){var e=hC(t,"string");return qr(e)=="symbol"?e:e+""}function gC(t,e,n){return(e=fC(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qf(Object(n),!0).forEach(function(s){gC(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qf(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const uc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},pC=async(t,e,n)=>{t instanceof await cC()&&!n?.noResolveJson?t.json().then(s=>{const i=t.status||500,r=s?.statusCode||i+"";e(new lC(uc(s),i,r))}).catch(s=>{e(new _u(uc(s),s))}):e(new _u(uc(t),t))},mC=(t,e,n,s)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!s?i:(uC(s)?(i.headers=ne({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(s)):i.body=s,e?.duplex&&(i.duplex=e.duplex),ne(ne({},i),n))};async function vo(t,e,n,s,i,r){return new Promise((o,a)=>{t(n,mC(e,s,i,r)).then(l=>{if(!l.ok)throw l;return s?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>pC(l,a,s))})}async function Gr(t,e,n,s){return vo(t,"GET",e,n,s)}async function en(t,e,n,s,i){return vo(t,"POST",e,s,i,n)}async function Eu(t,e,n,s,i){return vo(t,"PUT",e,s,i,n)}async function bC(t,e,n,s){return vo(t,"HEAD",e,ne(ne({},n),{},{noResolveJson:!0}),s)}async function Cd(t,e,n,s,i){return vo(t,"DELETE",e,s,i,n)}var vC=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if($e(e))return{data:null,error:e};throw e}}};let Pv;Pv=Symbol.toStringTag;var yC=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Pv]="BlobDownloadBuilder",this.promise=null}asStream(){return new vC(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if($e(e))return{data:null,error:e};throw e}}};const _C={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var wC=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Rd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,s){var i=this;try{let r;const o=ne(ne({},Gf),s);let a=ne(ne({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",i.encodeMetadata(l)),r.append("",n)):typeof FormData<"u"&&n instanceof FormData?(r=n,r.has("cacheControl")||r.append("cacheControl",o.cacheControl),l&&!r.has("metadata")&&r.append("metadata",i.encodeMetadata(l))):(r=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&r instanceof ReadableStream||r&&typeof r=="object"&&"pipe"in r&&typeof r.pipe=="function")&&!o.duplex&&(o.duplex="half")),s?.headers&&(a=ne(ne({},a),s.headers));const c=i._removeEmptyFolders(e),u=i._getFinalPath(c),d=await(t=="PUT"?Eu:en)(i.fetch,`${i.url}/object/${u}`,r,ne({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(r){if(i.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,s){var i=this;const r=i._removeEmptyFolders(t),o=i._getFinalPath(r),a=new URL(i.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const c=ne({upsert:Gf.upsert},s),u=ne(ne({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{data:{path:r,fullPath:(await Eu(i.fetch,a.toString(),l,{headers:u})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let s=n._getFinalPath(t);const i=ne({},n.headers);e?.upsert&&(i["x-upsert"]="true");const r=await en(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(n.url+r.url),a=o.searchParams.get("token");if(!a)throw new xl("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var s=this;try{return{data:await en(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:s.headers}),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}async copy(t,e,n){var s=this;try{return{data:{path:(await en(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:s.headers})).Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var s=this;try{let i=s._getFinalPath(t),r=await en(s.fetch,`${s.url}/object/sign/${i}`,ne({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:s.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return r={signedUrl:encodeURI(`${s.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(s.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var s=this;try{const i=await en(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),r=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>ne(ne({},o),{},{signedUrl:o.signedURL?encodeURI(`${s.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(e?.transform||{}),i=s?`?${s}`:"",r=this._getFinalPath(t),o=()=>Gr(this.fetch,`${this.url}/${n}/${r}${i}`,{headers:this.headers,noResolveJson:!0});return new yC(o,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:wu(await Gr(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await bC(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if($e(s)&&s instanceof _u){const i=s.originalError;if([400,404].includes(i?.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const n=this._getFinalPath(t),s=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&s.push(i);const r=typeof e?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(e?.transform||{});o!==""&&s.push(o);let a=s.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${r}/public/${n}${a}`)}}}async remove(t){var e=this;try{return{data:await Cd(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async list(t,e,n){var s=this;try{const i=ne(ne(ne({},_C),e),{},{prefix:t||""});return{data:await en(s.fetch,`${s.url}/object/list/${s.bucketId}`,i,{headers:s.headers},n),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const s=ne({},t);return{data:await en(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},e),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Mv="2.89.0",Iv={"X-Client-Info":`storage-js/${Mv}`};var EC=class{constructor(t,e={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=ne(ne({},Iv),e),this.fetch=Rd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Gr(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Gr(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await en(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}}async updateBucket(t,e){var n=this;try{return{data:await Eu(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}}async emptyBucket(t){var e=this;try{return{data:await en(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Cd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},SC=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ne(ne({},Iv),e),this.fetch=Rd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await en(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const s=n.toString(),i=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return{data:await Gr(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Cd(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!dC(t))throw new xl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new aC({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(i,r){const o=i[r];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(i,a),error:null}}catch(l){if(s)throw l;return{data:null,error:l}}}}})}};const Td={"X-Client-Info":`storage-js/${Mv}`,"Content-Type":"application/json"};var Nv=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ht(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var dc=class extends Nv{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},AC=class extends Nv{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const kd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),xC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Kf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RC=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(r=>{const o=r?.statusCode||r?.code||s+"";e(new dc(Kf(r),s,o))}).catch(()=>{const r=s+"";e(new dc(i.statusText||`HTTP ${s} error`,s,r))});else{const r=s+"";e(new dc(i.statusText||`HTTP ${s} error`,s,r))}}else e(new AC(Kf(t),t))},CC=(t,e,n,s)=>{const i={method:t,headers:e?.headers||{}};return s?(xC(s)?(i.headers=ne({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(s)):i.body=s,ne(ne({},i),n)):i};async function TC(t,e,n,s,i,r){return new Promise((o,a)=>{t(n,CC(e,s,i,r)).then(l=>{if(!l.ok)throw l;if(s?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>RC(l,a,s))})}async function $t(t,e,n,s,i){return TC(t,"POST",e,s,i,n)}var kC=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ne(ne({},Td),e),this.fetch=kd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await $t(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}}async listIndexes(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await $t(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}}},DC=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ne(ne({},Td),e),this.fetch=kd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await $t(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await $t(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await $t(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}},OC=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ne(ne({},Td),e),this.fetch=kd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await $t(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await $t(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}},PC=class extends OC{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new MC(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},MC=class extends kC{constructor(t,e,n,s){super(t,e,s),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ne(ne({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ne(ne({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new IC(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},IC=class extends DC{constructor(t,e,n,s,i){super(t,e,i),this.vectorBucketName=n,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ne(ne({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ne(ne({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ne(ne({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ne(ne({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ne(ne({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},NC=class extends EC{constructor(t,e={},n,s){super(t,e,n,s)}from(t){return new wC(this.url,this.headers,t,this.fetch)}get vectors(){return new PC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new SC(this.url+"/iceberg",this.headers,this.fetch)}};const Lv="2.89.0",Ai=30*1e3,Su=3,hc=Su*Ai,LC="http://localhost:9999",jC="supabase.auth.token",BC={"X-Client-Info":`gotrue-js/${Lv}`},Au="X-Supabase-Api-Version",jv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,UC=600*1e3;class Kr extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Y(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class HC extends Kr{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function $C(t){return Y(t)&&t.name==="AuthApiError"}class Us extends Kr{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class qn extends Kr{constructor(e,n,s,i){super(e,s,i),this.name=n,this.status=s}}class Bt extends qn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function VC(t){return Y(t)&&t.name==="AuthSessionMissingError"}class gi extends qn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Oo extends qn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Po extends qn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function WC(t){return Y(t)&&t.name==="AuthImplicitGrantRedirectError"}class Yf extends qn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zC extends qn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class xu extends qn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function fc(t){return Y(t)&&t.name==="AuthRetryableFetchError"}class Jf extends qn{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Ru extends qn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ca="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qf=` 	
\r=`.split(""),qC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Qf.length;e+=1)t[Qf[e].charCodeAt(0)]=-2;for(let e=0;e<Ca.length;e+=1)t[Ca[e].charCodeAt(0)]=e;return t})();function Xf(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Ca[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Ca[s]),e.queuedBits-=6}}function Bv(t,e,n){const s=qC[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Zf(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=o=>{YC(o,s,n)};for(let o=0;o<t.length;o+=1)Bv(t.charCodeAt(o),i,r);return e.join("")}function GC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function KC(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}GC(s,e)}}function YC(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ni(t){const e=[],n={queue:0,queuedBits:0},s=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Bv(t.charCodeAt(i),n,s);return new Uint8Array(e)}function JC(t){const e=[];return KC(t,n=>e.push(n)),new Uint8Array(e)}function Ws(t){const e=[],n={queue:0,queuedBits:0},s=i=>{e.push(i)};return t.forEach(i=>Xf(i,n,s)),Xf(null,n,s),e.join("")}function QC(t){return Math.round(Date.now()/1e3)+t}function XC(){return Symbol("auth-callback")}const ut=()=>typeof window<"u"&&typeof document<"u",Rs={tested:!1,writable:!1},Fv=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rs.tested)return Rs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Rs.tested=!0,Rs.writable=!0}catch{Rs.tested=!0,Rs.writable=!1}return Rs.writable};function ZC(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,r)=>{e[r]=i})}catch{}return n.searchParams.forEach((s,i)=>{e[i]=s}),e}const Uv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eT=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",xi=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Cs=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ct=async(t,e)=>{await t.removeItem(e)};class Rl{constructor(){this.promise=new Rl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Rl.promiseConstructor=Promise;function gc(t){const e=t.split(".");if(e.length!==3)throw new Ru("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!FC.test(e[s]))throw new Ru("JWT not in base64url format");return{header:JSON.parse(Zf(e[0])),payload:JSON.parse(Zf(e[1])),signature:Ni(e[2]),raw:{header:e[0],payload:e[1]}}}async function tT(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function nT(t,e){return new Promise((s,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await t(r);if(!e(r,null,o)){s(o);return}}catch(o){if(!e(r,o)){i(o);return}}})()})}function sT(t){return("0"+t.toString(16)).substr(-2)}function iT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let r=0;r<56;r++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(e),Array.from(e,sT).join("")}async function rT(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function oT(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await rT(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pi(t,e,n=!1){const s=iT();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await xi(t,`${e}-code-verifier`,i);const r=await oT(s);return[r,s===r?"plain":"s256"]}const aT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lT(t){const e=t.headers.get(Au);if(!e||!e.match(aT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function cT(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function uT(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mi(t){if(!dT.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pc(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hT(t,e){return new Proxy(t,{get:(n,s,i)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)"||r==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,i)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,i)}})}function eg(t){return JSON.parse(JSON.stringify(t))}const Ms=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fT=[502,503,504];async function tg(t){var e;if(!eT(t))throw new xu(Ms(t),0);if(fT.includes(t.status))throw new xu(Ms(t),t.status);let n;try{n=await t.json()}catch(r){throw new Us(Ms(r),r)}let s;const i=lT(t);if(i&&i.getTime()>=jv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Jf(Ms(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Bt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new Jf(Ms(n),t.status,n.weak_password.reasons);throw new HC(Ms(n),t.status||500,s)}const gT=(t,e,n,s)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function te(t,e,n,s){var i;const r=Object.assign({},s?.headers);r[Au]||(r[Au]=jv["2024-01-01"].name),s?.jwt&&(r.Authorization=`Bearer ${s.jwt}`);const o=(i=s?.query)!==null&&i!==void 0?i:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await pT(t,e,n+a,{headers:r,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function pT(t,e,n,s,i,r){const o=gT(e,s,i,r);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new xu(Ms(l),0)}if(a.ok||await tg(a),s?.noResolveJson)return a;try{return await a.json()}catch(l){await tg(l)}}function Zt(t){var e;let n=null;vT(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=QC(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function ng(t){const e=Zt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ns(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function mT(t){return{data:t,error:null}}function bT(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r}=t,o=Al(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function sg(t){return t}function vT(t){return t.access_token&&t.refresh_token&&t.expires_in}const mc=["global","local","others"];class yT{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Uv(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=mc[0]){if(mc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mc.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ns})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=Al(e,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s?.newEmail,delete i.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:bT,redirectTo:n?.redirectTo})}catch(n){if(Y(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ns})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:sg});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);c[`${m}Page`]=p}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Y(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){mi(e);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ns})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){mi(e);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ns})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){mi(e);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ns})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){mi(e.userId);try{const{data:n,error:s}=await te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _deleteFactor(e){mi(e.userId),mi(e.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:sg});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);c[`${m}Page`]=p}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Y(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Y(n))return{data:null,error:n};throw n}}}function ig(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const bi={debug:!!(globalThis&&Fv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class _T extends Hv{}async function wT(t,e,n){bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),bi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new _T(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bi.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function ET(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $v(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function ST(t){return parseInt(t,16)}function AT(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function xT(t){var e;const{chainId:n,domain:s,expirationTime:i,issuedAt:r=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=$v(t.address),g=u?`${u}://${s}`:s,p=t.statement?`${t.statement}
`:"",m=`${g} wants you to sign in with your Ethereum account:
${f}

${p}`;let b=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${r.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let v=`
Resources:`;for(const y of c){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);v+=`
- ${y}`}b+=v}return`${m}
${b}`}class et extends Error{constructor({message:e,code:n,cause:s,name:i}){var r;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(r=i??(s instanceof Error?s.name:void 0))!==null&&r!==void 0?r:"Unknown Error",this.code=n}}class Ta extends et{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function RT({error:t,options:e}){var n,s,i;const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=r.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=r.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=r.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new et({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return r.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Vv(o)){if(r.rp.id!==o)return new et({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function CT({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new et({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Vv(s)){if(n.rpId!==s)return new et({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class TT{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const kT=new TT;function DT(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,i=Al(t,["challenge","user","excludeCredentials"]),r=Ni(e).buffer,o=Object.assign(Object.assign({},n),{id:Ni(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:r,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ni(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function OT(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=Al(t,["challenge","allowCredentials"]),i=Ni(e).buffer,r=Object.assign(Object.assign({},s),{challenge:i});if(n&&n.length>0){r.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];r.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Ni(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return r}function PT(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ws(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ws(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function MT(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ws(new Uint8Array(i.authenticatorData)),clientDataJSON:Ws(new Uint8Array(i.clientDataJSON)),signature:Ws(new Uint8Array(i.signature)),userHandle:i.userHandle?Ws(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Vv(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function rg(){var t,e;return!!(ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function IT(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ta("Browser returned unexpected credential type",e)}:{data:null,error:new Ta("Empty credential response",e)}}catch(e){return{data:null,error:RT({error:e,options:t})}}}async function NT(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ta("Browser returned unexpected credential type",e)}:{data:null,error:new Ta("Empty credential response",e)}}catch(e){return{data:null,error:CT({error:e,options:t})}}}const LT={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},jT={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ka(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),s={};for(const i of t)if(i)for(const r in i){const o=i[r];if(o!==void 0)if(Array.isArray(o))s[r]=o;else if(n(o))s[r]=o;else if(e(o)){const a=s[r];e(a)?s[r]=ka(a,o):s[r]=ka(o)}else s[r]=o}return s}function BT(t,e){return ka(LT,t,e||{})}function FT(t,e){return ka(jT,t,e||{})}class UT{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:i},r){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=i??kT.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${s}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=BT(o.webauthn.credential_options.publicKey,r?.create),{data:u,error:d}=await IT({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=FT(o.webauthn.credential_options.publicKey,r?.request),{data:u,error:d}=await NT(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new Us("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},r){if(!n)return{data:null,error:new Kr("rpId is required for WebAuthn authentication")};try{if(!rg())return{data:null,error:new Us("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:i},{request:r});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new Us("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},r){if(!n)return{data:null,error:new Kr("rpId is required for WebAuthn registration")};try{if(!rg())return{data:null,error:new Us("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:i},{create:r});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return Y(o)?{data:null,error:o}:{data:null,error:new Us("Unexpected error in register",o)}}}}ET();const HT={url:LC,storageKey:jC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:BC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function og(t,e,n){return await n()}const vi={};class Yr{get jwks(){var e,n;return(n=(e=vi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){vi[this.storageKey]=Object.assign(Object.assign({},vi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=vi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vi[this.storageKey]=Object.assign(Object.assign({},vi[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const r=Object.assign(Object.assign({},HT),e);if(this.storageKey=r.storageKey,this.instanceID=(n=Yr.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Yr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.instanceID>0&&ut()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=r.persistSession,this.autoRefreshToken=r.autoRefreshToken,this.admin=new yT({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Uv(r.fetch),this.lock=r.lock||og,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,this.throwOnError=r.throwOnError,r.lock?this.lock=r.lock:this.persistSession&&ut()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=wT:this.lock=og,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new UT(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Fv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ig(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=ig(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Lv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(ut()&&(n=ZC(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),ut()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:r}=await this._getSessionFromURL(n,s);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),WC(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Y(n)?this._returnResult({error:n}):this._returnResult({error:new Us("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,i;try{const r=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Zt}),{data:o,error:a}=r;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signUp(e){var n,s,i;try{let r;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await pi(this.storage,this.storageKey)),r=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:d,data:(n=h?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:g},xform:Zt})}else if("phone"in e){const{phone:u,password:d,options:h}=e;r=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(s=h?.data)!==null&&s!==void 0?s:{},channel:(i=h?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Zt})}else throw new Oo("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return await ct(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(r){if(await ct(this.storage,`${this.storageKey}-code-verifier`),Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithPassword(e){try{let n;if("email"in e){const{email:r,password:o,options:a}=e;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:ng})}else if("phone"in e){const{phone:r,password:o,options:a}=e;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:ng})}else throw new Oo("You must provide either an email or phone number and a password");const{data:s,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!s||!s.session||!s.user){const r=new gi;return this._returnResult({data:{user:null,session:null},error:r})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(Y(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,i,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,i,r,o,a,l,c,u,d,h;let f,g;if("message"in e)f=e.message,g=e.signature;else{const{chain:p,wallet:m,statement:b,options:v}=e;let y;if(ut())if(typeof m=="object")y=m;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")y=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!v?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=m}const _=new URL((n=v?.url)!==null&&n!==void 0?n:window.location.href),S=await y.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=$v(S[0]);let x=(s=v?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!x){const k=await y.request({method:"eth_chainId"});x=ST(k)}const A={domain:_.host,address:T,statement:b,uri:_.href,version:"1",chainId:x,nonce:(i=v?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(r=v?.signInWithEthereum)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=v?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=v?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=v?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=v?.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=xT(A),g=await y.request({method:"personal_sign",params:[AT(f),T]})}try{const{data:p,error:m}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Zt});if(m)throw m;if(!p||!p.session||!p.user){const b=new gi;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:m})}catch(p){if(Y(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(e){var n,s,i,r,o,a,l,c,u,d,h,f;let g,p;if("message"in e)g=e.message,p=e.signature;else{const{chain:m,wallet:b,statement:v,options:y}=e;let _;if(ut())if(typeof b=="object")_=b;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))_=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const S=new URL((n=y?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const T=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y?.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),v?{statement:v}:null));let x;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")x=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)x=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)g=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),p=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(s=y?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=y?.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(u=y?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const T=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=T}}try{const{data:m,error:b}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ws(p)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Zt});if(b)throw b;if(!m||!m.session||!m.user){const v=new gi;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:b})}catch(m){if(Y(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async _exchangeCodeForSession(e){const n=await Cs(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new zC;const{data:r,error:o}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Zt});if(await ct(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!r||!r.session||!r.user){const a=new gi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(await ct(this.storage,`${this.storageKey}-code-verifier`),Y(r))return this._returnResult({data:{user:null,session:null,redirectType:null},error:r});throw r}}async signInWithIdToken(e){try{const{options:n,provider:s,token:i,access_token:r,nonce:o}=e,a=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Zt}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new gi;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(Y(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,i,r,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await pi(this.storage,this.storageKey));const{error:d}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new Oo("You must provide either an email or phone number.")}catch(a){if(await ct(this.storage,`${this.storageKey}-code-verifier`),Y(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,s;try{let i,r;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,r=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:Zt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(Y(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,s,i,r,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await pi(this.storage,this.storageKey));const c=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:mT});return!((r=c.data)===null||r===void 0)&&r.url&&ut()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await ct(this.storage,`${this.storageKey}-code-verifier`),Y(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new Bt;const{error:i}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Y(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:i,options:r}=e,{error:o}=await te(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}},redirectTo:r?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:s,type:i,options:r}=e,{data:o,error:a}=await te(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:r?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:a})}throw new Oo("You must provide either an email or phone number and a type")}catch(n){if(Y(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Cs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<hc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await Cs(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=pc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=hT(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?this._returnResult({data:{session:null},error:r}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ns}):await this._useSession(async n=>{var s,i,r;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bt}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:ns})})}catch(n){if(Y(n))return VC(n)&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:i,error:r}=s;if(r)throw r;if(!i.session)throw new Bt;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await pi(this.storage,this.storageKey));const{data:c,error:u}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ns});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(await ct(this.storage,`${this.storageKey}-code-verifier`),Y(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Bt;const n=Date.now()/1e3;let s=n,i=!0,r=null;const{payload:o}=gc(e.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;r={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return this._returnResult({data:{user:r.user,session:r},error:null})}catch(n){if(Y(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Bt;const{data:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?this._returnResult({data:{user:null,session:null},error:r}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Y(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!ut())throw new Po("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Po(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Yf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Po("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Yf("No code detected.");const{data:v,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!o||!c)throw new Po("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=Ai&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const g=h-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:p,error:m}=await this._getUser(r);if(m)throw m;const b={provider_token:s,provider_refresh_token:i,access_token:r,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(s){if(Y(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Cs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return this._returnResult({error:r});const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!($C(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=XC(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,i;try{const{data:{session:r},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await pi(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(r){if(await ct(this.storage,`${this.storageKey}-code-verifier`),Y(r))return this._returnResult({data:null,error:r});throw r}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:i}=await this._useSession(async r=>{var o,a,l,c,u;const{data:d,error:h}=r;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return ut()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(Y(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:i,data:{session:r}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,d=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=r?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Zt}),{data:h,error:f}=d;return f?this._returnResult({data:{user:null,session:null},error:f}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new gi}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:f}))}catch(i){if(await ct(this.storage,`${this.storageKey}-code-verifier`),Y(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)throw o;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await nT(async i=>(i>0&&await tT(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Zt})),(i,r)=>{const o=200*Math.pow(2,i);return r&&fc(r)&&Date.now()+o-s<Ai})}catch(s){if(this._debug(n,"error",s),Y(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),ut()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Cs(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Cs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await xi(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:pc()}else if(i&&!i.user&&!i.user){const o=await Cs(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await ct(this.storage,this.storageKey+"-user"),await xi(this.storage,this.storageKey,i)):i.user=pc()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const r=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<hc;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${hc}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),fc(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new Bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Rl;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new Bt;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={data:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),Y(r)){const o={data:null,error:r};return fc(r)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,s=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ct(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await xi(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const r=eg(i);await xi(this.storage,this.storageKey,r)}else{const i=eg(n);await xi(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ct(this.storage,this.storageKey),await ct(this.storage,this.storageKey+"-code-verifier"),await ct(this.storage,this.storageKey+"-user"),this.userStorage&&await ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ut()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ai);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-e)/Ai);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ai}ms, refresh threshold is ${Su} ticks`),i<=Su&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Hv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[r,o]=await pi(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(s?.queryParams){const r=new URLSearchParams(s.queryParams);i.push(r.toString())}return s?.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;return r?this._returnResult({data:null,error:r}):await te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await te(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return this._returnResult({data:null,error:r});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?PT(e.webauthn.credential_response):MT(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return this._returnResult({data:null,error:r});const o=await te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:DT(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:OT(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const i={all:[],phone:[],totp:[],webauthn:[]};for(const r of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(r),r.status==="verified"&&i[r.factor_type].push(r);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=gc(s.access_token);let o=null;r.aal&&(o=r.aal);let a=o;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=r.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;return i?this._returnResult({data:null,error:i}):s?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new Bt})})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:i},error:r}=s;if(r)return this._returnResult({data:null,error:r});if(!i)return this._returnResult({data:null,error:new Bt});const o=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ut()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(s){if(Y(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:i},error:r}=s;if(r)return this._returnResult({data:null,error:r});if(!i)return this._returnResult({data:null,error:new Bt});const o=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ut()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(s){if(Y(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Bt})})}catch(e){if(Y(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;return i?this._returnResult({data:null,error:i}):s?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bt})})}catch(n){if(Y(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(a=>a.kid===e);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+UC>i)return s;const{data:r,error:o}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,s=r.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:f,error:g}=await this.getSession();if(g||!f.session)return this._returnResult({data:null,error:g});s=f.session.access_token}const{header:i,payload:r,signature:o,raw:{header:a,payload:l}}=gc(s);n?.allowExpired||cT(r.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:r,header:i,signature:o},error:null}}const u=uT(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,JC(`${a}.${l}`)))throw new Ru("Invalid JWT signature");return{data:{claims:r,header:i,signature:o},error:null}}catch(s){if(Y(s))return this._returnResult({data:null,error:s});throw s}}}Yr.nextInstanceID={};const $T=Yr,VT="2.89.0";let fr="";typeof Deno<"u"?fr="deno":typeof document<"u"?fr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fr="react-native":fr="node";const WT={"X-Client-Info":`supabase-js-${fr}/${VT}`},zT={headers:WT},qT={schema:"public"},GT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},KT={};function Jr(t){"@babel/helpers - typeof";return Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jr(t)}function YT(t,e){if(Jr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(Jr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JT(t){var e=YT(t,"string");return Jr(e)=="symbol"?e:e+""}function QT(t,e,n){return(e=JT(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ag(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ag(Object(n),!0).forEach(function(s){QT(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ag(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const XT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ZT=()=>Headers,ek=(t,e,n)=>{const s=XT(n),i=ZT();return async(r,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(r,qe(qe({},o),{},{headers:c}))}};function tk(t){return t.endsWith("/")?t:t+"/"}function nk(t,e){var n,s;const{db:i,auth:r,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,h={db:qe(qe({},l),i),auth:qe(qe({},c),r),realtime:qe(qe({},u),o),storage:{},global:qe(qe(qe({},d),a),{},{headers:qe(qe({},(n=d?.headers)!==null&&n!==void 0?n:{}),(s=a?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function sk(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ik=class extends $T{constructor(t){super(t)}},rk=class{constructor(t,e,n){var s,i;this.supabaseUrl=t,this.supabaseKey=e;const r=sk(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",r),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",r),this.storageUrl=new URL("storage/v1",r),this.functionsUrl=new URL("functions/v1",r);const o=`sb-${r.hostname.split(".")[0]}-auth-token`,a={db:qT,realtime:KT,auth:qe(qe({},GT),{},{storageKey:o}),global:zT},l=nk(n??{},a);if(this.storageKey=(s=l.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=ek(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new BR(new URL("rest/v1",r).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new NC(this.storageUrl.href,this.headers,this.fetch,n?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new MR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:r,flowType:o,lock:a,debug:l,throwOnError:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ik({url:this.authUrl.href,headers:qe(qe({},h),u),storageKey:r,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:s,userStorage:i,flowType:o,lock:a,debug:l,throwOnError:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new tC(this.realtimeUrl.href,qe(qe({},t),{},{params:qe(qe({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ok=(t,e,n)=>new rk(t,e,n);function ak(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ak()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const lk="https://rzeujgvygvbmmlvuhkkk.supabase.co",ck="sb_publishable_gEaEYashvrGNNcICfxIV4A_Z8ICCZTf",bc=ok(lk,ck),uk={class:"container d-flex justify-content-center align-items-center min-vh-100"},dk={class:"card shadow-sm p-4",style:{"max-width":"420px",width:"100%"}},hk={class:"mb-3"},fk={class:"mb-3"},gk=["disabled"],pk={key:0,class:"spinner-border spinner-border-sm me-2"},mk={key:0,class:"mt-3 text-center text-danger"},bk={__name:"Forgotpasswordreset",setup(t){const e=Qi(),n=aA(),s=ue(""),i=ue(""),r=ue(""),o=ue(!1);let a="",l="";const c=Ve(()=>Sl(s.value));Ve(()=>Object.values(c.value).every(Boolean)),Ji(async()=>{const d=n.query.hash;if(!d){r.value="";return}const h=new URLSearchParams(d);if(a=h.get("access_token"),l=h.get("refresh_token"),!a||!l){r.value="";return}const{error:f}=await bc.auth.setSession({access_token:a,refresh_token:l});f&&(console.error(f),r.value="")});const u=async()=>{const d=Ad(s.value,i.value,{requireStrong:!0});if(d){r.value=d;return}o.value=!0,r.value="";const{error:h}=await bc.auth.updateUser({password:s.value});if(h){console.error(h),r.value=h.message,o.value=!1;return}alert(""),await bc.auth.signOut(),e.replace("/")};return(d,h)=>(he(),be("div",uk,[C("div",dk,[h[4]||(h[4]=C("h3",{class:"text-center mb-3 fw-bold"},"",-1)),h[5]||(h[5]=C("p",{class:"text-muted text-center mb-4"},"",-1)),C("div",hk,[h[2]||(h[2]=C("label",{class:"form-label"},"",-1)),ge(ds,{modelValue:s.value,"onUpdate:modelValue":h[0]||(h[0]=f=>s.value=f),placeholder:"",disabled:o.value,required:""},null,8,["modelValue","disabled"])]),C("div",fk,[h[3]||(h[3]=C("label",{class:"form-label"},"",-1)),ge(ds,{modelValue:i.value,"onUpdate:modelValue":h[1]||(h[1]=f=>i.value=f),placeholder:"",disabled:o.value,required:""},null,8,["modelValue","disabled"])]),ge(Sd,{rules:c.value},null,8,["rules"]),C("button",{class:"btn btn-success w-100",onClick:u,disabled:o.value},[o.value?(he(),be("span",pk)):Gt("",!0),It(" "+je(o.value?"...":""),1)],8,gk),r.value?(he(),be("p",mk,je(r.value),1)):Gt("",!0)])]))}},vk={class:"dashboard d-flex"},yk={class:"sidebar p-3"},_k={class:"nav flex-column gap-2"},wk={key:1,class:"nav-link text-dark"},Ek={class:"flex-grow-1"},Sk={class:"navbar bg-white shadow-sm px-4"},Ak={class:"btn-group"},xk={type:"button",class:"btn btn-light dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},Rk={class:"dropdown-menu"},Ck={class:"container-fluid p-4"},Tk={__name:"Dashboard",setup(t){const e=El(),n=Qi(),s=e.user?.email,i=[{label:"Calendar",name:"Calendarevent"},{label:"CalendarDashboard",name:"Calendardashboard"}],r=()=>{e.logout(),n.push("/loginbackground/login")};return(o,a)=>{const l=Xs("RouterLink"),c=Xs("RouterView");return he(),be("div",vk,[C("aside",yk,[a[0]||(a[0]=C("h5",{class:"fw-bold mb-4"},"Adminator",-1)),C("ul",_k,[(he(),be(bt,null,ya(i,u=>C("li",{class:"nav-item",key:u.label},[u&&u.name?(he(),fd(l,{key:0,class:"nav-link text-dark",to:{name:u.name}},{default:Un(()=>[It(je(u.label),1)]),_:2},1032,["to"])):(he(),be("span",wk,je(u.label),1))])),64))])]),C("div",Ek,[C("nav",Sk,[a[4]||(a[4]=C("span",{class:"fw-bold"},"Dashboard",-1)),C("div",Ak,[C("button",xk,je(Jt(s)),1),C("ul",Rk,[C("li",null,[ge(l,{class:"dropdown-item",to:"/dashboard/updprofiles"},{default:Un(()=>[...a[1]||(a[1]=[It(" UpDate UserInfo ",-1)])]),_:1})]),C("li",null,[ge(l,{class:"dropdown-item",to:"/inloginbackground/resetpassword"},{default:Un(()=>[...a[2]||(a[2]=[It(" Reset Password ",-1)])]),_:1})]),a[3]||(a[3]=C("li",null,[C("hr",{class:"dropdown-divider"})],-1)),C("li",null,[C("a",{class:"dropdown-item text-danger",onClick:r},"Logout")])])])]),C("div",Ck,[ge(c)])])])}}},kk=ys(Tk,[["__scopeId","data-v-5d420e7f"]]),Dk={class:"profile-container"},Ok={class:"avatar-section"},Pk=["src"],Mk={class:"upload"},Ik={class:"form-group"},Nk={class:"form-group"},Lk={class:"form-group"},jk={class:"form-group"},Bk=["disabled"],Fk={__name:"Updprofiles",setup(t){const e=ue(!1),n=ue({user_name:"",birth:"",sex:null,user_account:""}),s=ue(null),i=ue("");Ji(async()=>{const a=await Pt.get("/profile/me");a.data&&(Object.assign(n.value,a.data),i.value=a.data.avatar_url?`${a.data.avatar_url}?t=${Date.now()}`:"")});const r=a=>{const l=a.target.files[0];l&&(s.value=l,i.value=URL.createObjectURL(l))},o=async()=>{e.value=!0;try{const a=new FormData;a.append("user_name",n.value.user_name),a.append("birth",n.value.birth),n.value.sex!==null&&a.append("sex",n.value.sex),a.append("user_account",n.value.user_account),s.value&&a.append("avatar",s.value);const l=await Pt.put("/profile/me",a);l.data?.avatar_url&&(i.value=`${l.data.avatar_url}?t=${Date.now()}`),alert(""),s.value=null}catch{alert("")}finally{e.value=!1}};return(a,l)=>(he(),be("div",Dk,[l[8]||(l[8]=C("h2",null,"",-1)),C("div",Ok,[i.value?(he(),be("img",{key:0,src:i.value,alt:"avatar",class:"avatar"},null,8,Pk)):Gt("",!0),C("div",Mk,[C("input",{type:"file",onChange:r,accept:"image/jpg,image/jpeg,image/png"},null,32)])]),C("div",Ik,[l[3]||(l[3]=C("label",null,"",-1)),C("span",null,je(n.value.user_account),1)]),C("div",Nk,[l[4]||(l[4]=C("label",null,"",-1)),Wt(C("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>n.value.user_name=c),placeholder:""},null,512),[[wn,n.value.user_name]])]),C("div",Lk,[l[5]||(l[5]=C("label",null,"",-1)),Wt(C("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>n.value.birth=c),type:"date"},null,512),[[wn,n.value.birth]])]),C("div",jk,[l[7]||(l[7]=C("label",null,"",-1)),Wt(C("select",{"onUpdate:modelValue":l[2]||(l[2]=c=>n.value.sex=c)},[...l[6]||(l[6]=[C("option",{value:null},"",-1),C("option",{value:1},"",-1),C("option",{value:2},"",-1)])],512),[[pd,n.value.sex]])]),C("button",{class:"save-btn",disabled:e.value,onClick:o},je(e.value?"...":""),9,Bk)]))}},Uk=ys(Fk,[["__scopeId","data-v-1c3ec34f"]]);var Cl,X,Wv,zv,Wi,Hs,lg,qv,Gv,Da={},Kv=[],Hk=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ss(t,e){for(var n in e)t[n]=e[n];return t}function Yv(t){var e=t.parentNode;e&&e.removeChild(t)}function P(t,e,n){var s,i,r,o={};for(r in e)r=="key"?s=e[r]:r=="ref"?i=e[r]:o[r]=e[r];if(arguments.length>2&&(o.children=arguments.length>3?Cl.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)o[r]===void 0&&(o[r]=t.defaultProps[r]);return aa(t,o,s,i,null)}function aa(t,e,n,s,i){var r={type:t,props:e,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Wv};return i==null&&X.vnode!=null&&X.vnode(r),r}function Wn(){return{current:null}}function Ge(t){return t.children}function $k(t,e,n,s,i){var r;for(r in n)r==="children"||r==="key"||r in e||Oa(t,r,null,n[r],s);for(r in e)i&&typeof e[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||n[r]===e[r]||Oa(t,r,e[r],n[r],s)}function cg(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Hk.test(e)?n:n+"px"}function Oa(t,e,n,s,i){var r;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof s=="string"&&(t.style.cssText=s=""),s)for(e in s)n&&e in n||cg(t.style,e,"");if(n)for(e in n)s&&n[e]===s[e]||cg(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?s||t.addEventListener(e,r?dg:ug,r):t.removeEventListener(e,r?dg:ug,r);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function ug(t){Wi=!0;try{return this.l[t.type+!1](X.event?X.event(t):t)}finally{Wi=!1}}function dg(t){Wi=!0;try{return this.l[t.type+!0](X.event?X.event(t):t)}finally{Wi=!1}}function Kt(t,e){this.props=t,this.context=e}function Qr(t,e){if(e==null)return t.__?Qr(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Qr(t):null}function Jv(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Jv(t)}}function Vk(t){Wi?setTimeout(t):qv(t)}function Cu(t){(!t.__d&&(t.__d=!0)&&Hs.push(t)&&!Pa.__r++||lg!==X.debounceRendering)&&((lg=X.debounceRendering)||Vk)(Pa)}function Pa(){var t,e,n,s,i,r,o,a;for(Hs.sort(function(l,c){return l.__v.__b-c.__v.__b});t=Hs.shift();)t.__d&&(e=Hs.length,s=void 0,i=void 0,o=(r=(n=t).__v).__e,(a=n.__P)&&(s=[],(i=ss({},r)).__v=r.__v+1,Dd(a,r,i,n.__n,a.ownerSVGElement!==void 0,r.__h!=null?[o]:null,s,o??Qr(r),r.__h),ty(s,r),r.__e!=o&&Jv(r)),Hs.length>e&&Hs.sort(function(l,c){return l.__v.__b-c.__v.__b}));Pa.__r=0}function Qv(t,e,n,s,i,r,o,a,l,c){var u,d,h,f,g,p,m,b=s&&s.__k||Kv,v=b.length;for(n.__k=[],u=0;u<e.length;u++)if((f=n.__k[u]=(f=e[u])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?aa(null,f,null,null,f):Array.isArray(f)?aa(Ge,{children:f},null,null,null):f.__b>0?aa(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=n,f.__b=n.__b+1,(h=b[u])===null||h&&f.key==h.key&&f.type===h.type)b[u]=void 0;else for(d=0;d<v;d++){if((h=b[d])&&f.key==h.key&&f.type===h.type){b[d]=void 0;break}h=null}Dd(t,f,h=h||Da,i,r,o,a,l,c),g=f.__e,(d=f.ref)&&h.ref!=d&&(m||(m=[]),h.ref&&m.push(h.ref,null,f),m.push(d,f.__c||g,f)),g!=null?(p==null&&(p=g),typeof f.type=="function"&&f.__k===h.__k?f.__d=l=Xv(f,l,t):l=Zv(t,f,h,b,g,l),typeof n.type=="function"&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=t&&(l=Qr(h))}for(n.__e=p,u=v;u--;)b[u]!=null&&(typeof n.type=="function"&&b[u].__e!=null&&b[u].__e==n.__d&&(n.__d=ey(s).nextSibling),sy(b[u],b[u]));if(m)for(u=0;u<m.length;u++)ny(m[u],m[++u],m[++u])}function Xv(t,e,n){for(var s,i=t.__k,r=0;i&&r<i.length;r++)(s=i[r])&&(s.__=t,e=typeof s.type=="function"?Xv(s,e,n):Zv(n,s,s,i,s.__e,e));return e}function Ma(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Ma(n,e)}):e.push(t)),e}function Zv(t,e,n,s,i,r){var o,a,l;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=r||i.parentNode==null)e:if(r==null||r.parentNode!==t)t.appendChild(i),o=null;else{for(a=r,l=0;(a=a.nextSibling)&&l<s.length;l+=1)if(a==i)break e;t.insertBefore(i,r),o=r}return o!==void 0?o:i.nextSibling}function ey(t){var e,n,s;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(s=ey(n)))return s}return null}function Dd(t,e,n,s,i,r,o,a,l){var c,u,d,h,f,g,p,m,b,v,y,_,S,T,x,A=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,a=e.__e=n.__e,e.__h=null,r=[a]),(c=X.__b)&&c(e);try{e:if(typeof A=="function"){if(m=e.props,b=(c=A.contextType)&&s[c.__c],v=c?b?b.props.value:c.__:s,n.__c?p=(u=e.__c=n.__c).__=u.__E:("prototype"in A&&A.prototype.render?e.__c=u=new A(m,v):(e.__c=u=new Kt(m,v),u.constructor=A,u.render=zk),b&&b.sub(u),u.props=m,u.state||(u.state={}),u.context=v,u.__n=s,d=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),A.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=ss({},u.__s)),ss(u.__s,A.getDerivedStateFromProps(m,u.__s))),h=u.props,f=u.state,u.__v=e,d)A.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(A.getDerivedStateFromProps==null&&m!==h&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(m,v),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(m,u.__s,v)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(u.props=m,u.state=u.__s,u.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(k){k&&(k.__=e)}),y=0;y<u._sb.length;y++)u.__h.push(u._sb[y]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(m,u.__s,v),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(h,f,g)})}if(u.context=v,u.props=m,u.__P=t,_=X.__r,S=0,"prototype"in A&&A.prototype.render){for(u.state=u.__s,u.__d=!1,_&&_(e),c=u.render(u.props,u.state,u.context),T=0;T<u._sb.length;T++)u.__h.push(u._sb[T]);u._sb=[]}else do u.__d=!1,_&&_(e),c=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++S<25);u.state=u.__s,u.getChildContext!=null&&(s=ss(ss({},s),u.getChildContext())),d||u.getSnapshotBeforeUpdate==null||(g=u.getSnapshotBeforeUpdate(h,f)),x=c!=null&&c.type===Ge&&c.key==null?c.props.children:c,Qv(t,Array.isArray(x)?x:[x],e,n,s,i,r,o,a,l),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),p&&(u.__E=u.__=null),u.__e=!1}else r==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Wk(n.__e,e,n,s,i,r,o,l);(c=X.diffed)&&c(e)}catch(k){e.__v=null,(l||r!=null)&&(e.__e=a,e.__h=!!l,r[r.indexOf(a)]=null),X.__e(k,e,n)}}function ty(t,e){X.__c&&X.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(s){s.call(n)})}catch(s){X.__e(s,n.__v)}})}function Wk(t,e,n,s,i,r,o,a){var l,c,u,d=n.props,h=e.props,f=e.type,g=0;if(f==="svg"&&(i=!0),r!=null){for(;g<r.length;g++)if((l=r[g])&&"setAttribute"in l==!!f&&(f?l.localName===f:l.nodeType===3)){t=l,r[g]=null;break}}if(t==null){if(f===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),r=null,a=!1}if(f===null)d===h||a&&t.data===h||(t.data=h);else{if(r=r&&Cl.call(t.childNodes),c=(d=n.props||Da).dangerouslySetInnerHTML,u=h.dangerouslySetInnerHTML,!a){if(r!=null)for(d={},g=0;g<t.attributes.length;g++)d[t.attributes[g].name]=t.attributes[g].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if($k(t,h,d,i,a),u)e.__k=[];else if(g=e.props.children,Qv(t,Array.isArray(g)?g:[g],e,n,s,i&&f!=="foreignObject",r,o,r?r[0]:n.__k&&Qr(n,0),a),r!=null)for(g=r.length;g--;)r[g]!=null&&Yv(r[g]);a||("value"in h&&(g=h.value)!==void 0&&(g!==t.value||f==="progress"&&!g||f==="option"&&g!==d.value)&&Oa(t,"value",g,d.value,!1),"checked"in h&&(g=h.checked)!==void 0&&g!==t.checked&&Oa(t,"checked",g,d.checked,!1))}return t}function ny(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(s){X.__e(s,n)}}function sy(t,e,n){var s,i;if(X.unmount&&X.unmount(t),(s=t.ref)&&(s.current&&s.current!==t.__e||ny(s,null,e)),(s=t.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(r){X.__e(r,e)}s.base=s.__P=null,t.__c=void 0}if(s=t.__k)for(i=0;i<s.length;i++)s[i]&&sy(s[i],e,n||typeof t.type!="function");n||t.__e==null||Yv(t.__e),t.__=t.__e=t.__d=void 0}function zk(t,e,n){return this.constructor(t,n)}function Xr(t,e,n){var s,i,r;X.__&&X.__(t,e),i=(s=!1)?null:e.__k,r=[],Dd(e,t=e.__k=P(Ge,null,[t]),i||Da,Da,e.ownerSVGElement!==void 0,i?null:e.firstChild?Cl.call(e.childNodes):null,r,i?i.__e:e.firstChild,s),ty(r,t)}function qk(t,e){var n={__c:e="__cC"+Gv++,__:t,Consumer:function(s,i){return s.children(i)},Provider:function(s){var i,r;return this.getChildContext||(i=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,Cu(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),s.children}};return n.Provider.__=n.Consumer.contextType=n}Cl=Kv.slice,X={__e:function(t,e,n,s){for(var i,r,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,s||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},Wv=0,zv=function(t){return t!=null&&t.constructor===void 0},Wi=!1,Kt.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ss({},this.state),typeof t=="function"&&(t=t(ss({},n),this.props)),t&&ss(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Cu(this))},Kt.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Cu(this))},Kt.prototype.render=Ge,Hs=[],qv=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Pa.__r=0,Gv=0;var yn,vc,hg,iy=[],yc=[],fg=X.__b,gg=X.__r,pg=X.diffed,mg=X.__c,bg=X.unmount;function Gk(){for(var t;t=iy.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(la),t.__H.__h.forEach(Tu),t.__H.__h=[]}catch(e){t.__H.__h=[],X.__e(e,t.__v)}}X.__b=function(t){yn=null,fg&&fg(t)},X.__r=function(t){gg&&gg(t);var e=(yn=t.__c).__H;e&&(vc===yn?(e.__h=[],yn.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=yc,n.__N=n.i=void 0})):(e.__h.forEach(la),e.__h.forEach(Tu),e.__h=[])),vc=yn},X.diffed=function(t){pg&&pg(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(iy.push(e)!==1&&hg===X.requestAnimationFrame||((hg=X.requestAnimationFrame)||Kk)(Gk)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==yc&&(n.__=n.__V),n.i=void 0,n.__V=yc})),vc=yn=null},X.__c=function(t,e){e.some(function(n){try{n.__h.forEach(la),n.__h=n.__h.filter(function(s){return!s.__||Tu(s)})}catch(s){e.some(function(i){i.__h&&(i.__h=[])}),e=[],X.__e(s,n.__v)}}),mg&&mg(t,e)},X.unmount=function(t){bg&&bg(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(s){try{la(s)}catch(i){e=i}}),n.__H=void 0,e&&X.__e(e,n.__v))};var vg=typeof requestAnimationFrame=="function";function Kk(t){var e,n=function(){clearTimeout(s),vg&&cancelAnimationFrame(e),setTimeout(t)},s=setTimeout(n,100);vg&&(e=requestAnimationFrame(n))}function la(t){var e=yn,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),yn=e}function Tu(t){var e=yn;t.__c=t.__(),yn=e}function Yk(t,e){for(var n in e)t[n]=e[n];return t}function yg(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var s in e)if(s!=="__source"&&t[s]!==e[s])return!0;return!1}function _g(t){this.props=t}(_g.prototype=new Kt).isPureReactComponent=!0,_g.prototype.shouldComponentUpdate=function(t,e){return yg(this.props,t)||yg(this.state,e)};var wg=X.__b;X.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),wg&&wg(t)};var Jk=X.__e;X.__e=function(t,e,n,s){if(t.then){for(var i,r=e;r=r.__;)if((i=r.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}Jk(t,e,n,s)};var Eg=X.unmount;function ry(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(s){typeof s.__c=="function"&&s.__c()}),t.__c.__H=null),(t=Yk({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(s){return ry(s,e,n)})),t}function oy(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(s){return oy(s,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function _c(){this.__u=0,this.t=null,this.__b=null}function ay(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Mo(){this.u=null,this.o=null}X.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),Eg&&Eg(t)},(_c.prototype=new Kt).__c=function(t,e){var n=e.__c,s=this;s.t==null&&(s.t=[]),s.t.push(n);var i=ay(s.__v),r=!1,o=function(){r||(r=!0,n.__R=null,i?i(a):a())};n.__R=o;var a=function(){if(!--s.__u){if(s.state.__a){var c=s.state.__a;s.__v.__k[0]=oy(c,c.__c.__P,c.__c.__O)}var u;for(s.setState({__a:s.__b=null});u=s.t.pop();)u.forceUpdate()}},l=e.__h===!0;s.__u++||l||s.setState({__a:s.__b=s.__v.__k[0]}),t.then(o,o)},_c.prototype.componentWillUnmount=function(){this.t=[]},_c.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=ry(this.__b,n,s.__O=s.__P)}this.__b=null}var i=e.__a&&P(Ge,null,t.fallback);return i&&(i.__h=null),[P(Ge,null,e.__a?null:t.children),i]};var Sg=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function Qk(t){return this.getChildContext=function(){return t.context},t.children}function Xk(t){var e=this,n=t.i;e.componentWillUnmount=function(){Xr(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(s){this.childNodes.push(s),e.i.appendChild(s)},insertBefore:function(s,i){this.childNodes.push(s),e.i.appendChild(s)},removeChild:function(s){this.childNodes.splice(this.childNodes.indexOf(s)>>>1,1),e.i.removeChild(s)}}),Xr(P(Qk,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function Zk(t,e){var n=P(Xk,{__v:t,i:e});return n.containerInfo=e,n}(Mo.prototype=new Kt).__a=function(t){var e=this,n=ay(e.__v),s=e.o.get(t);return s[0]++,function(i){var r=function(){e.props.revealOrder?(s.push(i),Sg(e,t,s)):i()};n?n(r):r()}},Mo.prototype.render=function(t){this.u=null,this.o=new Map;var e=Ma(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Mo.prototype.componentDidUpdate=Mo.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){Sg(t,n,e)})};var eD=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,tD=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,nD=typeof document<"u",sD=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Kt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Kt.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Ag=X.event;function iD(){}function rD(){return this.cancelBubble}function oD(){return this.defaultPrevented}X.event=function(t){return Ag&&(t=Ag(t)),t.persist=iD,t.isPropagationStopped=rD,t.isDefaultPrevented=oD,t.nativeEvent=t};var xg={configurable:!0,get:function(){return this.class}},Rg=X.vnode;X.vnode=function(t){var e=t.type,n=t.props,s=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var r in s={},n){var o=n[r];nD&&r==="children"&&e==="noscript"||r==="value"&&"defaultValue"in n&&o==null||(r==="defaultValue"&&"value"in n&&n.value==null?r="value":r==="download"&&o===!0?o="":/ondoubleclick/i.test(r)?r="ondblclick":/^onchange(textarea|input)/i.test(r+e)&&!sD(n.type)?r="oninput":/^onfocus$/i.test(r)?r="onfocusin":/^onblur$/i.test(r)?r="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(r)?r=r.toLowerCase():i&&tD.test(r)?r=r.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(r)&&(r=r.toLowerCase(),s[r]&&(r="oninputCapture")),s[r]=o)}e=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=Ma(n.children).forEach(function(a){a.props.selected=s.value.indexOf(a.props.value)!=-1})),e=="select"&&s.defaultValue!=null&&(s.value=Ma(n.children).forEach(function(a){a.props.selected=s.multiple?s.defaultValue.indexOf(a.props.value)!=-1:s.defaultValue==a.props.value})),t.props=s,n.class!=n.className&&(xg.enumerable="className"in n,n.className!=null&&(s.class=n.className),Object.defineProperty(s,"className",xg))}t.$$typeof=eD,Rg&&Rg(t)};var Cg=X.__r;X.__r=function(t){Cg&&Cg(t),t.__c};const ly=[],ku=new Map;function cy(t){ly.push(t),ku.forEach(e=>{dy(e,t)})}function aD(t){t.isConnected&&t.getRootNode&&uy(t.getRootNode())}function uy(t){let e=ku.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=cD();n&&(e.nonce=n);const s=t===document?document.head:t,i=t===document?s.querySelector("script,link[rel=stylesheet],link[as=style],style"):s.firstChild;s.insertBefore(e,i)}ku.set(t,e),lD(e)}}function lD(t){for(const e of ly)dy(t,e)}function dy(t,e){const{sheet:n}=t,s=n.cssRules.length;e.split("}").forEach((i,r)=>{i=i.trim(),i&&n.insertRule(i+"}",s+r)})}let wc;function cD(){return wc===void 0&&(wc=uD()),wc}function uD(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&uy(document);var dD=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';cy(dD);class Od{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:s}=this;e in s&&(n?delete s[e]:(s[e]-=1,s[e]<=0&&delete s[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Pd(t){t.parentNode&&t.parentNode.removeChild(t)}function _t(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(hD(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function hD(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function fD(t,e){let n=t instanceof HTMLElement?[t]:t,s=[];for(let i=0;i<n.length;i+=1){let r=n[i].querySelectorAll(e);for(let o=0;o<r.length;o+=1)s.push(r[o])}return s}const gD=/(top|left|right|bottom|width|height)$/i;function Dr(t,e){for(let n in e)hy(t,n,e[n])}function hy(t,e,n){n==null?t.style[e]="":typeof n=="number"&&gD.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function fy(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let Tg=0;function Tl(){return Tg+=1,"fc-dom-"+Tg}function kl(t){t.preventDefault()}function pD(t,e){return n=>{let s=_t(n.target,t);s&&e.call(s,n,s)}}function gy(t,e,n,s){let i=pD(n,s);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function mD(t,e,n,s){let i;return gy(t,"mouseover",e,(r,o)=>{if(o!==i){i=o,n(r,o);let a=l=>{i=null,s(l,o),o.removeEventListener("mouseleave",a)};o.addEventListener("mouseleave",a)}})}const kg=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function bD(t,e){let n=s=>{e(s),kg.forEach(i=>{t.removeEventListener(i,n)})};kg.forEach(s=>{t.addEventListener(s,n)})}function py(t){return Object.assign({onClick:t},my(t))}function my(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let Dg=0;function ri(){return Dg+=1,String(Dg)}function Md(){document.body.classList.add("fc-not-allowed")}function Id(){document.body.classList.remove("fc-not-allowed")}function vD(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",kl)}function yD(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",kl)}function _D(t){t.addEventListener("contextmenu",kl)}function wD(t){t.removeEventListener("contextmenu",kl)}function ED(t){let e=[],n=[],s,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),s=0;s<n.length;s+=1)i=n[s],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function SD(t,e,n){let s,i;for(s=0;s<n.length;s+=1)if(i=AD(t,e,n[s]),i)return i;return 0}function AD(t,e,n){return n.func?n.func(t,e):xD(t[n.field],e[n.field])*(n.order||1)}function xD(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Ec(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function Or(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((s,i,r)=>s.replace("$"+r,i||""),t):n}function RD(t,e){return t-e}function Sc(t){return t%1===0}function CD(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const TD=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function we(t,e){return typeof t=="string"?kD(t):typeof t=="object"&&t?Og(t):typeof t=="number"?Og({[e||"milliseconds"]:t}):null}function kD(t){let e=TD.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function Og(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function DD(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function OD(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function PD(t){return Li(t)/365}function MD(t){return Li(t)/30}function Li(t){return Zr(t)/864e5}function Zr(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function Du(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function ps(t,e,n){if(t===e)return!0;let s=t.length,i;if(s!==e.length)return!1;for(i=0;i<s;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const ID=["sun","mon","tue","wed","thu","fri","sat"];function Pg(t,e){let n=is(t);return n[2]+=e*7,Mt(n)}function at(t,e){let n=is(t);return n[2]+=e,Mt(n)}function ms(t,e){let n=is(t);return n[6]+=e,Mt(n)}function ND(t,e){return er(t,e)/7}function er(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function LD(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function jD(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function BD(t,e){return(e.valueOf()-t.valueOf())/1e3}function FD(t,e){let n=Fe(t),s=Fe(e);return{years:0,months:0,days:Math.round(er(n,s)),milliseconds:e.valueOf()-s.valueOf()-(t.valueOf()-n.valueOf())}}function UD(t,e){let n=Ia(t,e);return n!==null&&n%7===0?n/7:null}function Ia(t,e){return rs(t)===rs(e)?Math.round(er(t,e)):null}function Fe(t){return Mt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function HD(t){return Mt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function $D(t){return Mt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function VD(t){return Mt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function WD(t,e,n){let s=t.getUTCFullYear(),i=Ac(t,s,e,n);if(i<1)return Ac(t,s-1,e,n);let r=Ac(t,s+1,e,n);return r>=1?Math.min(i,r):i}function Ac(t,e,n,s){let i=Mt([e,0,1+zD(e,n,s)]),r=Fe(t),o=Math.round(er(i,r));return Math.floor(o/7)+1}function zD(t,e,n){let s=7+e-n;return-((7+Mt([t,0,s]).getUTCDay()-e)%7)+s-1}function Mg(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function Ig(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function is(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Mt(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function by(t){return!isNaN(t.valueOf())}function rs(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function qD(t,e,n=!1){let s=t.toISOString();return s=s.replace(".000",""),n&&(s=s.replace("T00:00:00Z","")),s.length>10&&(e==null?s=s.replace("Z",""):e!==0&&(s=s.replace("Z",Ld(e,!0)))),s}function Nd(t){return t.toISOString().replace(/T.*$/,"")}function GD(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function Ld(t,e=!1){let n=t<0?"-":"+",s=Math.abs(t),i=Math.floor(s/60),r=Math.round(s%60);return e?`${n+Ec(i,2)}:${Ec(r,2)}`:`GMT${n}${i}${r?`:${Ec(r,2)}`:""}`}function ye(t,e,n){let s,i;return function(...r){if(!s)i=t.apply(this,r);else if(!ps(s,r)){let o=t.apply(this,r);(!e||!e(o,i))&&(i=o)}return s=r,i}}function ca(t,e,n){let s,i;return r=>(s?ln(s,r)||(i=t.call(this,r)):i=t.call(this,r),s=r,i)}const xc={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Na={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Io=/\s*([ap])\.?m\.?/i,KD=/,/g,YD=/\s+/g,JD=/\u200e/g,QD=/UTC|GMT/;class XD{constructor(e){let n={},s={},i=9;for(let r in e)r in xc?(s[r]=e[r],xc[r]<9&&(i=Math.min(xc[r],i))):(n[r]=e[r],r in Na&&(i=Math.min(Na[r],i)));this.standardDateProps=n,this.extendedSettings=s,this.smallestUnitNum=i,this.buildFormattingFunc=ye(Ng)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,s,i){let{standardDateProps:r,extendedSettings:o}=this,a=iO(e.marker,n.marker,s.calendarSystem);if(!a)return this.format(e,s);let l=a;l>1&&(r.year==="numeric"||r.year==="2-digit")&&(r.month==="numeric"||r.month==="2-digit")&&(r.day==="numeric"||r.day==="2-digit")&&(l=1);let c=this.format(e,s),u=this.format(n,s);if(c===u)return c;let d=rO(r,l),h=Ng(d,o,s),f=h(e),g=h(n),p=oO(c,f,u,g),m=o.separator||i||s.defaultSeparator||"";return p?p.before+f+m+g+p.after:c+m+u}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Ng(t,e,n){let s=Object.keys(t).length;return s===1&&t.timeZoneName==="short"?i=>Ld(i.timeZoneOffset):s===0&&e.week?i=>sO(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):ZD(t,e,n)}function ZD(t,e,n){t=Object.assign({},t),e=Object.assign({},e),eO(t,e),t.timeZone="UTC";let s=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let r=Object.assign({},t);delete r.minute,i=new Intl.DateTimeFormat(n.locale.codes,r)}return r=>{let{marker:o}=r,a;i&&!o.getUTCMinutes()?a=i:a=s;let l=a.format(o);return tO(l,r,t,e,n)}}function eO(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function tO(t,e,n,s,i){return t=t.replace(JD,""),n.timeZoneName==="short"&&(t=nO(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Ld(e.timeZoneOffset))),s.omitCommas&&(t=t.replace(KD,"").trim()),s.omitZeroMinute&&(t=t.replace(":00","")),s.meridiem===!1?t=t.replace(Io,"").trim():s.meridiem==="narrow"?t=t.replace(Io,(r,o)=>o.toLocaleLowerCase()):s.meridiem==="short"?t=t.replace(Io,(r,o)=>`${o.toLocaleLowerCase()}m`):s.meridiem==="lowercase"&&(t=t.replace(Io,r=>r.toLocaleLowerCase())),t=t.replace(YD," "),t=t.trim(),t}function nO(t,e){let n=!1;return t=t.replace(QD,()=>(n=!0,e)),n||(t+=` ${e}`),t}function sO(t,e,n,s,i){let r=[];return i==="long"?r.push(n):(i==="short"||i==="narrow")&&r.push(e),(i==="long"||i==="short")&&r.push(" "),r.push(s.simpleNumberFormat.format(t)),s.options.direction==="rtl"&&r.reverse(),r.join("")}function iO(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:rs(t)!==rs(e)?1:0}function rO(t,e){let n={};for(let s in t)(!(s in Na)||Na[s]<=e)&&(n[s]=t[s]);return n}function oO(t,e,n,s){let i=0;for(;i<t.length;){let r=t.indexOf(e,i);if(r===-1)break;let o=t.substr(0,r);i=r+e.length;let a=t.substr(i),l=0;for(;l<n.length;){let c=n.indexOf(s,l);if(c===-1)break;let u=n.substr(0,c);l=c+s.length;let d=n.substr(l);if(o===u&&a===d)return{before:o,after:a}}}return null}function Lg(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function La(t,e,n,s){let i=Lg(t,n.calendarSystem),r=e?Lg(e,n.calendarSystem):null;return{date:i,start:i,end:r,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:s||n.defaultSeparator}}class aO{constructor(e){this.cmdStr=e}format(e,n,s){return n.cmdFormatter(this.cmdStr,La(e,null,n,s))}formatRange(e,n,s,i){return s.cmdFormatter(this.cmdStr,La(e,n,s,i))}}class lO{constructor(e){this.func=e}format(e,n,s){return this.func(La(e,null,n,s))}formatRange(e,n,s,i){return this.func(La(e,n,s,i))}}function rt(t){return typeof t=="object"&&t?new XD(t):typeof t=="string"?new aO(t):typeof t=="function"?new lO(t):null}const jg={navLinkDayClick:D,navLinkWeekClick:D,duration:we,bootstrapFontAwesome:D,buttonIcons:D,customButtons:D,defaultAllDayEventDuration:we,defaultTimedEventDuration:we,nextDayThreshold:we,scrollTime:we,scrollTimeReset:Boolean,slotMinTime:we,slotMaxTime:we,dayPopoverFormat:rt,slotDuration:we,snapDuration:we,headerToolbar:D,footerToolbar:D,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:rt,dayHeaderClassNames:D,dayHeaderContent:D,dayHeaderDidMount:D,dayHeaderWillUnmount:D,dayCellClassNames:D,dayCellContent:D,dayCellDidMount:D,dayCellWillUnmount:D,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:D,weekNumbers:Boolean,weekNumberClassNames:D,weekNumberContent:D,weekNumberDidMount:D,weekNumberWillUnmount:D,editable:Boolean,viewClassNames:D,viewDidMount:D,viewWillUnmount:D,nowIndicator:Boolean,nowIndicatorSnap:D,nowIndicatorClassNames:D,nowIndicatorContent:D,nowIndicatorDidMount:D,nowIndicatorWillUnmount:D,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:D,locale:D,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:D,eventOrder:ED,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:D,contentHeight:D,direction:String,weekNumberFormat:rt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:D,initialDate:D,now:D,eventDataTransform:D,stickyHeaderDates:D,stickyFooterScrollbar:D,viewHeight:D,defaultAllDay:Boolean,eventSourceFailure:D,eventSourceSuccess:D,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:D,eventConstraint:D,eventAllow:D,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:D,eventContent:D,eventDidMount:D,eventWillUnmount:D,selectConstraint:D,selectOverlap:D,selectAllow:D,droppable:Boolean,unselectCancel:String,slotLabelFormat:D,slotLaneClassNames:D,slotLaneContent:D,slotLaneDidMount:D,slotLaneWillUnmount:D,slotLabelClassNames:D,slotLabelContent:D,slotLabelDidMount:D,slotLabelWillUnmount:D,dayMaxEvents:D,dayMaxEventRows:D,dayMinWidth:Number,slotLabelInterval:we,allDayText:String,allDayClassNames:D,allDayContent:D,allDayDidMount:D,allDayWillUnmount:D,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:rt,rerenderDelay:Number,moreLinkText:D,moreLinkHint:D,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:D,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:we,hiddenDays:D,fixedWeekCount:Boolean,validRange:D,visibleRange:D,titleFormat:D,eventInteractive:Boolean,noEventsText:String,viewHint:D,navLinkHint:D,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:D,moreLinkClassNames:D,moreLinkContent:D,moreLinkDidMount:D,moreLinkWillUnmount:D,monthStartFormat:rt,handleCustomRendering:D,customRenderingMetaMap:D,customRenderingReplaces:Boolean},Pr={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},Bg={datesSet:D,eventsSet:D,eventAdd:D,eventChange:D,eventRemove:D,windowResize:D,eventClick:D,eventMouseEnter:D,eventMouseLeave:D,select:D,unselect:D,loading:D,_unmount:D,_beforeprint:D,_afterprint:D,_noEventDrop:D,_noEventResize:D,_resize:D,_scrollRequest:D},Fg={buttonText:D,buttonHints:D,views:D,plugins:D,initialEvents:D,events:D,eventSources:D},Is={headerToolbar:Ns,footerToolbar:Ns,buttonText:Ns,buttonHints:Ns,buttonIcons:Ns,dateIncrement:Ns,plugins:No,events:No,eventSources:No,resources:No};function Ns(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?ln(t,e):t===e}function No(t,e){return Array.isArray(t)&&Array.isArray(e)?ps(t,e):t===e}const cO={type:String,component:D,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:D,usesMinMaxTime:Boolean,classNames:D,content:D,didMount:D,willUnmount:D};function Rc(t){return Bd(t,Is)}function jd(t,e){let n={},s={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(s[i]=t[i]);return{refined:n,extra:s}}function D(t){return t}const{hasOwnProperty:ja}=Object.prototype;function Bd(t,e){let n={};if(e){for(let s in e)if(e[s]===Ns){let i=[];for(let r=t.length-1;r>=0;r-=1){let o=t[r][s];if(typeof o=="object"&&o)i.unshift(o);else if(o!==void 0){n[s]=o;break}}i.length&&(n[s]=Bd(i))}}for(let s=t.length-1;s>=0;s-=1){let i=t[s];for(let r in i)r in n||(n[r]=i[r])}return n}function ei(t,e){let n={};for(let s in t)e(t[s],s)&&(n[s]=t[s]);return n}function oi(t,e){let n={};for(let s in t)n[s]=e(t[s],s);return n}function vy(t){let e={};for(let n of t)e[n]=!0;return e}function Fd(t){let e=[];for(let n in t)e.push(t[n]);return e}function ln(t,e){if(t===e)return!0;for(let n in t)if(ja.call(t,n)&&!(n in e))return!1;for(let n in e)if(ja.call(e,n)&&t[n]!==e[n])return!1;return!0}const uO=/^on[A-Z]/;function dO(t,e){const n=hO(t,e);for(let s of n)if(!uO.test(s))return!1;return!0}function hO(t,e){let n=[];for(let s in t)ja.call(t,s)&&(s in e||n.push(s));for(let s in e)ja.call(e,s)&&t[s]!==e[s]&&n.push(s);return n}function Cc(t,e,n={}){if(t===e)return!0;for(let s in e)if(!(s in t&&fO(t[s],e[s],n[s])))return!1;for(let s in t)if(!(s in e))return!1;return!0}function fO(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function gO(t,e=0,n,s=1){let i=[];n==null&&(n=Object.keys(t).length);for(let r=e;r<n;r+=s){let o=t[r];o!==void 0&&i.push(o)}return i}let yy={};function pO(t,e){yy[t]=e}function mO(t){return new yy[t]}class bO{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Mt(e)}markerToArray(e){return is(e)}}pO("gregory",bO);const vO=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function yO(t){let e=vO.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(by(n)){let s=null;return e[13]&&(s=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:s}}}return null}class _O{constructor(e){let n=this.timeZone=e.timeZone,s=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&s&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!s||this.namedTimeZoneImpl),this.calendarSystem=mO(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Mt(Mg(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=Mt(e)),n===null||!by(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=yO(e);if(n===null)return null;let{marker:s}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?s=this.timestampToMarker(s.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:s,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let s=this.calendarSystem.markerToArray(e);return s[0]+=n.years,s[1]+=n.months,s[2]+=n.days,s[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(s)}subtract(e,n){let s=this.calendarSystem.markerToArray(e);return s[0]-=n.years,s[1]-=n.months,s[2]-=n.days,s[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(s)}addYears(e,n){let s=this.calendarSystem.markerToArray(e);return s[0]+=n,this.calendarSystem.arrayToMarker(s)}addMonths(e,n){let s=this.calendarSystem.markerToArray(e);return s[1]+=n,this.calendarSystem.arrayToMarker(s)}diffWholeYears(e,n){let{calendarSystem:s}=this;return rs(e)===rs(n)&&s.getMarkerDay(e)===s.getMarkerDay(n)&&s.getMarkerMonth(e)===s.getMarkerMonth(n)?s.getMarkerYear(n)-s.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:s}=this;return rs(e)===rs(n)&&s.getMarkerDay(e)===s.getMarkerDay(n)?s.getMarkerMonth(n)-s.getMarkerMonth(e)+(s.getMarkerYear(n)-s.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let s=this.diffWholeYears(e,n);return s!==null?{unit:"year",value:s}:(s=this.diffWholeMonths(e,n),s!==null?{unit:"month",value:s}:(s=UD(e,n),s!==null?{unit:"week",value:s}:(s=Ia(e,n),s!==null?{unit:"day",value:s}:(s=LD(e,n),Sc(s)?{unit:"hour",value:s}:(s=jD(e,n),Sc(s)?{unit:"minute",value:s}:(s=BD(e,n),Sc(s)?{unit:"second",value:s}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,s){let i;return s.years&&(i=this.diffWholeYears(e,n),i!==null)?i/PD(s):s.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/MD(s):s.days&&(i=Ia(e,n),i!==null)?i/Li(s):(n.valueOf()-e.valueOf())/Zr(s)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Fe(e):n==="hour"?HD(e):n==="minute"?$D(e):n==="second"?VD(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):WD(e,this.weekDow,this.weekDoy)}format(e,n,s={}){return n.format({marker:e,timeZoneOffset:s.forcedTzo!=null?s.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,s,i={}){return i.isEndExclusive&&(n=ms(n,-1)),s.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let s=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?s=n.forcedTzo:s=this.offsetForMarker(e)),qD(e,s,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Mt(Mg(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Mt(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-Ig(is(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(is(e)):null}toDate(e,n){return this.timeZone==="local"?Ig(is(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(is(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class yo{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,s;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(s in e)n[s]=this.applyIconOverridePrefix(e[s]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let s;return n&&this.rtlIconClasses?s=this.rtlIconClasses[e]||this.iconClasses[e]:s=this.iconClasses[e],s?`${this.baseIconClass} ${s}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}yo.prototype.classes={};yo.prototype.iconClasses={};yo.prototype.baseIconClass="";yo.prototype.iconOverridePrefix="";function Ba(t){t();let e=X.debounceRendering,n=[];function s(i){n.push(i)}for(X.debounceRendering=s,Xr(P(wO,{}),document.createElement("div"));n.length;)n.shift()();X.debounceRendering=e}class wO extends Kt{render(){return P("div",{})}componentDidMount(){this.setState({})}}function _y(t){let e=qk(t),n=e.Provider;return e.Provider=function(){let s=!this.getChildContext,i=n.apply(this,arguments);if(s){let r=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&r.forEach(a=>{a.context=o.value,a.forceUpdate()})},this.sub=o=>{r.push(o);let a=o.componentWillUnmount;o.componentWillUnmount=()=>{r.splice(r.indexOf(o),1),a&&a.call(o)}}}return i},e}class EO{constructor(e,n,s,i){this.execFunc=e,this.emitter=n,this.scrollTime=s,this.scrollTimeReset=i,this.handleScrollRequest=r=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},r),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const ai=_y({});function SO(t,e,n,s,i,r,o,a,l,c,u,d,h,f){return{dateEnv:i,nowManager:r,options:n,pluginHooks:a,emitter:u,dispatch:l,getCurrentData:c,calendarApi:d,viewSpec:t,viewApi:e,dateProfileGenerator:s,theme:o,isRtl:n.direction==="rtl",addResizeHandler(g){u.on("_resize",g)},removeResizeHandler(g){u.off("_resize",g)},createScrollResponder(g){return new EO(g,u,we(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:f}}class li extends Kt{shouldComponentUpdate(e,n){return!Cc(this.props,e,this.propEquality)||!Cc(this.state,n,this.stateEquality)}safeSetState(e){Cc(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}li.addPropsEquality=AO;li.addStateEquality=xO;li.contextType=ai;li.prototype.propEquality={};li.prototype.stateEquality={};class We extends li{}We.contextType=ai;function AO(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function xO(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function xn(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class Ud extends We{constructor(){super(...arguments),this.id=ri(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:s}=this.props;(!n.customRenderingReplaces||!Ou(s,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&xn(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:s}=n,{customGenerator:i,defaultGenerator:r,renderProps:o}=e,a=wy(e,[],this.handleEl);let l=!1,c,u=[],d;if(i!=null){const h=typeof i=="function"?i(o,P):i;if(h===!0)l=!0;else{const f=h&&typeof h=="object";f&&"html"in h?a.dangerouslySetInnerHTML={__html:h.html}:f&&"domNodes"in h?u=Array.prototype.slice.call(h.domNodes):(f?zv(h):typeof h!="function")?c=h:d=h}}else l=!Ou(e.generatorName,s);return l&&r&&(c=r(o)),this.queuedDomNodes=u,this.currentGeneratorMeta=d,P(e.elTag,a,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:s,context:i}=this,{handleCustomRendering:r,customRenderingMetaMap:o}=i.options;if(r){const a=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o?.[s.generatorName];a&&r(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},s),{elClasses:(s.elClasses||[]).filter(RO)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,s=this.base;if(!ps(e,n)){n.forEach(Pd);for(let i of e)s.appendChild(i);this.currentDomNodes=e}}}Ud.addPropsEquality({elClasses:ps,elStyle:ln,elAttrs:dO,renderProps:ln});function Ou(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function wy(t,e,n){const s=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(s.className=(t.elClasses||[]).concat(e||[]).concat(s.className||[]).filter(Boolean).join(" ")),t.elStyle&&(s.style=t.elStyle),s}function RO(t){return!!t}const Ey=_y(0);class Gn extends Kt{constructor(){super(...arguments),this.InnerContent=CO.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(xn(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=TO(e.classNameGenerator,e.renderProps);if(e.children){const s=wy(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,s);return e.elTag?P(e.elTag,s,i):i}else return P(Ud,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Gn.contextType=Ey;function CO(t,e){const n=t.props;return P(Ud,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function TO(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class Ug extends We{render(){let{props:e,context:n}=this,{options:s}=n,i={view:n.viewApi};return P(Gn,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...Sy(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:s.viewClassNames,generatorName:void 0,didMount:s.viewDidMount,willUnmount:s.viewWillUnmount},()=>e.children)}}function Sy(t){return[`fc-${t.type}-view`,"fc-view"]}function kO(t,e){let n=null,s=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(s=e.createMarker(t.end)),!n&&!s||n&&s&&s<n?null:{start:n,end:s}}function Hg(t,e){let n=[],{start:s}=e,i,r;for(t.sort(DO),i=0;i<t.length;i+=1)r=t[i],r.start>s&&n.push({start:s,end:r.start}),r.end>s&&(s=r.end);return s<e.end&&n.push({start:s,end:e.end}),n}function DO(t,e){return t.start.valueOf()-e.start.valueOf()}function zi(t,e){let{start:n,end:s}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(s===null?s=e.end:s=new Date(Math.min(s.valueOf(),e.end.valueOf()))),(n===null||s===null||n<s)&&(i={start:n,end:s}),i}function OO(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Hd(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Dl(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function hs(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function PO(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function Ay(t){let e=Math.floor(er(t.start,t.end))||1,n=Fe(t.start),s=at(n,e);return{start:n,end:s}}function xy(t,e=we(0)){let n=null,s=null;if(t.end){s=Fe(t.end);let i=t.end.valueOf()-s.valueOf();i&&i>=Zr(e)&&(s=at(s,1))}return t.start&&(n=Fe(t.start),s&&s<=n&&(s=at(n,1))),{start:n,end:s}}function Ti(t,e,n,s){return s==="year"?we(n.diffWholeYears(t,e),"year"):s==="month"?we(n.diffWholeMonths(t,e),"month"):FD(t,e)}class Ry{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,s){let{dateEnv:i}=this.props,r=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(r,-1,s)}buildNext(e,n,s){let{dateEnv:i}=this.props,r=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(r,1,s)}build(e,n,s=!0){let{props:i}=this,r,o,a,l,c,u;return r=this.buildValidRange(),r=this.trimHiddenDays(r),s&&(e=PO(e,r)),o=this.buildCurrentRangeInfo(e,n),a=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,a),l=this.trimHiddenDays(l),c=l,i.showNonCurrentDates||(c=zi(c,o.range)),c=this.adjustActiveRange(c),c=zi(c,r),u=Hd(o.range,r),hs(l,e)||(e=l.start),{currentDate:e,validRange:r,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:a,activeRange:c,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:s}=this,i=null,r=null,o=null,a;return s.duration?(i=s.duration,r=s.durationUnit,o=this.buildRangeFromDuration(e,n,i,r)):(a=this.props.dayCount)?(r="day",o=this.buildRangeFromDayCount(e,n,a)):(o=this.buildCustomVisibleRange(e))?r=s.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),r=Du(i).unit,o=this.buildRangeFromDuration(e,n,i,r)),{duration:i,unit:r,range:o}}getFallbackDuration(){return we({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:s,slotMinTime:i,slotMaxTime:r}=this.props,{start:o,end:a}=e;return s&&(Li(i)<0&&(o=Fe(o),o=n.add(o,i)),Li(r)>1&&(a=Fe(a),a=at(a,-1),a=n.add(a,r))),{start:o,end:a}}buildRangeFromDuration(e,n,s,i){let{dateEnv:r,dateAlignment:o}=this.props,a,l,c;if(!o){let{dateIncrement:d}=this.props;d&&Zr(d)<Zr(s)?o=Du(d).unit:o=i}Li(s)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,n),a=Fe(a));function u(){a=r.startOf(e,o),l=r.add(a,s),c={start:a,end:l}}return u(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,n),u()),c}buildRangeFromDayCount(e,n,s){let{dateEnv:i,dateAlignment:r}=this.props,o=0,a=e,l;r&&(a=i.startOf(a,r)),a=Fe(a),a=this.skipHiddenDays(a,n),l=a;do l=at(l,1),this.isHiddenDay(l)||(o+=1);while(o<s);return{start:a,end:l}}buildCustomVisibleRange(e){let{props:n}=this,s=n.visibleRangeInput,i=typeof s=="function"?s.call(n.calendarApi,n.dateEnv.toDate(e)):s,r=this.refineRange(i);return r&&(r.start==null||r.end==null)?null:r}buildRenderRange(e,n,s){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,s;return n||((s=this.props.dateAlignment)?we(1,s):e||we({days:1}))}refineRange(e){if(e){let n=kO(e,this.props.dateEnv);return n&&(n=xy(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],s=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(s+=1);if(!s)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:s}=e;return n&&(n=this.skipHiddenDays(n)),s&&(s=this.skipHiddenDays(s,-1,!0)),n==null||s==null||n<s?{start:n,end:s}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,s=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(s?n:0)+7)%7];)e=at(e,n);return e}}function $d(t,e,n,s){return{instanceId:ri(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:s??null}}function MO(t,e,n,s){for(let i=0;i<s.length;i+=1){let r=s[i].parse(t,n);if(r){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=r.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:r.duration,typeData:r.typeData,typeId:i}}}return null}function ti(t,e,n){let{dateEnv:s,pluginHooks:i,options:r}=n,{defs:o,instances:a}=t;a=ei(a,l=>!o[l.defId].recurringDef);for(let l in o){let c=o[l];if(c.recurringDef){let{duration:u}=c.recurringDef;u||(u=c.allDay?r.defaultAllDayEventDuration:r.defaultTimedEventDuration);let d=IO(c,u,e,s,i.recurringTypes);for(let h of d){let f=$d(l,{start:h,end:s.add(h,u)});a[f.instanceId]=f}}}return{defs:o,instances:a}}function IO(t,e,n,s,i){let o=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:s.subtract(n.start,e),end:n.end},s);return t.allDay&&(o=o.map(Fe)),o}const ua={id:String,groupId:String,title:String,url:String,interactive:Boolean},Cy={start:D,end:D,date:D,allDay:Boolean},NO=Object.assign(Object.assign(Object.assign({},ua),Cy),{extendedProps:D});function Ty(t,e,n,s,i=Vd(n),r,o){let{refined:a,extra:l}=ky(t,n,i),c=jO(e,n),u=MO(a,c,n.dateEnv,n.pluginHooks.recurringTypes);if(u){let h=Pu(a,l,e?e.sourceId:"",u.allDay,!!u.duration,n,r);return h.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:h,instance:null}}let d=LO(a,c,n,s);if(d){let h=Pu(a,l,e?e.sourceId:"",d.allDay,d.hasEnd,n,r),f=$d(h.defId,d.range,d.forcedStartTzo,d.forcedEndTzo);return o&&h.publicId&&o[h.publicId]&&(f.instanceId=o[h.publicId]),{def:h,instance:f}}return null}function ky(t,e,n=Vd(e)){return jd(t,n)}function Vd(t){return Object.assign(Object.assign(Object.assign({},Fa),NO),t.pluginHooks.eventRefiners)}function Pu(t,e,n,s,i,r,o){let a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||ri(),sourceId:n,allDay:s,hasEnd:i,interactive:t.interactive,ui:Ua(t,r),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of r.pluginHooks.eventDefMemberAdders)Object.assign(a,l(t));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function LO(t,e,n,s){let{allDay:i}=t,r,o=null,a=!1,l,c=null,u=t.start!=null?t.start:t.date;if(r=n.dateEnv.createMarkerMeta(u),r)o=r.marker;else if(!s)return null;return t.end!=null&&(l=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!r||r.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&o&&(o=Fe(o)),l&&(c=l.marker,i&&(c=Fe(c)),o&&c<=o&&(c=null)),c?a=!0:s||(a=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:a,range:{start:o,end:c},forcedStartTzo:r?r.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function jO(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function eo(t,e,n,s,i,r){let o=rn(),a=Vd(n);for(let l of t){let c=Ty(l,e,n,s,a,i,r);c&&Mu(c,o)}return o}function Mu(t,e=rn()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function Wd(t,e){let n=t.instances[e];if(n){let s=t.defs[n.defId],i=Ol(t,r=>BO(s,r));return i.defs[s.defId]=s,i.instances[n.instanceId]=n,i}return rn()}function BO(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function rn(){return{defs:{},instances:{}}}function zd(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function Ol(t,e){let n=ei(t.defs,e),s=ei(t.instances,i=>n[i.defId]);return{defs:n,instances:s}}function FO(t,e){let{defs:n,instances:s}=t,i={},r={};for(let o in n)e.defs[o]||(i[o]=n[o]);for(let o in s)!e.instances[o]&&i[s[o].defId]&&(r[o]=s[o]);return{defs:i,instances:r}}function UO(t,e){return Array.isArray(t)?eo(t,null,e,!0):typeof t=="object"&&t?eo([t],null,e,!0):t!=null?String(t):null}function $g(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const Fa={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:D,overlap:D,allow:D,className:$g,classNames:$g,color:String,backgroundColor:String,borderColor:String,textColor:String},HO={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Ua(t,e){let n=UO(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function $O(t){return t.reduce(VO,HO)}function VO(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const WO={id:String,defaultAllDay:Boolean,url:String,format:String,events:D,eventDataTransform:D,success:D,failure:D};function Dy(t,e,n=Oy(e)){let s;if(typeof t=="string"?s={url:t}:typeof t=="function"||Array.isArray(t)?s={events:t}:typeof t=="object"&&t&&(s=t),s){let{refined:i,extra:r}=jd(s,n),o=zO(i,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:ri(),sourceDefId:o.sourceDefId,meta:o.meta,ui:Ua(i,e),extendedProps:r}}return null}function Oy(t){return Object.assign(Object.assign(Object.assign({},Fa),WO),t.pluginHooks.eventSourceRefiners)}function zO(t,e){let n=e.pluginHooks.eventSourceDefs;for(let s=n.length-1;s>=0;s-=1){let r=n[s].parseMeta(t);if(r)return{sourceDefId:s,meta:r}}return null}function qO(t,e,n,s,i){switch(e.type){case"RECEIVE_EVENTS":return GO(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return KO(t,n[e.sourceId],e.rawEvents,s.activeRange,i);case"ADD_EVENTS":return YO(t,e.eventStore,s?s.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return zd(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return s?ti(t,s.activeRange,i):t;case"REMOVE_EVENTS":return FO(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return My(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Ol(t,r=>!r.sourceId);case"REMOVE_ALL_EVENTS":return rn();default:return t}}function GO(t,e,n,s,i,r){if(e&&n===e.latestFetchId){let o=eo(Py(i,e,r),e,r);return s&&(o=ti(o,s,r)),zd(My(t,e.sourceId),o)}return t}function KO(t,e,n,s,i){const{defIdMap:r,instanceIdMap:o}=QO(t);let a=eo(Py(n,e,i),e,i,!1,r,o);return ti(a,s,i)}function Py(t,e,n){let s=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=Vg(t,i)),s&&(t=Vg(t,s)),t}function Vg(t,e){let n;if(!e)n=t;else{n=[];for(let s of t){let i=e(s);i?n.push(i):i==null&&n.push(s)}}return n}function YO(t,e,n,s){return n&&(e=ti(e,n,s)),zd(t,e)}function Wg(t,e,n){let{defs:s}=t,i=oi(t.instances,r=>s[r.defId].allDay?r:Object.assign(Object.assign({},r),{range:{start:n.createMarker(e.toDate(r.range.start,r.forcedStartTzo)),end:n.createMarker(e.toDate(r.range.end,r.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:r.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:r.forcedEndTzo}));return{defs:s,instances:i}}function My(t,e){return Ol(t,n=>n.sourceId!==e)}function JO(t,e){return{defs:t.defs,instances:ei(t.instances,n=>!e[n.instanceId])}}function QO(t){const{defs:e,instances:n}=t,s={},i={};for(let r in e){const o=e[r],{publicId:a}=o;a&&(s[a]=r)}for(let r in n){const o=n[r],a=e[o.defId],{publicId:l}=a;l&&(i[l]=r)}return{defIdMap:s,instanceIdMap:i}}class Pl{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){XO(this.handlers,e,n)}off(e,n){ZO(this.handlers,e,n)}trigger(e,...n){let s=this.handlers[e]||[],i=this.options&&this.options[e],r=[].concat(i||[],s);for(let o of r)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function XO(t,e,n){(t[e]||(t[e]=[])).push(n)}function ZO(t,e,n){n?t[e]&&(t[e]=t[e].filter(s=>s!==n)):delete t[e]}const eP={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function tP(t,e){return eo(nP(t),null,e)}function nP(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},eP),n)),e}function Iy(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},qd(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function sP(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function qd(t,e){let n={};for(let s of e.pluginHooks.dateSpanTransforms)Object.assign(n,s(t,e));return Object.assign(n,vP(t,e.dateEnv)),n}function zg(t,e,n){let{dateEnv:s,options:i}=n,r=e;return t?(r=Fe(r),r=s.add(r,i.defaultAllDayEventDuration)):r=s.add(r,i.defaultTimedEventDuration),r}function Gd(t,e,n,s){let i=Ha(t.defs,e),r=rn();for(let o in t.defs){let a=t.defs[o];r.defs[o]=iP(a,i[o],n,s)}for(let o in t.instances){let a=t.instances[o],l=r.defs[a.defId];r.instances[o]=rP(a,l,i[a.defId],n,s)}return r}function iP(t,e,n,s){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let r=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(r.extendedProps=Object.assign(Object.assign({},r.extendedProps),n.extendedProps));for(let o of s.pluginHooks.eventDefMutationAppliers)o(r,n,s);return!r.hasEnd&&s.options.forceEventDuration&&(r.hasEnd=!0),r}function rP(t,e,n,s,i){let{dateEnv:r}=i,o=s.standardProps&&s.standardProps.allDay===!0,a=s.standardProps&&s.standardProps.hasEnd===!1,l=Object.assign({},t);return o&&(l.range=Ay(l.range)),s.datesDelta&&n.startEditable&&(l.range={start:r.add(l.range.start,s.datesDelta),end:r.add(l.range.end,s.datesDelta)}),s.startDelta&&n.durationEditable&&(l.range={start:r.add(l.range.start,s.startDelta),end:l.range.end}),s.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:r.add(l.range.end,s.endDelta)}),a&&(l.range={start:l.range.start,end:zg(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:Fe(l.range.start),end:Fe(l.range.end)}),l.range.end<l.range.start&&(l.range.end=zg(e.allDay,l.range.start,i)),l}class Ri{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Ue{constructor(e,n,s){this._context=e,this._def=n,this._instance=s||null}setProp(e,n){if(e in Cy)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=ua[e](n),this.mutate({standardProps:{publicId:n}});else if(e in ua)n=ua[e](n),this.mutate({standardProps:{[e]:n}});else if(e in Fa){let s=Fa[e](n);e==="color"?s={backgroundColor:n,borderColor:n}:e==="editable"?s={startEditable:n,durationEditable:n}:s={[e]:n},this.mutate({standardProps:{ui:s}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:s}=this._context,i=s.createMarker(e);if(i&&this._instance){let r=this._instance.range,o=Ti(r.start,i,s,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:s}=this._context,i;if(!(e!=null&&(i=s.createMarker(e),!i))&&this._instance)if(i){let r=Ti(this._instance.range.end,i,s,n.granularity);this.mutate({endDelta:r})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,s={}){let{dateEnv:i}=this._context,r={allDay:s.allDay},o=i.createMarker(e),a;if(o&&!(n!=null&&(a=i.createMarker(n),!a))&&this._instance){let l=this._instance.range;s.allDay===!0&&(l=Ay(l));let c=Ti(l.start,o,i,s.granularity);if(a){let u=Ti(l.end,a,i,s.granularity);DD(c,u)?this.mutate({datesDelta:c,standardProps:r}):this.mutate({startDelta:c,endDelta:u,standardProps:r})}else r.hasEnd=!1,this.mutate({datesDelta:c,standardProps:r})}}moveStart(e){let n=we(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=we(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=we(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let s={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(s.hasEnd=i),this.mutate({standardProps:s})}formatRange(e){let{dateEnv:n}=this._context,s=this._instance,i=rt(e);return this._def.hasEnd?n.formatRange(s.range.start,s.range.end,i,{forcedStartTzo:s.forcedStartTzo,forcedEndTzo:s.forcedEndTzo}):n.format(s.range.start,i,{forcedTzo:s.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let s=this._def,i=this._context,{eventStore:r}=i.getCurrentData(),o=Wd(r,n.instanceId);o=Gd(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new Ue(i,s,n);this._def=o.defs[s.defId],this._instance=o.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:o}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:Ys(o,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:r})}})}}remove(){let e=this._context,n=Ny(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new Ri(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:s}=n,{startStr:i,endStr:r}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),i&&(o.start=i),r&&(o.end=r),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),s.display&&s.display!=="auto"&&(o.display=s.display),e.collapseColor&&s.backgroundColor&&s.backgroundColor===s.borderColor?o.color=s.backgroundColor:(s.backgroundColor&&(o.backgroundColor=s.backgroundColor),s.borderColor&&(o.borderColor=s.borderColor)),s.textColor&&(o.textColor=s.textColor),s.classNames.length&&(o.classNames=s.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function Ny(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Ys(t,e,n){let{defs:s,instances:i}=t,r=[],o=n?n.instanceId:"";for(let a in i){let l=i[a],c=s[l.defId];l.instanceId!==o&&r.push(new Ue(e,c,l))}return r}function qg(t,e,n,s){let i={},r={},o={},a=[],l=[],c=Ha(t.defs,e);for(let u in t.defs){let d=t.defs[u];c[d.defId].display==="inverse-background"&&(d.groupId?(i[d.groupId]=[],o[d.groupId]||(o[d.groupId]=d)):r[u]=[])}for(let u in t.instances){let d=t.instances[u],h=t.defs[d.defId],f=c[h.defId],g=d.range,p=!h.allDay&&s?xy(g,s):g,m=zi(p,n);m&&(f.display==="inverse-background"?h.groupId?i[h.groupId].push(m):r[d.defId].push(m):f.display!=="none"&&(f.display==="background"?a:l).push({def:h,ui:f,instance:d,range:m,isStart:p.start&&p.start.valueOf()===m.start.valueOf(),isEnd:p.end&&p.end.valueOf()===m.end.valueOf()}))}for(let u in i){let d=i[u],h=Hg(d,n);for(let f of h){let g=o[u],p=c[g.defId];a.push({def:g,ui:p,instance:null,range:f,isStart:!1,isEnd:!1})}}for(let u in r){let d=r[u],h=Hg(d,n);for(let f of h)a.push({def:t.defs[u],ui:c[u],instance:null,range:f,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function Gg(t,e){t.fcSeg=e}function qi(t){return t.fcSeg||t.parentNode.fcSeg||null}function Ha(t,e){return oi(t,n=>Ly(n,e))}function Ly(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),$O(n)}function oP(t,e){let n=t.map(aP);return n.sort((s,i)=>SD(s,i,e)),n.map(s=>s._seg)}function aP(t){let{eventRange:e}=t,n=e.def,s=e.instance?e.instance.range:e.range,i=s.start?s.start.valueOf():0,r=s.end?s.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:r,duration:r-i,allDay:Number(n.allDay),_seg:t})}function lP(t,e){let{pluginHooks:n}=e,s=n.isDraggableTransformers,{def:i,ui:r}=t.eventRange,o=r.startEditable;for(let a of s)o=a(o,i,r,e);return o}function cP(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function uP(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function jy(t,e,n,s,i,r,o){let{dateEnv:a,options:l}=n,{displayEventTime:c,displayEventEnd:u}=l,d=t.eventRange.def,h=t.eventRange.instance;c==null&&(c=s!==!1),u==null&&(u=i!==!1);let f=h.range.start,g=h.range.end,p=t.start||t.eventRange.range.start,m=t.end||t.eventRange.range.end,b=Fe(f).valueOf()===Fe(p).valueOf(),v=Fe(ms(g,-1)).valueOf()===Fe(ms(m,-1)).valueOf();return c&&!d.allDay&&(b||v)?(p=b?f:p,m=v?g:m,u&&d.hasEnd?a.formatRange(p,m,e,{forcedStartTzo:h.forcedStartTzo,forcedEndTzo:h.forcedEndTzo}):a.format(p,e,{forcedTzo:h.forcedStartTzo})):""}function Mr(t,e,n){let s=t.eventRange.range;return{isPast:s.end<=e.start,isFuture:s.start>=e.end,isToday:e&&hs(e,s.start)}}function dP(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function hP(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function By(t,e){let{def:n,instance:s}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:r,options:o}=e,{eventInteractive:a}=o;return a==null&&(a=n.interactive,a==null&&(a=!!r.hasHandlers("eventClick"))),a?my(l=>{r.trigger("eventClick",{el:l.target,event:new Ue(e,n,s),jsEvent:l,view:e.viewApi})}):{}}const fP={start:D,end:D,allDay:Boolean};function gP(t,e,n){let s=pP(t,e),{range:i}=s;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return s}function pP(t,e){let{refined:n,extra:s}=jd(t,fP),i=n.start?e.createMarkerMeta(n.start):null,r=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=i&&i.isTimeUnspecified&&(!r||r.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:r?r.marker:null},allDay:o},s)}function mP(t,e){return OO(t.range,e.range)&&t.allDay===e.allDay&&bP(t,e)}function bP(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function vP(t,e){return Object.assign(Object.assign({},Uy(t.range,e,t.allDay)),{allDay:t.allDay})}function Fy(t,e,n){return Object.assign(Object.assign({},Uy(t,e,n)),{timeZone:e.timeZone})}function Uy(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function yP(t,e,n){let s=ky({editable:!1},n),i=Pu(s.refined,s.extra,"",t.allDay,!0,n);return{def:i,ui:Ly(i,e),instance:$d(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function _P(t,e,n){let s=!1,i=function(a){s||(s=!0,e(a))},r=function(a){s||(s=!0,n(a))},o=t(i,r);o&&typeof o.then=="function"&&o.then(i,r)}class Kg extends Error{constructor(e,n){super(e),this.response=n}}function wP(t,e,n){t=t.toUpperCase();const s={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(s.body=new URLSearchParams(n),s.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,s).then(i=>{if(i.ok)return i.json().then(r=>[r,i],()=>{throw new Kg("Failure parsing JSON",i)});throw new Kg("Request failed",i)})}let Tc;function Hy(){return Tc==null&&(Tc=EP()),Tc}function EP(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class SP extends We{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Ba(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Ba(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:s}=this.state,i=s||n.height==="auto"||n.contentHeight==="auto",r=!i&&n.height!=null?n.height:"",o=["fc",s?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return Hy()||o.push("fc-liquid-hack"),e.children(o,r,i,s)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}let tr=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function AP(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Kd(t){return{[t.component.uid]:t}}const Iu={};class Ml extends Kt{constructor(e,n){super(e,n),this.handleRefresh=()=>{let s=this.computeTiming();s.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(s.state),this.clearTimeout(),this.setTimeout(s.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,s=n.nowManager.getDateMarker(),{nowIndicatorSnap:i}=n.options;i==="auto"&&(i=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let r,o;return i?(r=n.dateEnv.startOf(s,e.unit),o=n.dateEnv.add(r,we(1,e.unit)).valueOf()-s.valueOf()):(r=s,o=1e3*60),o=Math.min(1e3*60*60*24,o),{state:{nowDate:r,todayRange:xP(r)},waitMs:o}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Ml.contextType=ai;function xP(t){let e=Fe(t),n=at(e,1);return{start:e,end:n}}class RP{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:s}=this;s.currentCalendarOptionsRefiners[e]?s.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:s}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:s.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let s=this.getCurrentData(),i;n=n||"day",i=s.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:s}=this.getCurrentData(),i=[].concat(s.header?s.header.viewsWithButtons:[],s.footer?s.footer.viewsWithButtons:[]),r,o;for(let a in n)i.push(a);for(r=0;r<i.length;r+=1)if(o=n[i[r]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),s=we(e);s&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,s)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:s}=this.getCurrentData();return s.format(s.createMarker(e),rt(n))}formatRange(e,n,s){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),rt(s),s)}formatIso(e,n){let{dateEnv:s}=this.getCurrentData();return s.formatIso(s.createMarker(e),{omitTime:n})}select(e,n){let s;n==null?e.start!=null?s=e:s={start:e,end:null}:s={start:e,end:n};let i=this.getCurrentData(),r=gP(s,i.dateEnv,we({days:1}));r&&(this.dispatch({type:"SELECT_DATES",selection:r}),Iy(r,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),sP(e,n))}addEvent(e,n){if(e instanceof Ue){let o=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Mu({def:o,instance:a})}),this.triggerEventAdd(e)),e}let s=this.getCurrentData(),i;if(n instanceof Ri)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=Fd(s.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;i=o.internalEventSource}let r=Ty(e,i,s,!1);if(r){let o=new Ue(s,r.def,r.def.recurringDef?null:r.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Mu(r)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Ny(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:s,instances:i}=n.eventStore;e=String(e);for(let r in s){let o=s[r];if(o.publicId===e){if(o.recurringDef)return new Ue(n,o,null);for(let a in i){let l=i[a];if(l.defId===o.defId)return new Ue(n,o,l)}}}return null}getEvents(){let e=this.getCurrentData();return Ys(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,s=[];for(let i in n)s.push(new Ri(e,n[i]));return s}getEventSourceById(e){let n=this.getCurrentData(),s=n.eventSources;e=String(e);for(let i in s)if(s[i].publicId===e)return new Ri(n,s[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof Ri)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let s=Dy(e,n);return s?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[s]}),new Ri(n,s)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=we(e);n&&this.trigger("_scrollRequest",{time:n})}}function CP(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function $y(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function TP(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function kP(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function DP(t,e){return{left:t.left-e.left,top:t.top-e.top}}function Vy(t,e,n,s){return{dow:t.getUTCDay(),isDisabled:!!(s&&(!s.activeRange||!hs(s.activeRange,t))),isOther:!!(s&&!hs(s.currentRange,t)),isToday:!!(e&&hs(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function Yd(t,e){let n=["fc-day",`fc-day-${ID[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const OP=rt({year:"numeric",month:"long",day:"numeric"}),PP=rt({week:"long"});function Nu(t,e,n="day",s=!0){const{dateEnv:i,options:r,calendarApi:o}=t;let a=i.format(e,n==="week"?PP:OP);if(r.navLinks){let l=i.toDate(e);const c=u=>{let d=n==="day"?r.navLinkDayClick:n==="week"?r.navLinkWeekClick:null;typeof d=="function"?d.call(o,i.toDate(e),u):(typeof d=="string"&&(n=d),o.zoomTo(e,n))};return Object.assign({title:Or(r.navLinkHint,[a,l],a),"data-navlink":""},s?py(c):{onClick:c})}return{"aria-label":a}}let kc=null;function MP(){return kc===null&&(kc=IP()),kc}function IP(){let t=document.createElement("div");Dr(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return Pd(t),n}let Dc;function NP(){return Dc||(Dc=LP()),Dc}function LP(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=Wy(t);return document.body.removeChild(t),e}function Wy(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function jP(t,e=!1){let n=window.getComputedStyle(t),s=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,r=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,a=Wy(t),l=a.y-s-i,c=a.x-r-o,u={borderLeft:s,borderRight:i,borderTop:r,borderBottom:o,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return MP()&&n.direction==="rtl"?u.scrollbarLeft=l:u.scrollbarRight=l,e&&(u.paddingLeft=parseInt(n.paddingLeft,10)||0,u.paddingRight=parseInt(n.paddingRight,10)||0,u.paddingTop=parseInt(n.paddingTop,10)||0,u.paddingBottom=parseInt(n.paddingBottom,10)||0),u}function BP(t,e=!1,n){let s=Jd(t),i=jP(t,e),r={left:s.left+i.borderLeft+i.scrollbarLeft,right:s.right-i.borderRight-i.scrollbarRight,top:s.top+i.borderTop,bottom:s.bottom-i.borderBottom-i.scrollbarBottom};return e&&(r.left+=i.paddingLeft,r.right-=i.paddingRight,r.top+=i.paddingTop,r.bottom-=i.paddingBottom),r}function Jd(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function FP(t){let e=zy(t),n=t.getBoundingClientRect();for(let s of e){let i=$y(n,s.getBoundingClientRect());if(i)n=i;else return null}return n}function zy(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class $a{constructor(e,n,s,i){this.els=n;let r=this.originClientRect=e.getBoundingClientRect();s&&this.buildElHorizontals(r.left),i&&this.buildElVerticals(r.top)}buildElHorizontals(e){let n=[],s=[];for(let i of this.els){let r=i.getBoundingClientRect();n.push(r.left-e),s.push(r.right-e)}this.lefts=n,this.rights=s}buildElVerticals(e){let n=[],s=[];for(let i of this.els){let r=i.getBoundingClientRect();n.push(r.top-e),s.push(r.bottom-e)}this.tops=n,this.bottoms=s}leftToIndex(e){let{lefts:n,rights:s}=this,i=n.length,r;for(r=0;r<i;r+=1)if(e>=n[r]&&e<s[r])return r}topToIndex(e){let{tops:n,bottoms:s}=this,i=n.length,r;for(r=0;r<i;r+=1)if(e>=n[r]&&e<s[r])return r}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Lo(this.tops||[],e.tops||[])&&Lo(this.bottoms||[],e.bottoms||[])&&Lo(this.lefts||[],e.lefts||[])&&Lo(this.rights||[],e.rights||[])}}function Lo(t,e){const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(Math.round(t[s])!==Math.round(e[s]))return!1;return!0}class Qd{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class UP extends Qd{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class HP extends Qd{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class ci extends We{constructor(){super(...arguments),this.uid=ri()}prepareHits(){}queryHit(e,n,s,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!_t(e,".fc-event-mirror")}isValidDateDownEl(e){return!_t(e,".fc-event:not(.fc-bg-event)")&&!_t(e,".fc-more-link")&&!_t(e,"a[data-navlink]")&&!_t(e,".fc-popover")}}class $P{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let s of e)this.insertEntry(s,n);return n}insertEntry(e,n){let s=this.findInsertion(e);this.isInsertionValid(s,e)?this.insertEntryAt(e,s):this.handleInvalidInsertion(s,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,s){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:qy(n.span,e.touchingEntry.span)});s.push(i),this.splitEntry(n,e.touchingEntry,s)}else s.push(n)}splitEntry(e,n,s){let i=e.span,r=n.span;i.start<r.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:r.start}},s),i.end>r.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.end,end:i.end}},s)}insertEntryAt(e,n){let{entriesByLevel:s,levelCoords:i}=this;n.lateral===-1?(Oc(i,n.level,n.levelCoord),Oc(s,n.level,[e])):Oc(s[n.level],n.lateral,e),this.stackCnts[Ir(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:s,strictOrder:i,stackCnts:r}=this,o=n.length,a=0,l=-1,c=-1,u=null,d=0;for(let g=0;g<o;g+=1){const p=n[g];if(!i&&p>=a+this.getEntryThickness(e))break;let m=s[g],b,v=Jg(m,e.span.start,Yg),y=v[0]+v[1];for(;(b=m[y])&&b.span.start<e.span.end;){let _=p+this.getEntryThickness(b);_>a&&(a=_,u=b,l=g,c=y),_===a&&(d=Math.max(d,r[Ir(b)]+1)),y+=1}}let h=0;if(u)for(h=l+1;h<o&&n[h]<a;)h+=1;let f=-1;return h<o&&n[h]===a&&(f=Jg(s[h],e.span.end,Yg)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:u,stackCnt:d,levelCoord:a,level:h,lateral:f}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,s=e.length,i=[];for(let r=0;r<s;r+=1){let o=e[r],a=n[r];for(let l of o)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return i}}function Yg(t){return t.span.end}function Ir(t){return t.index+":"+t.span.start}function qy(t,e){let n=Math.max(t.start,e.start),s=Math.min(t.end,e.end);return n<s?{start:n,end:s}:null}function Oc(t,e,n){t.splice(e,0,n)}function Jg(t,e,n){let s=0,i=t.length;if(!i||e<n(t[s]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;s<i;){let r=Math.floor(s+(i-s)/2),o=n(t[r]);if(e<o)i=r;else if(e>o)s=r+1;else return[r,1]}return[s,0]}class VP{constructor(e,n){this.emitter=new Pl}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Xd={};function WP(t,e){return!t||e>10?rt({weekday:"short"}):e>1?rt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):rt({weekday:"long"})}const Gy="fc-col-header-cell";function Ky(t){return t.text}class zP extends We{render(){let{dateEnv:e,options:n,theme:s,viewApi:i}=this.context,{props:r}=this,{date:o,dateProfile:a}=r,l=Vy(o,r.todayRange,null,a),c=[Gy].concat(Yd(l,s)),u=e.format(o,r.dayHeaderFormat),d=!l.isDisabled&&r.colCnt>1?Nu(this.context,o):{},h=e.toDate(o);e.namedTimeZoneImpl&&(h=ms(h,36e5));let f=Object.assign(Object.assign(Object.assign({date:h,view:i},r.extraRenderProps),{text:u}),l);return P(Gn,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:r.colSpan,"data-date":l.isDisabled?void 0:Nd(o)},r.extraDataAttrs),renderProps:f,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:Ky,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},g=>P("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&P(g,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",r.isSticky&&"fc-sticky"]})))}}const qP=rt({weekday:"long"});class GP extends We{render(){let{props:e}=this,{dateEnv:n,theme:s,viewApi:i,options:r}=this.context,o=at(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=n.format(o,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:o},a),{view:i}),e.extraRenderProps),{text:l});return P(Gn,{elTag:"th",elClasses:[Gy,...Yd(a,s),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:Ky,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},u=>P("div",{className:"fc-scrollgrid-sync-inner"},P(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,qP)}})))}}class KP extends We{constructor(){super(...arguments),this.createDayHeaderFormatter=ye(YP)}render(){let{context:e}=this,{dates:n,dateProfile:s,datesRepDistinctDays:i,renderIntro:r}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return P(Ml,{unit:"day"},(a,l)=>P("tr",{role:"row"},r&&r("day"),n.map(c=>i?P(zP,{key:c.toISOString(),date:c,dateProfile:s,todayRange:l,colCnt:n.length,dayHeaderFormat:o}):P(GP,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:o}))))}}function YP(t,e,n){return t||WP(e,n)}class JP{constructor(e,n){let s=e.start,{end:i}=e,r=[],o=[],a=-1;for(;s<i;)n.isHiddenDay(s)?r.push(a+.5):(a+=1,r.push(a),o.push(s)),s=at(s,1);this.dates=o,this.indices=r,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),s=this.getDateDayIndex(at(e.end,-1)),i=Math.max(0,n),r=Math.min(this.cnt-1,s);return i=Math.ceil(i),r=Math.floor(r),i<=r?{firstIndex:i,lastIndex:r,isStart:n===i,isEnd:s===r}:null}getDateDayIndex(e){let{indices:n}=this,s=Math.floor(er(this.dates[0],e));return s<0?n[0]-1:s>=n.length?n[n.length-1]+1:n[s]}}class QP{constructor(e,n){let{dates:s}=e,i,r,o;if(n){for(r=s[0].getUTCDay(),i=1;i<s.length&&s[i].getUTCDay()!==r;i+=1);o=Math.ceil(s.length/i)}else o=1,i=s.length;this.rowCnt=o,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let s=[];for(let i=0;i<this.colCnt;i+=1)s.push(this.buildCell(n,i));e.push(s)}return e}buildCell(e,n){let s=this.daySeries.dates[e*this.colCnt+n];return{key:s.toISOString(),date:s}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,s=this.daySeries.sliceRange(e),i=[];if(s){let{firstIndex:r,lastIndex:o}=s,a=r;for(;a<=o;){let l=Math.floor(a/n),c=Math.min((l+1)*n,o+1);i.push({row:l,firstCol:a%n,lastCol:(c-1)%n,isStart:s.isStart&&a===r,isEnd:s.isEnd&&c-1===o}),a=c}}return i}}class XP{constructor(){this.sliceBusinessHours=ye(this._sliceBusinessHours),this.sliceDateSelection=ye(this._sliceDateSpan),this.sliceEventStore=ye(this._sliceEventStore),this.sliceEventDrag=ye(this._sliceInteraction),this.sliceEventResize=ye(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,s,i,...r){let{eventUiBases:o}=e,a=this.sliceEventStore(e.eventStore,o,n,s,...r);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,s,o,i,...r),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,s,i,...r),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,s,...r),eventResize:this.sliceEventResize(e.eventResize,o,n,s,...r),eventSelection:e.eventSelection}}sliceNowDate(e,n,s,i,...r){return this._sliceDateSpan({range:{start:e,end:ms(e,1)},allDay:!1},n,s,{},i,...r)}_sliceBusinessHours(e,n,s,i,...r){return e?this._sliceEventStore(ti(e,jo(n,!!s),i),{},n,s,...r).bg:[]}_sliceEventStore(e,n,s,i,...r){if(e){let o=qg(e,n,jo(s,!!i),i);return{bg:this.sliceEventRanges(o.bg,r),fg:this.sliceEventRanges(o.fg,r)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,s,i,...r){if(!e)return null;let o=qg(e.mutatedEvents,n,jo(s,!!i),i);return{segs:this.sliceEventRanges(o.fg,r),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,s,i,r,...o){if(!e)return[];let a=jo(n,!!s),l=zi(e.range,a);if(l){e=Object.assign(Object.assign({},e),{range:l});let c=yP(e,i,r),u=this.sliceRange(e.range,...o);for(let d of u)d.eventRange=c;return u}return[]}sliceEventRanges(e,n){let s=[];for(let i of e)s.push(...this.sliceEventRange(i,n));return s}sliceEventRange(e,n){let s=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(s={start:s.start,end:at(s.start,1)});let i=this.sliceRange(s,...n);for(let r of i)r.eventRange=e,r.isStart=e.isStart&&r.isStart,r.isEnd=e.isEnd&&r.isEnd;return i}}function jo(t,e){let n=t.activeRange;return e?n:{start:ms(n.start,t.slotMinTime.milliseconds),end:ms(n.end,t.slotMaxTime.milliseconds-864e5)}}function Yy(t,e,n){let{instances:s}=t.mutatedEvents;for(let i in s)if(!Dl(e.validRange,s[i].range))return!1;return Jy({eventDrag:t},n)}function ZP(t,e,n){return Dl(e.validRange,t.range)?Jy({dateSelection:t},n):!1}function Jy(t,e){let n=e.getCurrentData(),s=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||eM)(s,e)}function eM(t,e,n={},s){return!(t.eventDrag&&!tM(t,e,n,s)||t.dateSelection&&!nM(t,e,n,s))}function tM(t,e,n,s){let i=e.getCurrentData(),r=t.eventDrag,o=r.mutatedEvents,a=o.defs,l=o.instances,c=Ha(a,r.isEvent?t.eventUiBases:{"":i.selectionConfig});s&&(c=oi(c,s));let u=JO(t.eventStore,r.affectedEvents.instances),d=u.defs,h=u.instances,f=Ha(d,t.eventUiBases);for(let g in l){let p=l[g],m=p.range,b=c[p.defId],v=a[p.defId];if(!Qy(b.constraints,m,u,t.businessHours,e))return!1;let{eventOverlap:y}=e.options,_=typeof y=="function"?y:null;for(let T in h){let x=h[T];if(Hd(m,x.range)&&(f[x.defId].overlap===!1&&r.isEvent||b.overlap===!1||_&&!_(new Ue(e,d[x.defId],x),new Ue(e,v,p))))return!1}let S=i.eventStore;for(let T of b.allows){let x=Object.assign(Object.assign({},n),{range:p.range,allDay:v.allDay}),A=S.defs[v.defId],k=S.instances[g],B;if(A?B=new Ue(e,A,k):B=new Ue(e,v),!T(qd(x,e),B))return!1}}return!0}function nM(t,e,n,s){let i=t.eventStore,r=i.defs,o=i.instances,a=t.dateSelection,l=a.range,{selectionConfig:c}=e.getCurrentData();if(s&&(c=s(c)),!Qy(c.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:u}=e.options,d=typeof u=="function"?u:null;for(let h in o){let f=o[h];if(Hd(l,f.range)&&(c.overlap===!1||d&&!d(new Ue(e,r[f.defId],f),null)))return!1}for(let h of c.allows){let f=Object.assign(Object.assign({},n),a);if(!h(qd(f,e),null))return!1}return!0}function Qy(t,e,n,s,i){for(let r of t)if(!iM(sM(r,e,n,s,i),e))return!1;return!0}function sM(t,e,n,s,i){return t==="businessHours"?Pc(ti(s,e,i)):typeof t=="string"?Pc(Ol(n,r=>r.groupId===t)):typeof t=="object"&&t?Pc(ti(t,e,i)):[]}function Pc(t){let{instances:e}=t,n=[];for(let s in e)n.push(e[s].range);return n}function iM(t,e){for(let n of t)if(Dl(n,e))return!0;return!1}const Bo=/^(visible|hidden)$/;class rM extends We{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,xn(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:s}=e,i=n&&s,r=["fc-scroller"];return n&&(s?r.push("fc-scroller-liquid-absolute"):r.push("fc-scroller-liquid")),P("div",{ref:this.handleEl,className:r.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Bo.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:s}=e;for(let i=0;i<s.length;i+=1)if(s[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(Bo.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:s}=e;for(let i=0;i<s.length;i+=1)if(s[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return Bo.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Bo.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class zs{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,s)=>{let{depths:i,currentMap:r}=this,o=!1,a=!1;n!==null?(o=s in r,r[s]=n,i[s]=(i[s]||0)+1,a=!0):(i[s]-=1,i[s]||(delete r[s],delete this.callbackMap[s],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(s)),a&&this.masterCallback(n,String(s)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=s=>{this.handleValue(s,String(e))}),n}collect(e,n,s){return gO(this.currentMap,e,n,s)}getAll(){return Fd(this.currentMap)}}function oM(t){let e=fD(t,".fc-scrollgrid-shrink"),n=0;for(let s of e)n=Math.max(n,CD(s));return Math.ceil(n)}function Xy(t,e){return t.liquid&&e.liquid}function aM(t,e){return e.maxHeight!=null||Xy(t,e)}function lM(t,e,n,s){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):P("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,P(s?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function cM(t,e){return ps(t,e,ln)}function uM(t,e){let n=[];for(let s of t){let i=s.span||1;for(let r=0;r<i;r+=1)n.push(P("col",{style:{width:s.width==="shrink"?dM(e):s.width||"",minWidth:s.minWidth||""}}))}return P("colgroup",{},...n)}function dM(t){return t??4}function hM(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function fM(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function gM(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function pM(t){return P("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Qg(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function mM(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class Zy extends We{constructor(){super(...arguments),this.processCols=ye(e=>e,cM),this.renderMicroColGroup=ye(uM),this.scrollerRefs=new zs,this.scrollerElRefs=new zs(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:s}=this,i=e.sections||[],r=this.processCols(e.cols),o=this.renderMicroColGroup(r,n.shrinkWidth),a=fM(e.liquid,s);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=i.length,c=0,u,d=[],h=[],f=[];for(;c<l&&(u=i[c]).type==="header";)d.push(this.renderSection(u,o,!0)),c+=1;for(;c<l&&(u=i[c]).type==="body";)h.push(this.renderSection(u,o,!1)),c+=1;for(;c<l&&(u=i[c]).type==="footer";)f.push(this.renderSection(u,o,!0)),c+=1;let g=!Hy();const p={role:"rowgroup"};return P("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!g&&d.length)&&P("thead",p,...d),!!(!g&&h.length)&&P("tbody",p,...h),!!(!g&&f.length)&&P("tfoot",p,...f),g&&P("tbody",p,...d,...h,...f))}renderSection(e,n,s){return"outerContent"in e?P(Ge,{key:e.key},e.outerContent):P("tr",{key:e.key,role:"presentation",className:gM(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,s))}renderChunkTd(e,n,s,i){if("outerContent"in s)return s.outerContent;let{props:r}=this,{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,c=aM(r,e),u=Xy(r,e),d=r.liquid?o?"scroll":c?"auto":"hidden":"visible",h=e.key,f=lM(e,s,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!r.collapsibleWidth&&a[h]!==void 0?a[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return P(i?"th":"td",{ref:s.elRef,role:"presentation"},P("div",{className:`fc-scroller-harness${u?" fc-scroller-harness-liquid":""}`},P(rM,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:d,overflowX:r.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},f)))}_handleScrollerEl(e,n){let s=bM(this.props.sections,n);s&&xn(s.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return hM(this.props.cols)?oM(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=NP(),{scrollerRefs:n,scrollerElRefs:s}=this,i=!1,r={},o={};for(let a in n.currentMap){let l=n.currentMap[a];if(l&&l.needsYScrolling()){i=!0;break}}for(let a of this.props.sections){let l=a.key,c=s.currentMap[l];if(c){let u=c.parentNode;r[l]=Math.floor(u.getBoundingClientRect().width-(i?e.y:0)),o[l]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:r,scrollerClientHeights:o}}}Zy.addStateEquality({scrollerClientWidths:ln,scrollerClientHeights:ln});function bM(t,e){for(let n of t)if(n.key===e)return n;return null}class Zd extends We{constructor(){super(...arguments),this.buildPublicEvent=ye((e,n,s)=>new Ue(e,n,s)),this.handleEl=e=>{this.el=e,xn(this.props.elRef,e),e&&Gg(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:s}=n,{seg:i}=e,{eventRange:r}=i,{ui:o}=r,a={event:this.buildPublicEvent(n,r.def,r.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&lP(i,n),isStartResizable:!e.disableResizing&&cP(i,n),isEndResizable:!e.disableResizing&&uP(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return P(Gn,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...dP(a),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,generatorName:"eventContent",customGenerator:s.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:s.eventClassNames,didMount:s.eventDidMount,willUnmount:s.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&Gg(this.el,this.props.seg)}}class e_ extends We{render(){let{props:e,context:n}=this,{options:s}=n,{seg:i}=e,{ui:r}=i.eventRange,o=s.eventTimeFormat||e.defaultTimeFormat,a=jy(i,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return P(Zd,Object.assign({},e,{elTag:"a",elStyle:{borderColor:r.borderColor,backgroundColor:r.backgroundColor},elAttrs:By(i,n),defaultGenerator:vM,timeText:a}),(l,c)=>P(Ge,null,P(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&P("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&P("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}e_.addPropsEquality({seg:ln});function vM(t){return P("div",{className:"fc-event-main-frame"},t.timeText&&P("div",{className:"fc-event-time"},t.timeText),P("div",{className:"fc-event-title-container"},P("div",{className:"fc-event-title fc-sticky"},t.event.title||P(Ge,null,""))))}const yM=rt({day:"numeric"});class t_ extends We{constructor(){super(...arguments),this.refineRenderProps=ca(_M)}render(){let{props:e,context:n}=this,{options:s}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:s.monthStartFormat});return P(Gn,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":Nd(e.date)}),elClasses:[...Yd(i,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:s.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:s.dayCellClassNames,didMount:s.dayCellDidMount,willUnmount:s.dayCellWillUnmount},e.children)}}function n_(t){return!!(t.dayCellContent||Ou("dayCellContent",t))}function _M(t){let{date:e,dateEnv:n,dateProfile:s,isMonthStart:i}=t,r=Vy(e,t.todayRange,null,s),o=t.showDayNumber?n.format(e,i?t.monthStartFormat:yM):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},r),{isMonthStart:i,dayNumberText:o}),t.extraRenderProps)}class wM extends We{render(){let{props:e}=this,{seg:n}=e;return P(Zd,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:EM,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function EM(t){let{title:e}=t.event;return e&&P("div",{className:"fc-event-title"},t.event.title)}function SM(t){return P("div",{className:`fc-${t}`})}const AM=t=>P(ai.Consumer,null,e=>{let{dateEnv:n,options:s}=e,{date:i}=t,r=s.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(i),a=n.format(i,r),l={num:o,text:a,date:i};return P(Gn,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:l,generatorName:"weekNumberContent",customGenerator:s.weekNumberContent,defaultGenerator:xM,classNameGenerator:s.weekNumberClassNames,didMount:s.weekNumberDidMount,willUnmount:s.weekNumberWillUnmount},t.children)});function xM(t){return t.text}const Mc=10;class RM extends We{constructor(){super(...arguments),this.state={titleId:Tl()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&xn(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=fy(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:s,state:i}=this,r=["fc-popover",e.getClass("popover")].concat(s.extraClassNames||[]);return Zk(P("div",Object.assign({},s.extraAttrs,{id:s.id,className:r.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),P("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},P("span",{className:"fc-popover-title",id:i.titleId},s.title),P("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),P("div",{className:"fc-popover-body "+e.getClass("popoverContent")},s.children)),s.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:s}=this.props,{rootEl:i}=this,r=FP(n);if(r){let o=i.getBoundingClientRect(),a=s?_t(n,".fc-scrollgrid").getBoundingClientRect().top:r.top,l=e?r.right-o.width:r.left;a=Math.max(a,Mc),l=Math.min(l,document.documentElement.clientWidth-Mc-o.width),l=Math.max(l,Mc);let c=i.offsetParent.getBoundingClientRect();Dr(i,{top:a-c.top,left:l-c.left})}}}class CM extends ci{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:s}=this,{startDate:i,todayRange:r,dateProfile:o}=s,a=n.format(i,e.dayPopoverFormat);return P(t_,{elRef:this.handleRootEl,date:i,dateProfile:o,todayRange:r},(l,c,u)=>P(RM,{elRef:u.ref,id:s.id,title:a,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:s.parentEl,alignmentEl:s.alignmentEl,alignGridTop:s.alignGridTop,onClose:s.onClose},n_(e)&&P(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),s.children))}queryHit(e,n,s,i){let{rootEl:r,props:o}=this;return e>=0&&e<s&&n>=0&&n<i?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:r,rect:{left:0,top:0,right:s,bottom:i},layer:1}:null}}class TM extends We{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Tl()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&xn(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:s}=this,{moreLinkClick:i}=s.options,r=Xg(n).start;function o(a){let{def:l,instance:c,range:u}=a.eventRange;return{event:new Ue(s,l,c),start:s.dateEnv.toDate(u.start),end:s.dateEnv.toDate(u.end),isStart:a.isStart,isEnd:a.isEnd}}typeof i=="function"&&(i=i({date:r,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:s.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&s.calendarApi.zoomTo(r,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return P(ai.Consumer,null,s=>{let{viewApi:i,options:r,calendarApi:o}=s,{moreLinkText:a}=r,{moreCnt:l}=e,c=Xg(e),u=typeof a=="function"?a.call(o,l):`+${l} ${a}`,d=Or(r.moreLinkHint,[l],u),h={num:l,shortText:`+${l}`,text:u,view:i};return P(Ge,null,!!e.moreCnt&&P(Gn,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),py(this.handleClick)),{title:d,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:r.moreLinkContent,defaultGenerator:e.defaultGenerator||kM,classNameGenerator:r.moreLinkClassNames,didMount:r.moreLinkDidMount,willUnmount:r.moreLinkWillUnmount},e.children),n.isPopoverOpen&&P(CM,{id:n.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=_t(this.linkEl,".fc-view-harness"))}}function kM(t){return t.text}function Xg(t){if(t.allDayDate)return{start:t.allDayDate,end:at(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:DM(e),end:PM(e)}}function DM(t){return t.reduce(OM).eventRange.range.start}function OM(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function PM(t){return t.reduce(MM).eventRange.range.end}function MM(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class IM{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class NM extends IM{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let s=!1;e.isActive?(n.set(e.id,e),s=!0):n.has(e.id)&&(n.delete(e.id),s=!0),s&&this.set(n)}}const LM=[],s_={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},i_=Object.assign(Object.assign({},s_),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function jM(t){let e=t.length>0?t[0].code:"en",n=LM.concat(t),s={en:i_};for(let i of n)s[i.code]=i;return{map:s,defaultCode:e}}function r_(t,e){return typeof t=="object"&&!Array.isArray(t)?o_(t.code,[t.code],t):BM(t,e)}function BM(t,e){let n=[].concat(t||[]),s=FM(n,e)||i_;return o_(t,n,s)}function FM(t,e){for(let n=0;n<t.length;n+=1){let s=t[n].toLocaleLowerCase().split("-");for(let i=s.length;i>0;i-=1){let r=s.slice(0,i).join("-");if(e[r])return e[r]}}return null}function o_(t,e,n){let s=Bd([s_,n],["buttonText"]);delete s.code;let{week:i}=s;return delete s.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:s}}function _s(t){return{id:ri(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function UM(t,e){let n={},s={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(r){for(let o of r){const a=o.name,l=n[a];l===void 0?(n[a]=o.id,i(o.deps),s=$M(s,o)):l!==o.id&&console.warn(`Duplicate plugin '${a}'`)}}return t&&i(t),i(e),s}function HM(){let t=[],e=[],n;return(s,i)=>((!n||!ps(s,t)||!ps(i,e))&&(n=UM(s,i)),t=s,e=i,n)}function $M(t,e){return{premiumReleaseDate:VM(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function VM(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class ws extends yo{}ws.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};ws.prototype.baseIconClass="fc-icon";ws.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};ws.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};ws.prototype.iconOverrideOption="buttonIcons";ws.prototype.iconOverrideCustomButtonOption="icon";ws.prototype.iconOverridePrefix="fc-icon-";function WM(t,e){let n={},s;for(s in t)Lu(s,n,t,e);for(s in e)Lu(s,n,t,e);return n}function Lu(t,e,n,s){if(e[t])return e[t];let i=zM(t,e,n,s);return i&&(e[t]=i),i}function zM(t,e,n,s){let i=n[t],r=s[t],o=u=>i&&i[u]!==null?i[u]:r&&r[u]!==null?r[u]:null,a=o("component"),l=o("superType"),c=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");c=Lu(l,e,n,s)}return!a&&c&&(a=c.component),a?{type:t,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),r?r.rawOptions:{})}:null}function Zg(t){return oi(t,qM)}function qM(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=ep(e):n&&!(n.prototype instanceof We)&&(n=ep(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function ep(t){return e=>P(ai.Consumer,null,n=>P(Gn,{elTag:"div",elClasses:Sy(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function GM(t,e,n,s){let i=Zg(t),r=Zg(e.views),o=WM(i,r);return oi(o,a=>KM(a,r,e,n,s))}function KM(t,e,n,s,i){let r=t.overrides.duration||t.defaults.duration||s.duration||n.duration,o=null,a="",l="",c={};if(r&&(o=YM(r),o)){let h=Du(o);a=h.unit,h.value===1&&(l=a,c=e[a]?e[a].rawOptions:{})}let u=h=>{let f=h.buttonText||{},g=t.defaults.buttonTextKey;return g!=null&&f[g]!=null?f[g]:f[t.type]!=null?f[t.type]:f[l]!=null?f[l]:null},d=h=>{let f=h.buttonHints||{},g=t.defaults.buttonTextKey;return g!=null&&f[g]!=null?f[g]:f[t.type]!=null?f[t.type]:f[l]!=null?f[l]:null};return{type:t.type,component:t.component,duration:o,durationUnit:a,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},c),t.overrides),buttonTextOverride:u(s)||u(n)||t.overrides.buttonText,buttonTextDefault:u(i)||t.defaults.buttonText||u(Pr)||t.type,buttonTitleOverride:d(s)||d(n)||t.overrides.buttonHint,buttonTitleDefault:d(i)||t.defaults.buttonHint||d(Pr)}}let tp={};function YM(t){let e=JSON.stringify(t),n=tp[e];return n===void 0&&(n=we(t),tp[e]=n),n}function JM(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function QM(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function XM(t,e,n){let s=t.initialDate;return s!=null?e.createMarker(s):n.getDateMarker()}function ZM(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function eI(t,e,n,s){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return s.build(e.dateMarker||n);case"CHANGE_DATE":return s.build(e.dateMarker);case"PREV":if(i=s.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=s.buildNext(t,n),i.isValid)return i;break}return t}function tI(t,e,n){let s=e?e.activeRange:null;return l_({},lI(t,n),s,n)}function nI(t,e,n,s){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return l_(t,e.sources,i,s);case"REMOVE_EVENT_SOURCE":return iI(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?c_(t,i,s):t;case"FETCH_EVENT_SOURCES":return eh(t,e.sourceIds?vy(e.sourceIds):u_(t,s),i,e.isRefetch||!1,s);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return aI(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function sI(t,e,n){let s=e?e.activeRange:null;return eh(t,u_(t,n),s,!0,n)}function a_(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function l_(t,e,n,s){let i={};for(let r of e)i[r.sourceId]=r;return n&&(i=c_(i,n,s)),Object.assign(Object.assign({},t),i)}function iI(t,e){return ei(t,n=>n.sourceId!==e)}function c_(t,e,n){return eh(t,ei(t,s=>rI(s,e,n)),e,!1,n)}function rI(t,e,n){return d_(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function eh(t,e,n,s,i){let r={};for(let o in t){let a=t[o];e[o]?r[o]=oI(a,n,s,i):r[o]=a}return r}function oI(t,e,n,s){let{options:i,calendarApi:r}=s,o=s.pluginHooks.eventSourceDefs[t.sourceDefId],a=ri();return o.fetch({eventSource:t,range:e,isRefetch:n,context:s},l=>{let{rawEvents:c}=l;i.eventSourceSuccess&&(c=i.eventSourceSuccess.call(r,c,l.response)||c),t.success&&(c=t.success.call(r,c,l.response)||c),s.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:a,fetchRange:e,rawEvents:c})},l=>{let c=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(r,l),c=!0),t.failure&&(t.failure(l),c=!0),c||console.warn(l.message,l),s.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:a,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:a})}function aI(t,e,n,s){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:s})}):t}function u_(t,e){return ei(t,n=>d_(n,e))}function lI(t,e){let n=Oy(e),s=[].concat(t.eventSources||[]),i=[];t.initialEvents&&s.unshift(t.initialEvents),t.events&&s.unshift(t.events);for(let r of s){let o=Dy(r,e,n);o&&i.push(o)}return i}function d_(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function cI(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function uI(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function dI(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function hI(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function fI(t,e,n,s,i){let r=t.headerToolbar?np(t.headerToolbar,t,e,n,s,i):null,o=t.footerToolbar?np(t.footerToolbar,t,e,n,s,i):null;return{header:r,footer:o}}function np(t,e,n,s,i,r){let o={},a=[],l=!1;for(let c in t){let u=t[c],d=gI(u,e,n,s,i,r);o[c]=d.widgets,a.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:l}}function gI(t,e,n,s,i,r){let o=e.direction==="rtl",a=e.customButtons||{},l=n.buttonText||{},c=e.buttonText||{},u=n.buttonHints||{},d=e.buttonHints||{},h=t?t.split(" "):[],f=[],g=!1;return{widgets:h.map(m=>m.split(",").map(b=>{if(b==="title")return g=!0,{buttonName:b};let v,y,_,S,T,x;if(v=a[b])_=A=>{v.click&&v.click.call(A.target,A,A.target)},(S=s.getCustomButtonIconClass(v))||(S=s.getIconClass(b,o))||(T=v.text),x=v.hint||v.text;else if(y=i[b]){f.push(b),_=()=>{r.changeView(b)},(T=y.buttonTextOverride)||(S=s.getIconClass(b,o))||(T=y.buttonTextDefault);let A=y.buttonTextOverride||y.buttonTextDefault;x=Or(y.buttonTitleOverride||y.buttonTitleDefault||e.viewHint,[A,b],A)}else if(r[b])if(_=()=>{r[b]()},(T=l[b])||(S=s.getIconClass(b,o))||(T=c[b]),b==="prevYear"||b==="nextYear"){let A=b==="prevYear"?"prev":"next";x=Or(u[A]||d[A],[c.year||"year","year"],c[b])}else x=A=>Or(u[b]||d[b],[c[A]||A,A],c[b]);return{buttonName:b,buttonClick:_,buttonIcon:S,buttonText:T,buttonHint:x}})),viewsWithButtons:f,hasTitle:g}}class pI{constructor(e,n,s){this.type=e,this.getCurrentData=n,this.dateEnv=s}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let mI={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const bI=_s({name:"array-event-source",eventSourceDefs:[mI]});let vI={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:s}=t.context,i=t.eventSource.meta;_P(i.bind(null,Fy(t.range,s)),r=>e({rawEvents:r}),n)}};const yI=_s({name:"func-event-source",eventSourceDefs:[vI]}),_I={method:String,extraParams:D,startParam:String,endParam:String,timeZoneParam:String};let wI={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:s}=t.eventSource,i=SI(s,t.range,t.context);wP(s.method,s.url,i).then(([r,o])=>{e({rawEvents:r,response:o})},n)}};const EI=_s({name:"json-event-source",eventSourceRefiners:_I,eventSourceDefs:[wI]});function SI(t,e,n){let{dateEnv:s,options:i}=n,r,o,a,l,c={};return r=t.startParam,r==null&&(r=i.startParam),o=t.endParam,o==null&&(o=i.endParam),a=t.timeZoneParam,a==null&&(a=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(c,l),c[r]=s.formatIso(e.start),c[o]=s.formatIso(e.end),s.timeZone!=="local"&&(c[a]=s.timeZone),c}const AI={daysOfWeek:D,startTime:we,endTime:we,duration:we,startRecur:D,endRecur:D};let xI={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},s;return t.duration&&(s=t.duration),!s&&t.startTime&&t.endTime&&(s=OD(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:s,typeData:n}}return null},expand(t,e,n){let s=zi(e,{start:t.startRecur,end:t.endRecur});return s?CI(t.daysOfWeek,t.startTime,t.dateEnv,n,s):[]}};const RI=_s({name:"simple-recurring-event",recurringTypes:[xI],eventRefiners:AI});function CI(t,e,n,s,i){let r=t?vy(t):null,o=Fe(i.start),a=i.end,l=[];for(e&&(e.milliseconds<0?a=at(a,1):e.milliseconds>=1e3*60*60*24&&(o=at(o,-1)));o<a;){let c;(!r||r[o.getUTCDay()])&&(e?c=s.add(o,e):c=o,l.push(s.createMarker(n.toDate(c)))),o=at(o,1)}return l}const TI=_s({name:"change-handler",optionChangeHandlers:{events(t,e){sp([t],e)},eventSources:sp}});function sp(t,e){let n=Fd(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let s=[];for(let i of t){let r=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===i){n.splice(o,1),r=!0;break}r||s.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of s)e.calendarApi.addEventSource(i)}function kI(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},Fy(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function DI(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Ys(t,e))}const OI=[bI,yI,EI,RI,TI,_s({name:"misc",isLoadingFuncs:[t=>a_(t.eventSources)],propSetHandlers:{dateProfile:kI,eventStore:DI}})];class PI{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new Od(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],s;for(;s=e.shift();)this.runTask(s),n.push(s);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function MI(t,e,n){let s;return/^(year|month)$/.test(t.currentRangeUnit)?s=t.currentRange:s=t.activeRange,n.formatRange(s.start,s.end,rt(e.titleFormat||II(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function II(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Ia(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class ip{constructor(){this.resetListeners=new Set}handleInput(e,n){const s=this.dateEnv;if(e!==s&&(typeof n=="function"?this.nowFn=n:s||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,s))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class NI{constructor(e){this.computeCurrentViewData=ye(this._computeCurrentViewData),this.organizeRawLocales=ye(jM),this.buildLocale=ye(r_),this.buildPluginHooks=HM(),this.buildDateEnv=ye(LI),this.buildTheme=ye(jI),this.parseToolbars=ye(fI),this.buildViewSpecs=ye(GM),this.buildDateProfileGenerator=ca(BI),this.buildViewApi=ye(FI),this.buildViewUiProps=ca($I),this.buildEventUiBySource=ye(UI,ln),this.buildEventUiBases=ye(HI),this.parseContextBusinessHours=ca(VI),this.buildTitle=ye(MI),this.nowManager=new ip,this.emitter=new Pl,this.actionRunner=new PI(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause(),this.nowManager=new ip;let n={},s=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=s.calendarOptions.initialView||s.pluginHooks.initialView,r=this.computeCurrentViewData(i,s,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(r.options);let o={nowManager:this.nowManager,dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a=XM(s.calendarOptions,s.dateEnv,this.nowManager),l=r.dateProfileGenerator.build(a);hs(l.activeRange,a)||(a=l.currentRange.start);for(let h of s.pluginHooks.contextInit)h(o);let c=tI(s.calendarOptions,l,o),u={dynamicOptionOverrides:n,currentViewType:i,currentDate:a,dateProfile:l,businessHours:this.parseContextBusinessHours(o),eventSources:c,eventUiBases:{},eventStore:rn(),renderableEventStore:rn(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},d=Object.assign(Object.assign({},o),u);for(let h of s.pluginHooks.reducers)Object.assign(u,h(null,null,d));Ic(u,o)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:s}=this;n===void 0?s.optionOverrides=e:(s.optionOverrides=Object.assign(Object.assign({},s.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:s,emitter:i}=this,r=ZM(s.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,r,n.calendarApi),a=JM(s.currentViewType,e),l=this.computeCurrentViewData(a,o,n.optionOverrides,r);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(l.options);let c={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:d}=s;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(d=l.dateProfileGenerator.build(u)),u=QM(u,e),d=eI(d,e,u,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!hs(d.currentRange,u))&&(u=d.currentRange.start);let h=nI(s.eventSources,e,d,c),f=qO(s.eventStore,e,h,d,c),p=a_(h)&&!l.options.progressiveEventRendering&&s.renderableEventStore||f,{eventUiSingleBase:m,selectionConfig:b}=this.buildViewUiProps(c),v=this.buildEventUiBySource(h),y=this.buildEventUiBases(p.defs,m,v),_={dynamicOptionOverrides:r,currentViewType:a,currentDate:u,dateProfile:d,eventSources:h,eventStore:f,renderableEventStore:p,selectionConfig:b,eventUiBases:y,businessHours:this.parseContextBusinessHours(c),dateSelection:cI(s.dateSelection,e),eventSelection:uI(s.eventSelection,e),eventDrag:dI(s.eventDrag,e),eventResize:hI(s.eventResize,e)},S=Object.assign(Object.assign({},c),_);for(let A of o.pluginHooks.reducers)Object.assign(_,A(s,e,S));let T=Ic(s,c),x=Ic(_,c);!T&&x?i.trigger("loading",!0):T&&!x&&i.trigger("loading",!1),this.state=_,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,s=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),r=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,r.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),r),n),a=i.pluginHooks.optionChangeHandlers,l=s&&s.calendarOptions,c=i.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(n.eventSources=o.eventSources=sI(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=Wg(o.eventStore,s.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=Wg(o.renderableEventStore,s.dateEnv,o.dateEnv));for(let u in a)(this.optionsForHandling.indexOf(u)!==-1||l[u]!==c[u])&&a[u](c[u],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,s){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:r,localeDefaults:o,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,n);rp(l);let c=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,r,a,i.defaultRangeSeparator),u=this.buildViewSpecs(r.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),d=this.buildTheme(i,r),h=this.parseToolbars(i,this.stableOptionOverrides,d,u,s);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:r,dateEnv:c,viewSpecs:u,theme:d,toolbarConfig:h,localeDefaults:o,availableRawLocales:a.map}}processRawCalendarOptions(e,n){let{locales:s,locale:i}=Rc([Pr,e,n]),r=this.organizeRawLocales(s),o=r.map,a=this.buildLocale(i||r.defaultCode,o).options,l=this.buildPluginHooks(e.plugins||[],OI),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},jg),Bg),Fg),l.listenerRefiners),l.optionRefiners),u={},d=Rc([Pr,a,e,n]),h={},f=this.currentCalendarOptionsInput,g=this.currentCalendarOptionsRefined,p=!1;for(let m in d)this.optionsForRefining.indexOf(m)===-1&&(d[m]===f[m]||Is[m]&&m in f&&Is[m](f[m],d[m]))?h[m]=g[m]:c[m]?(h[m]=c[m](d[m]),p=!0):u[m]=f[m];return p&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:r,localeDefaults:a,extra:u}}_computeCurrentViewData(e,n,s,i){let r=n.viewSpecs[e];if(!r)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:a}=this.processRawViewOptions(r,n.pluginHooks,n.localeDefaults,s,i);rp(a),this.nowManager.handleInput(n.dateEnv,o.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:r.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:r.duration,durationUnit:r.durationUnit,usesMinMaxTime:r.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:r,options:o,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(e,n,s,i,r){let o=Rc([Pr,e.optionDefaults,s,i,e.optionOverrides,r]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},jg),Bg),Fg),cO),n.listenerRefiners),n.optionRefiners),l={},c=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,d=!1,h={};for(let f in o)o[f]===c[f]||Is[f]&&Is[f](o[f],c[f])?l[f]=u[f]:(o[f]===this.currentCalendarOptionsInput[f]||Is[f]&&Is[f](o[f],this.currentCalendarOptionsInput[f])?f in this.currentCalendarOptionsRefined&&(l[f]=this.currentCalendarOptionsRefined[f]):a[f]?l[f]=a[f](o[f]):h[f]=o[f],d=!0);return d&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function LI(t,e,n,s,i,r,o,a){let l=r_(e||o.defaultCode,o.map);return new _O({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:r.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:s,weekText:i,cmdFormatter:r.cmdFormatter,defaultSeparator:a})}function jI(t,e){let n=e.themeClasses[t.themeSystem]||ws;return new n(t)}function BI(t){let e=t.dateProfileGeneratorClass||Ry;return new e(t)}function FI(t,e,n){return new pI(t,e,n)}function UI(t){return oi(t,e=>e.ui)}function HI(t,e,n){let s={"":e};for(let i in t){let r=t[i];r.sourceId&&n[r.sourceId]&&(s[i]=n[r.sourceId])}return s}function $I(t){let{options:e}=t;return{eventUiSingleBase:Ua({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Ua({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function Ic(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function VI(t){return tP(t.options.businessHours,t)}function rp(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class WI extends We{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return P("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:s}=this.context,i=[],r=!0;for(let o of e){let{buttonName:a,buttonClick:l,buttonText:c,buttonIcon:u,buttonHint:d}=o;if(a==="title")r=!1,i.push(P("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let h=a===n.activeButton,f=!n.isTodayEnabled&&a==="today"||!n.isPrevEnabled&&a==="prev"||!n.isNextEnabled&&a==="next",g=[`fc-${a}-button`,s.getClass("button")];h&&g.push(s.getClass("buttonActive")),i.push(P("button",{type:"button",title:typeof d=="function"?d(n.navUnit):d,disabled:f,"aria-pressed":h,className:g.join(" "),onClick:l},c||(u?P("span",{className:u,role:"img"}):"")))}}if(i.length>1){let o=r&&s.getClass("buttonGroup")||"";return P("div",{className:o},...i)}return i[0]}}class op extends We{render(){let{model:e,extraClassName:n}=this.props,s=!1,i,r,o=e.sectionWidgets,a=o.center;return o.left?(s=!0,i=o.left):i=o.start,o.right?(s=!0,r=o.right):r=o.end,P("div",{className:[n||"","fc-toolbar",s?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",a||[]),this.renderSection("end",r||[]))}renderSection(e,n){let{props:s}=this;return P(WI,{key:e,widgetGroups:n,title:s.title,navUnit:s.navUnit,activeButton:s.activeButton,isTodayEnabled:s.isTodayEnabled,isPrevEnabled:s.isPrevEnabled,isNextEnabled:s.isNextEnabled,titleId:s.titleId})}}class zI extends We{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,xn(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:s}=e,i=["fc-view-harness",s||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],r="",o="";return s?n.availableWidth!==null?r=n.availableWidth/s:o=`${1/s*100}%`:r=e.height||"",P("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:r,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class qI extends tr{constructor(e){super(e),this.handleSegClick=(n,s)=>{let{component:i}=this,{context:r}=i,o=qi(s);if(o&&i.isValidSegDownEl(n.target)){let a=_t(n.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:s,event:new Ue(i.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:r.viewApi}),l&&!n.defaultPrevented&&(window.location.href=l)}},this.destroy=gy(e.el,"click",".fc-event",this.handleSegClick)}}class GI extends tr{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,s)=>{qi(s)&&(this.currentSegEl=s,this.triggerEvent("eventMouseEnter",n,s))},this.handleSegLeave=(n,s)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,s))},this.removeHoverListeners=mD(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,s){let{component:i}=this,{context:r}=i,o=qi(s);(!n||i.isValidSegDownEl(n.target))&&r.emitter.trigger(e,{el:s,event:new Ue(r,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:r.viewApi})}}class KI extends li{constructor(){super(...arguments),this.buildViewContext=ye(SO),this.buildViewPropTransformers=ye(JI),this.buildToolbarProps=ye(YI),this.headerRef=Wn(),this.footerRef=Wn(),this.interactionsStore={},this.state={viewLabelId:Tl()},this.registerInteractiveComponent=(e,n)=>{let s=AP(e,n),o=[qI,GI].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(s));this.interactionsStore[e.uid]=o,Iu[e.uid]=s},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let s of n)s.destroy();delete this.interactionsStore[e.uid]}delete Iu[e.uid]},this.resizeRunner=new Od(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:s}=e,i=!1,r="",o;e.isHeightAuto||e.forPrint?r="":s.height!=null?i=!0:s.contentHeight!=null?r=s.contentHeight:o=Math.max(s.aspectRatio,.5);let a=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return P(ai.Provider,{value:a},P(Ml,{unit:"day"},c=>{let u=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,c,e.viewTitle);return P(Ge,null,n.header&&P(op,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:l},u)),P(zI,{liquid:i,height:r,aspectRatio:o,labeledById:l},this.renderView(e),this.buildAppendContent()),n.footer&&P(op,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},u)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(s=>new s(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let s in n)n[s](e[s],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:s}=n.pluginHooks;for(let i in s)n[i]!==e[i]&&s[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(s=>s(e));return P(Ge,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:s}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},r=this.buildViewPropTransformers(n.viewPropsTransformers);for(let a of r)Object.assign(i,a.transform(i,e));let o=s.component;return P(o,Object.assign({},i))}}function YI(t,e,n,s,i,r){let o=n.build(i,void 0,!1),a=n.buildPrev(e,s,!1),l=n.buildNext(e,s,!1);return{title:r,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!hs(e.currentRange,i),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function JI(t){return t.map(e=>new e)}class QI extends RP{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=s=>{switch(s.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=s=>{this.currentData=s,this.renderRunner.request(s.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:s}=this;Ba(()=>{Xr(P(SP,{options:s.calendarOptions,theme:s.theme,emitter:s.emitter},(i,r,o,a)=>(this.setClassNames(i),this.setHeight(r),P(Ey.Provider,{value:this.customContentRenderId},P(KI,Object.assign({isHeightAuto:o,forPrint:a},s))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Xr(null,this.el),this.setClassNames([]),this.setHeight(""))},aD(e),this.el=e,this.renderRunner=new Od(this.handleRenderRequest),new NI({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Ba(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!ps(e,this.currentClassNames)){let{classList:n}=this.el;for(let s of this.currentClassNames)n.remove(s);for(let s of e)n.add(s);this.currentClassNames=e}}setHeight(e){hy(this.el,"height",e)}}const XI={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},ZI=cl({props:{options:Object},data(){return{renderId:0,customRenderingMap:new Map}},methods:{getApi(){return this.calendar},buildOptions(t){return{...t,customRenderingMetaMap:n1(this.$slots),handleCustomRendering:this.handleCustomRendering}}},render(){const t=[];for(const e of this.customRenderingMap.values())t.push(Mi(e1,{key:e.id,customRendering:e}));return Mi("div",{attrs:{"data-fc-render-id":this.renderId}},Mi(bt,t))},mounted(){const t=new NM;this.handleCustomRendering=t.handle.bind(t);const e=this.buildOptions(this.options),n=new QI(this.$el,e);this.calendar=n,n.render(),t.subscribe(s=>{this.customRenderingMap=s,this.renderId++,this.needCustomRenderingResize=!0})},beforeUpdate(){this.getApi().resumeRendering()},updated(){this.needCustomRenderingResize&&(this.needCustomRenderingResize=!1,this.getApi().updateSize())},beforeUnmount(){this.getApi().destroy()},watch:t1()}),e1=cl({props:{customRendering:Object},render(){const t=this.customRendering,e=typeof t.generatorMeta=="function"?t.generatorMeta(t.renderProps):t.generatorMeta;return Mi(m0,{to:t.containerEl},e)}});function t1(){let t={options:{deep:!0,handler(e){let n=this.getApi();n.pauseRendering();let s=this.buildOptions(e);n.resetOptions(s),this.renderId++}}};for(let e in XI)t[`options.${e}`]={deep:!0,handler(n){if(n!==void 0){let s=this.getApi();s.pauseRendering(),s.resetOptions({[e]:n},[e]),this.renderId++}}};return t}function n1(t){const e={};for(const n in t)e[s1(n)]=t[n];return e}function s1(t){return t.split("-").map((e,n)=>n?i1(e):e).join("")}function i1(t){return t.charAt(0).toUpperCase()+t.slice(1)}class r1 extends ci{constructor(){super(...arguments),this.headerElRef=Wn()}renderSimpleLayout(e,n){let{props:s,context:i}=this,r=[],o=Qg(i.options);return e&&r.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),P(Ug,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},P(Zy,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[],sections:r}))}renderHScrollLayout(e,n,s,i){let r=this.context.pluginHooks.scrollGridImpl;if(!r)throw new Error("No ScrollGrid implementation");let{props:o,context:a}=this,l=!o.forPrint&&Qg(a.options),c=!o.forPrint&&mM(a.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),c&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:pM}]}),P(Ug,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},P(r,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:s,minWidth:i}]}],sections:u}))}}function da(t,e){let n=[];for(let s=0;s<e;s+=1)n[s]=[];for(let s of t)n[s.row].push(s);return n}function Fo(t,e){let n=[];for(let s=0;s<e;s+=1)n[s]=[];for(let s of t)n[s.firstCol].push(s);return n}function ap(t,e){let n=[];if(t){for(let s=0;s<e;s+=1)n[s]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let s of t.segs)n[s.row].segs.push(s)}else for(let s=0;s<e;s+=1)n[s]=null;return n}const h_=rt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function f_(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class g_ extends We{render(){let{props:e}=this;return P(e_,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:h_,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class p_ extends We{render(){let{props:e,context:n}=this,{options:s}=n,{seg:i}=e,r=s.eventTimeFormat||h_,o=jy(i,r,n,!0,e.defaultDisplayEventEnd);return P(Zd,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:By(e.seg,n),defaultGenerator:o1,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function o1(t){return P(Ge,null,P("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&P("div",{className:"fc-event-time"},t.timeText),P("div",{className:"fc-event-title"},t.event.title||P(Ge,null,"")))}class a1 extends We{constructor(){super(...arguments),this.compileSegs=ye(l1)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:s}=this.compileSegs(e.singlePlacements);return P(TM,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:s,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return P(Ge,null,n.map(r=>{let o=r.eventRange.instance.instanceId;return P("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:i[o]?"hidden":""}},f_(r)?P(p_,Object.assign({seg:r,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Mr(r,e.todayRange))):P(g_,Object.assign({seg:r,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Mr(r,e.todayRange))))}))}})}}function l1(t){let e=[],n=[];for(let s of t)e.push(s.seg),s.isVisible||n.push(s.seg);return{allSegs:e,invisibleSegs:n}}const c1=rt({week:"narrow"});class u1 extends ci{constructor(){super(...arguments),this.rootElRef=Wn(),this.state={dayNumberId:Tl()},this.handleRootEl=e=>{xn(this.rootElRef,e),xn(this.props.elRef,e)}}render(){let{context:e,props:n,state:s,rootElRef:i}=this,{options:r,dateEnv:o}=e,{date:a,dateProfile:l}=n;const c=n.showDayNumber&&h1(a,l.currentRange,o);return P(t_,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":s.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:d1,date:a,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:c,extraRenderProps:n.extraRenderProps},(u,d)=>P("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&P(AM,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Nu(e,a,"week"),date:a,defaultFormat:c1}),!d.isDisabled&&(n.showDayNumber||n_(r)||n.forceDayTop)?P("div",{className:"fc-daygrid-day-top"},P(u,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Nu(e,a)),{id:s.dayNumberId})})):n.showDayNumber?P("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},P("a",{className:"fc-daygrid-day-number"},"")):void 0,P("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,P("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},P(a1,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),P("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function d1(t){return t.dayNumberText||P(Ge,null,"")}function h1(t,e,n){const{start:s,end:i}=e,r=ms(i,-1),o=n.getYear(s),a=n.getMonth(s),l=n.getYear(r),c=n.getMonth(r);return!(o===l&&a===c)&&(t.valueOf()===s.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function m_(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function b_(t){return m_(t)+":"+t.lastCol}function f1(t,e,n,s,i,r,o){let a=new m1(b=>{let v=t[b.index].eventRange.instance.instanceId+":"+b.span.start+":"+(b.span.end-1);return i[v]||1});a.allowReslicing=!0,a.strictOrder=s,e===!0||n===!0?(a.maxCoord=r,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof n=="number"&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],c=[];for(let b=0;b<t.length;b+=1){let v=t[b],y=b_(v);i[y]!=null?l.push({index:b,span:{start:v.firstCol,end:v.lastCol+1}}):c.push(v)}let u=a.addSegs(l),d=a.toRects(),{singleColPlacements:h,multiColPlacements:f,leftoverMargins:g}=g1(d,t,o),p=[],m=[];for(let b of c){f[b.firstCol].push({seg:b,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let v=b.firstCol;v<=b.lastCol;v+=1)h[v].push({seg:ji(b,v,v+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let b=0;b<o.length;b+=1)p.push(0);for(let b of u){let v=t[b.index],y=b.span;f[y.start].push({seg:ji(v,y.start,y.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let _=y.start;_<y.end;_+=1)p[_]+=1,h[_].push({seg:ji(v,_,_+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let b=0;b<o.length;b+=1)m.push(g[b]);return{singleColPlacements:h,multiColPlacements:f,moreCnts:p,moreMarginTops:m}}function g1(t,e,n){let s=p1(t,n.length),i=[],r=[],o=[];for(let a=0;a<n.length;a+=1){let l=s[a],c=[],u=0,d=0;for(let f of l){let g=e[f.index];c.push({seg:ji(g,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:f.levelCoord-u}),u=f.levelCoord+f.thickness}let h=[];u=0,d=0;for(let f of l){let g=e[f.index],p=f.span.end-f.span.start>1,m=f.span.start===a;d+=f.levelCoord-u,u=f.levelCoord+f.thickness,p?(d+=f.thickness,m&&h.push({seg:ji(g,f.span.start,f.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:f.levelCoord,marginTop:0})):m&&(h.push({seg:ji(g,f.span.start,f.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:d}),d=0)}i.push(c),r.push(h),o.push(d)}return{singleColPlacements:i,multiColPlacements:r,leftoverMargins:o}}function p1(t,e){let n=[];for(let s=0;s<e;s+=1)n.push([]);for(let s of t)for(let i=s.span.start;i<s.span.end;i+=1)n[i].push(s);return n}function ji(t,e,n,s){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,r=i.range,o=zi(r,{start:s[e].date,end:at(s[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:t.isStart&&o.start.valueOf()===r.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===r.end.valueOf()})}class m1 extends $P{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:s}=this,i=r=>!this.forceHidden[Ir(r)];for(let r=0;r<s.length;r+=1)s[r]=s[r].filter(i);return n}handleInvalidInsertion(e,n,s){const{entriesByLevel:i,forceHidden:r}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&o){const c=Ir(o);if(!r[c])if(this.allowReslicing){const u=Object.assign(Object.assign({},o),{span:qy(o.span,n.span)}),d=Ir(u);r[d]=!0,i[a][l]=u,s.push(u),this.splitEntry(o,n,s)}else r[c]=!0,s.push(o)}super.handleInvalidInsertion(e,n,s)}}class v_ extends ci{constructor(){super(...arguments),this.cellElRefs=new zs,this.frameElRefs=new zs,this.fgElRefs=new zs,this.segHarnessRefs=new zs,this.rootElRef=Wn(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:s}=this,{options:i}=s,r=e.cells.length,o=Fo(e.businessHourSegs,r),a=Fo(e.bgEventSegs,r),l=Fo(this.getHighlightSegs(),r),c=Fo(this.getMirrorSegs(),r),{singleColPlacements:u,multiColPlacements:d,moreCnts:h,moreMarginTops:f}=f1(oP(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),g=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return P("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((p,m)=>{let b=this.renderFgSegs(m,e.forPrint?u[m]:d[m],e.todayRange,g),v=this.renderFgSegs(m,b1(c[m],d),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return P(u1,{key:p.key,elRef:this.cellElRefs.createRef(p.key),innerElRef:this.frameElRefs.createRef(p.key),dateProfile:e.dateProfile,date:p.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&m===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:p.extraRenderProps,extraDataAttrs:p.extraDataAttrs,extraClassNames:p.extraClassNames,extraDateSpan:p.extraDateSpan,moreCnt:h[m],moreMarginTop:f[m],singlePlacements:u[m],fgContentElRef:this.fgElRefs.createRef(p.key),fgContent:P(Ge,null,P(Ge,null,b),P(Ge,null,v)),bgContent:P(Ge,null,this.renderFillSegs(l[m],"highlight"),this.renderFillSegs(o[m],"non-business"),this.renderFillSegs(a[m],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let s=this.props;this.updateSizing(!ln(e,s))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,s,i,r,o,a){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:u}=this.state,d=this.props.cells.length===1,h=r||o||a,f=[];if(u)for(let g of n){let{seg:p}=g,{instanceId:m}=p.eventRange.instance,b=g.isVisible&&!i[m],v=g.isAbsolute,y="",_="";v&&(l.isRtl?(_=0,y=u.lefts[p.lastCol]-u.lefts[p.firstCol]):(y=0,_=u.rights[p.firstCol]-u.rights[p.lastCol])),f.push(P("div",{className:"fc-daygrid-event-harness"+(v?" fc-daygrid-event-harness-abs":""),key:m_(p),ref:h?null:this.segHarnessRefs.createRef(b_(p)),style:{visibility:b?"":"hidden",marginTop:v?"":g.marginTop,top:v?g.absoluteTop:"",left:y,right:_}},f_(p)?P(p_,Object.assign({seg:p,isDragging:r,isSelected:m===c,defaultDisplayEventEnd:d},Mr(p,s))):P(g_,Object.assign({seg:p,isDragging:r,isResizing:o,isDateSelecting:a,isSelected:m===c,defaultDisplayEventEnd:d},Mr(p,s)))))}return f}renderFillSegs(e,n){let{isRtl:s}=this.context,{todayRange:i}=this.props,{framePositions:r}=this.state,o=[];if(r)for(let a of e){let l=s?{right:0,left:r.lefts[a.lastCol]-r.lefts[a.firstCol]}:{left:0,right:r.rights[a.firstCol]-r.rights[a.lastCol]};o.push(P("div",{key:hP(a.eventRange),className:"fc-daygrid-bg-harness",style:l},n==="bg-event"?P(wM,Object.assign({seg:a},Mr(a,i))):SM(n)))}return P(Ge,{},...o)}updateSizing(e){let{props:n,state:s,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let l=n.cells.map(c=>i.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,u=new $a(c,l,!0,!1);(!s.framePositions||!s.framePositions.similarTo(u))&&this.setState({framePositions:new $a(c,l,!0,!1)})}}const r=this.state.segHeights,o=this.querySegHeights(),a=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},r),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let s in e){let i=Math.round(e[s].getBoundingClientRect().height);n[s]=Math.max(n[s]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],s=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-s.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}v_.addStateEquality({segHeights:ln});function b1(t,e){if(!t.length)return[];let n=v1(e);return t.map(s=>({seg:s,isVisible:!0,isAbsolute:!0,absoluteTop:n[s.eventRange.instance.instanceId],marginTop:0}))}function v1(t){let e={};for(let n of t)for(let s of n)e[s.seg.eventRange.instance.instanceId]=s.absoluteTop;return e}class y1 extends ci{constructor(){super(...arguments),this.splitBusinessHourSegs=ye(da),this.splitBgEventSegs=ye(_1),this.splitFgEventSegs=ye(da),this.splitDateSelectionSegs=ye(da),this.splitEventDrag=ye(ap),this.splitEventResize=ye(ap),this.rowRefs=new zs}render(){let{props:e,context:n}=this,s=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,s),r=this.splitBgEventSegs(e.bgEventSegs,s),o=this.splitFgEventSegs(e.fgEventSegs,s),a=this.splitDateSelectionSegs(e.dateSelectionSegs,s),l=this.splitEventDrag(e.eventDrag,s),c=this.splitEventResize(e.eventResize,s),u=s>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return P(Ml,{unit:"day"},(d,h)=>P(Ge,null,e.cells.map((f,g)=>P(v_,{ref:this.rowRefs.createRef(g),key:f.length?f[0].date.toISOString():g,showDayNumbers:s>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:f,renderIntro:e.renderRowIntro,businessHourSegs:i[g],eventSelection:e.eventSelection,bgEventSegs:r[g],fgEventSegs:o[g],dateSelectionSegs:a[g],eventDrag:l[g],eventResize:c[g],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new $a(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new $a(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:s,rowPositions:i}=this,r=s.leftToIndex(e),o=i.topToIndex(n);if(o!=null&&r!=null){let a=this.props.cells[o][r];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,r),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(o,r),rect:{left:s.lefts[r],right:s.rights[r],top:i.tops[o],bottom:i.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let s=this.props.cells[e][n].date,i=at(s,1);return{start:s,end:i}}}function _1(t,e){return da(t.filter(w1),e)}function w1(t){return t.eventRange.def.allDay}class E1 extends ci{constructor(){super(...arguments),this.elRef=Wn(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:s,expandRows:i}=e,r=s===!0||n===!0;r&&!i&&(r=!1,n=null,s=null);let o=["fc-daygrid-body",r?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return P("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},P("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,P("tbody",{role:"presentation"},P(y1,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:s,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=S1(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),s=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;s.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function S1(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${GD(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${Nd(e.currentDate)}"]`)),n}class A1 extends XP{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class x1 extends ci{constructor(){super(...arguments),this.slicer=new A1,this.tableRef=Wn()}render(){let{props:e,context:n}=this;return P(E1,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class R1 extends r1{constructor(){super(...arguments),this.buildDayTableModel=ye(C1),this.headerRef=Wn(),this.tableRef=Wn()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:s}=this,i=this.buildDayTableModel(s.dateProfile,n),r=e.dayHeaders&&P(KP,{ref:this.headerRef,dateProfile:s.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),o=a=>P(x1,{ref:this.tableRef,dateProfile:s.dateProfile,dayTableModel:i,businessHours:s.businessHours,dateSelection:s.dateSelection,eventStore:s.eventStore,eventUiBases:s.eventUiBases,eventSelection:s.eventSelection,eventDrag:s.eventDrag,eventResize:s.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!s.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:s.forPrint});return e.dayMinWidth?this.renderHScrollLayout(r,o,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(r,o)}}function C1(t,e){let n=new JP(t.renderRange,e);return new QP(n,/year|month|week/.test(t.currentRangeUnit))}class T1 extends Ry{buildRenderRange(e,n,s){let i=super.buildRenderRange(e,n,s),{props:r}=this;return k1({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:r.fixedWeekCount,dateEnv:r.dateEnv})}}function k1(t){let{dateEnv:e,currentRange:n}=t,{start:s,end:i}=n,r;if(t.snapToWeek&&(s=e.startOfWeek(s),r=e.startOfWeek(i),r.valueOf()!==i.valueOf()&&(i=Pg(r,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(at(n.end,-1))),a=Math.ceil(ND(o,i));i=Pg(i,6-a)}return{start:s,end:i}}var D1=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';cy(D1);var O1=_s({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:R1,dateProfileGeneratorClass:T1},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});Xd.touchMouseIgnoreWait=500;let ju=0,Va=0,Bu=!1;class y_{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&P1(n)&&this.tryStart(n)){let s=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",s),this.initScrollWatch(s),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let s=this.createEventFromMouse(n);this.recordCoords(s),this.emitter.trigger("pointermove",s)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let s=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",s),this.initScrollWatch(s);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let s=this.createEventFromTouch(n);this.recordCoords(s),this.emitter.trigger("pointermove",s)},this.handleTouchEnd=n=>{if(this.isDragging){let s=n.target;s.removeEventListener("touchmove",this.handleTouchMove),s.removeEventListener("touchend",this.handleTouchEnd),s.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,M1()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let s=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:s,pageY:i,deltaX:s-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new Pl,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),I1()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),N1()}tryStart(e){let n=this.querySubjectEl(e),s=e.target;return n&&(!this.handleSelector||_t(s,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Bu=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?_t(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return ju||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Bu=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let s=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(s=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:s,deltaY:i}}createEventFromTouch(e,n){let s=e.touches,i,r,o=0,a=0;return s&&s.length?(i=s[0].pageX,r=s[0].pageY):(i=e.pageX,r=e.pageY),n?(this.origPageX=i,this.origPageY=r):(o=i-this.origPageX,a=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:o,deltaY:a}}}function P1(t){return t.button===0&&!t.ctrlKey}function M1(){ju+=1,setTimeout(()=>{ju-=1},Xd.touchMouseIgnoreWait)}function I1(){Va+=1,Va===1&&window.addEventListener("touchmove",__,{passive:!1})}function N1(){Va-=1,Va||window.removeEventListener("touchmove",__,{passive:!1})}function __(t){Bu&&t.preventDefault()}class L1{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,s){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=s-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let s=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(s,this.revertDuration):setTimeout(s,0)}doRevertAnimation(e,n){let s=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();s.style.transition="top "+n+"ms,left "+n+"ms",Dr(s,{left:i.left,top:i.top}),bD(s,()=>{s.style.transition="",e()})}cleanup(){this.mirrorEl&&(Pd(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Dr(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),Dr(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class w_ extends Qd{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class E_ extends w_{constructor(e,n){super(new UP(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return BP(this.scrollController.el)}}class j1 extends w_{constructor(e){super(new HP,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const lp=typeof performance=="function"?performance.now:Date.now;class B1{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=lp();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,s){this.isEnabled&&(this.scrollCaches=this.buildCaches(s),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let s=e-window.scrollX,i=n-window.scrollY,r=this.pointerScreenY===null?0:i-this.pointerScreenY,o=this.pointerScreenX===null?0:s-this.pointerScreenX;r<0?this.everMovedUp=!0:r>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=s,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(lp()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:s}=e,{edgeThreshold:i}=this,r=i-e.distance,o=r*r/(i*i)*this.maxVelocity*n,a=1;switch(e.name){case"left":a=-1;case"right":s.setScrollLeft(s.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":s.setScrollTop(s.getScrollTop()+o*a);break}}computeBestEdge(e,n){let{edgeThreshold:s}=this,i=null,r=this.scrollCaches||[];for(let o of r){let a=o.clientRect,l=e-a.left,c=a.right-e,u=n-a.top,d=a.bottom-n;l>=0&&c>=0&&u>=0&&d>=0&&(u<=s&&this.everMovedUp&&o.canScrollUp()&&(!i||i.distance>u)&&(i={scrollCache:o,name:"top",distance:u}),d<=s&&this.everMovedDown&&o.canScrollDown()&&(!i||i.distance>d)&&(i={scrollCache:o,name:"bottom",distance:d}),l<=s&&this.everMovedLeft&&o.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:o,name:"left",distance:l}),c<=s&&this.everMovedRight&&o.canScrollRight()&&(!i||i.distance>c)&&(i={scrollCache:o,name:"right",distance:c}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new j1(!1):new E_(n,!1))}queryScrollEls(e){let n=[];for(let s of this.scrollQuery)typeof s=="object"?n.push(s):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(s)));return n}}class _o extends VP{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,vD(document.body),_D(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let r=this.minDistance,o,{deltaX:a,deltaY:l}=i;o=a*a+l*l,o>=r*r&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,yD(document.body),wD(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let s=this.pointer=new y_(e);s.emitter.on("pointerdown",this.onPointerDown),s.emitter.on("pointermove",this.onPointerMove),s.emitter.on("pointerup",this.onPointerUp),n&&(s.selector=n),this.mirror=new L1,this.autoScroller=new B1}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class F1{constructor(e){this.el=e,this.origRect=Jd(e),this.scrollCaches=zy(e).map(n=>new E_(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let s={left:e,top:n};for(let i of this.scrollCaches)if(!U1(i.getEventTarget())&&!CP(s,i.clientRect))return!1;return!0}}function U1(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class Il{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=s=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(s),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",s)):i.setIgnoreMove(!0)},this.handleDragStart=s=>{this.emitter.trigger("dragstart",s),this.handleMove(s,!0)},this.handleDragMove=s=>{this.emitter.trigger("dragmove",s),this.handleMove(s)},this.handlePointerUp=s=>{this.releaseHits(),this.emitter.trigger("pointerup",s)},this.handleDragEnd=s=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,s),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",s)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Pl}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},s=n,i=e.subjectEl,r;i instanceof HTMLElement&&(r=Jd(i),s=TP(s,r));let o=this.initialHit=this.queryHitForOffset(s.left,s.top);if(o){if(this.useSubjectCenter&&r){let a=$y(r,o.rect);a&&(s=kP(a))}this.coordAdjust=DP(s,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let s=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Nl(this.movingHit,s))&&(this.movingHit=s,this.emitter.trigger("hitupdate",s,!1,e))}prepareHits(){this.offsetTrackers=oi(this.droppableStore,e=>(e.component.prepareHits(),new F1(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:s,offsetTrackers:i}=this,r=null;for(let o in s){let a=s[o].component,l=i[o];if(l&&l.isWithinClipping(e,n)){let c=l.computeLeft(),u=l.computeTop(),d=e-c,h=n-u,{origRect:f}=l,g=f.right-f.left,p=f.bottom-f.top;if(d>=0&&d<g&&h>=0&&h<p){let m=a.queryHit(d,h,g,p);m&&Dl(m.dateProfile.activeRange,m.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(d+c-window.scrollX,h+u-window.scrollY)))&&(!r||m.layer>r.layer)&&(m.componentId=o,m.context=a.context,m.rect.left+=c,m.rect.right+=c,m.rect.top+=u,m.rect.bottom+=u,r=m)}}}return r}}function Nl(t,e){return!t&&!e?!0:!!t!=!!e?!1:mP(t.dateSpan,e.dateSpan)}function S_(t,e){let n={};for(let s of e.pluginHooks.datePointTransforms)Object.assign(n,s(t,e));return Object.assign(n,H1(t,e.dateEnv)),n}function H1(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class $1 extends tr{constructor(e){super(e),this.handlePointerDown=s=>{let{dragging:i}=this,r=s.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(r))},this.handleDragEnd=s=>{let{component:i}=this,{pointer:r}=this.dragging;if(!r.wasTouchScroll){let{initialHit:o,finalHit:a}=this.hitDragging;if(o&&a&&Nl(o,a)){let{context:l}=i,c=Object.assign(Object.assign({},S_(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:s.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new _o(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Il(this.dragging,Kd(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class V1 extends tr{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:a,dragging:l}=this,{options:c}=a.context,u=c.selectable&&a.isValidDateDownEl(o.origEvent.target);l.setIgnoreMove(!u),l.delay=o.isTouch?W1(a):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,a)=>{let{context:l}=this.component,c=null,u=!1;if(o){let d=this.hitDragging.initialHit;o.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,o)||(c=z1(d,o,l.pluginHooks.dateSelectionTransformers)),(!c||!ZP(c,o.dateProfile,l))&&(u=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):a||l.dispatch({type:"UNSELECT_DATES"}),u?Md():Id(),a||(this.dragSelection=c)},this.handlePointerUp=o=>{this.dragSelection&&(Iy(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:s}=n.context,i=this.dragging=new _o(e.el);i.touchScrollAllowed=!1,i.minDistance=s.selectMinDistance||0,i.autoScroller.isEnabled=s.dragScroll;let r=this.hitDragging=new Il(this.dragging,Kd(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function W1(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function z1(t,e,n){let s=t.dateSpan,i=e.dateSpan,r=[s.range.start,s.range.end,i.range.start,i.range.end];r.sort(RD);let o={};for(let a of n){let l=a(t,e);if(l===!1)return null;l&&Object.assign(o,l)}return o.range={start:r[0],end:r[3]},o.allDay=s.allDay,o}class wo extends tr{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let a=o.origEvent.target,{component:l,dragging:c}=this,{mirror:u}=c,{options:d}=l.context,h=l.context;this.subjectEl=o.subjectEl;let f=this.subjectSeg=qi(o.subjectEl),p=(this.eventRange=f.eventRange).instance.instanceId;this.relevantEvents=Wd(h.getCurrentData().eventStore,p),c.minDistance=o.isTouch?0:d.eventDragMinDistance,c.delay=o.isTouch&&p!==l.props.eventSelection?G1(l):null,d.fixedMirrorParent?u.parentNode=d.fixedMirrorParent:u.parentNode=_t(a,".fc"),u.revertDuration=d.dragRevertDuration;let m=l.isValidSegDownEl(a)&&!_t(a,".fc-event-resizer");c.setIgnoreMove(!m),this.isDragging=m&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let a=this.component.context,l=this.eventRange,c=l.instance.instanceId;o.isTouch?c!==this.component.props.eventSelection&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):a.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(a.calendarApi.unselect(o),a.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Ue(a,l.def,l.instance),jsEvent:o.origEvent,view:a.viewApi}))},this.handleHitUpdate=(o,a)=>{if(!this.isDragging)return;let l=this.relevantEvents,c=this.hitDragging.initialHit,u=this.component.context,d=null,h=null,f=null,g=!1,p={affectedEvents:l,mutatedEvents:rn(),isEvent:!0};if(o){d=o.context;let m=d.options;u===d||m.editable&&m.droppable?(h=q1(c,o,this.eventRange.instance.range.start,d.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(f=Gd(l,d.getCurrentData().eventUiBases,h,d),p.mutatedEvents=f,Yy(p,o.dateProfile,d)||(g=!0,h=null,f=null,p.mutatedEvents=rn()))):d=null}this.displayDrag(d,p),g?Md():Id(),a||(u===d&&Nl(c,o)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=d,this.validMutation=h,this.mutatedRelevantEvents=f)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let a=this.component.context,l=a.viewApi,{receivingContext:c,validMutation:u}=this,d=this.eventRange.def,h=this.eventRange.instance,f=new Ue(a,d,h),g=this.relevantEvents,p=this.mutatedRelevantEvents,{finalHit:m}=this.hitDragging;if(this.clearDrag(),a.emitter.trigger("eventDragStop",{el:this.subjectEl,event:f,jsEvent:o.origEvent,view:l}),u){if(c===a){let b=new Ue(a,p.defs[d.defId],h?p.instances[h.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:p});let v={oldEvent:f,event:b,relatedEvents:Ys(p,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:g})}},y={};for(let _ of a.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(y,_(u,a));a.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},v),y),{el:o.subjectEl,delta:u.datesDelta,jsEvent:o.origEvent,view:l})),a.emitter.trigger("eventChange",v)}else if(c){let b={event:f,relatedEvents:Ys(g,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:g})}};a.emitter.trigger("eventLeave",Object.assign(Object.assign({},b),{draggedEl:o.subjectEl,view:l})),a.dispatch({type:"REMOVE_EVENTS",eventStore:g}),a.emitter.trigger("eventRemove",b);let v=p.defs[d.defId],y=p.instances[h.instanceId],_=new Ue(c,v,y);c.dispatch({type:"MERGE_EVENTS",eventStore:p});let S={event:_,relatedEvents:Ys(p,c,y),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:p})}};c.emitter.trigger("eventAdd",S),o.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},S_(m.dateSpan,c)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:m.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},S),{draggedEl:o.subjectEl,view:m.context.viewApi}))}}else a.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:s}=n.context,i=this.dragging=new _o(e.el);i.pointer.selector=wo.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=s.dragScroll;let r=this.hitDragging=new Il(this.dragging,Iu);r.useSubjectCenter=e.useEventCenter,r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let s=this.component.context,i=this.receivingContext;i&&i!==e&&(i===s?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:rn(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}wo.SELECTOR=".fc-event-draggable, .fc-event-resizable";function q1(t,e,n,s){let i=t.dateSpan,r=e.dateSpan,o=i.range.start,a=r.range.start,l={};i.allDay!==r.allDay&&(l.allDay=r.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,r.allDay?o=Fe(n):o=n);let c=Ti(o,a,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);c.milliseconds&&(l.allDay=!1);let u={datesDelta:c,standardProps:l};for(let d of s)d(u,t,e);return u}function G1(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class K1 extends tr{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=r=>{let{component:o}=this,a=this.querySegEl(r),l=qi(a),c=this.eventRange=l.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(r.origEvent.target)||r.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=r=>{let{context:o}=this.component,a=this.eventRange;this.relevantEvents=Wd(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(r);this.draggingSegEl=l,this.draggingSeg=qi(l),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:l,event:new Ue(o,a.def,a.instance),jsEvent:r.origEvent,view:o.viewApi})},this.handleHitUpdate=(r,o,a)=>{let{context:l}=this.component,c=this.relevantEvents,u=this.hitDragging.initialHit,d=this.eventRange.instance,h=null,f=null,g=!1,p={affectedEvents:c,mutatedEvents:rn(),isEvent:!0};r&&(r.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,r)||(h=Y1(u,r,a.subjectEl.classList.contains("fc-event-resizer-start"),d.range))),h&&(f=Gd(c,l.getCurrentData().eventUiBases,h,l),p.mutatedEvents=f,Yy(p,r.dateProfile,l)||(g=!0,h=null,f=null,p.mutatedEvents=null)),f?l.dispatch({type:"SET_EVENT_RESIZE",state:p}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),g?Md():Id(),o||(h&&Nl(u,r)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=f)},this.handleDragEnd=r=>{let{context:o}=this.component,a=this.eventRange.def,l=this.eventRange.instance,c=new Ue(o,a,l),u=this.relevantEvents,d=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:r.origEvent,view:o.viewApi}),this.validMutation){let h=new Ue(o,d.defs[a.defId],l?d.instances[l.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:d});let f={oldEvent:c,event:h,relatedEvents:Ys(d,o,l),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:u})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},f),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||we(0),endDelta:this.validMutation.endDelta||we(0),jsEvent:r.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",f)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,s=this.dragging=new _o(e.el);s.pointer.selector=".fc-event-resizer",s.touchScrollAllowed=!1,s.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new Il(this.dragging,Kd(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return _t(e.subjectEl,".fc-event")}}function Y1(t,e,n,s){let i=t.context.dateEnv,r=t.dateSpan.range.start,o=e.dateSpan.range.start,a=Ti(r,o,i,t.largeUnit);if(n){if(i.add(s.start,a)<s.end)return{startDelta:a}}else if(i.add(s.end,a)>s.start)return{endDelta:a};return null}class J1{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=s=>{s.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=s=>{let i=this.context.options.unselectCancel,r=fy(s.origEvent);this.matchesCancel=!!_t(r,i),this.matchesEvent=!!_t(r,wo.SELECTOR)},this.onDocumentPointerUp=s=>{let{context:i}=this,{documentPointer:r}=this,o=i.getCurrentData();if(!r.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let a=i.options.unselectAuto;a&&(!a||!this.matchesCancel)&&i.calendarApi.unselect(s)}o.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new y_(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Q1={fixedMirrorParent:D},X1={dateClick:D,eventDragStart:D,eventDragStop:D,eventDrop:D,eventResizeStart:D,eventResizeStop:D,eventResize:D,drop:D,eventReceive:D,eventLeave:D};Xd.dataAttrPrefix="";var Z1=_s({name:"@fullcalendar/interaction",componentInteractions:[$1,V1,wo,K1],calendarInteractions:[J1],elementDraggingImpl:_o,optionRefiners:Q1,listenerRefiners:X1});const eN={class:"modal fade",id:"calendarModal",tabindex:"-1","aria-labelledby":"calendarModalLabel","aria-hidden":"true"},tN={class:"modal-dialog"},nN={class:"modal-content"},sN={class:"modal-header"},iN={class:"modal-title",id:"calendarModalLabel"},rN={class:"modal-body"},oN={class:"mb-3"},aN={class:"mb-3"},lN={class:"mb-3"},cN={class:"mb-3"},uN=["value"],dN={class:"modal-footer"},hN={__name:"Calendarevent",setup(t){const e=ue([]),n=[{label:"",value:"work"},{label:"",value:"personal"},{label:"",value:"family"},{label:"",value:"other"}],s=ue({id:null,title:"",description:"",event_date:"",category:""});let i=null;const r=async()=>{const d={work:"#0d6efd",personal:"#198754",family:"#fd7e14",other:"#6c757d"};try{const h=await Pt.get("/calendar");e.value=h.data.map(f=>({id:f.id,title:f.title,start:f.event_date,allDay:!0,backgroundColor:d[f.category]||"#6c757d",borderColor:d[f.category]||"#6c757d",extendedProps:{description:f.description,category:f.category}}))}catch(h){console.error("",h),alert("")}},o=d=>{i&&(s.value={id:null,title:"",description:"",event_date:d.dateStr,category:""},i.show())},a=d=>{i&&(s.value={id:d.event.id,title:d.event.title,description:d.event.extendedProps.description||"",event_date:d.event.startStr,category:d.event.extendedProps.category||"other"},i.show())},l=async()=>{if(!s.value.title||!s.value.event_date){alert("");return}s.value.category||(s.value.category="other");try{s.value.id?await Pt.put(`/calendar/${s.value.id}`,s.value):await Pt.post("/calendar",s.value),i.hide(),await r()}catch(d){console.error("",d),alert("")}},c=async()=>{if(s.value.id&&confirm(""))try{await Pt.delete(`/calendar/${s.value.id}`),i.hide(),await r()}catch(d){console.error("",d),alert("")}},u=Ve(()=>({plugins:[O1,Z1],initialView:"dayGridMonth",events:e.value,dateClick:o,eventClick:a,eventDidMount(d){d.el.title=" / "}}));return Ji(()=>{r();const d=document.getElementById("calendarModal");d&&(i=new window.bootstrap.Modal(d,{backdrop:!0,focus:!0}))}),(d,h)=>(he(),be(bt,null,[ge(Jt(ZI),{options:u.value},null,8,["options"]),C("div",eN,[C("div",tN,[C("div",nN,[C("div",sN,[C("h5",iN,je(s.value.id?"":""),1),C("button",{type:"button",class:"btn-close",onClick:h[0]||(h[0]=f=>Jt(i).hide())})]),C("div",rN,[C("div",oN,[h[6]||(h[6]=C("label",{class:"form-label"},"",-1)),Wt(C("input",{class:"form-control","onUpdate:modelValue":h[1]||(h[1]=f=>s.value.title=f)},null,512),[[wn,s.value.title]])]),C("div",aN,[h[7]||(h[7]=C("label",{class:"form-label"},"",-1)),Wt(C("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":h[2]||(h[2]=f=>s.value.description=f)},null,512),[[wn,s.value.description]])]),C("div",lN,[h[8]||(h[8]=C("label",{class:"form-label"},"",-1)),Wt(C("input",{type:"date",class:"form-control","onUpdate:modelValue":h[3]||(h[3]=f=>s.value.event_date=f)},null,512),[[wn,s.value.event_date]])]),C("div",cN,[h[10]||(h[10]=C("label",{class:"form-label"},"",-1)),Wt(C("select",{class:"form-select","onUpdate:modelValue":h[4]||(h[4]=f=>s.value.category=f)},[h[9]||(h[9]=C("option",{disabled:"",value:""},"",-1)),(he(),be(bt,null,ya(n,f=>C("option",{key:f.value,value:f.value},je(f.label),9,uN)),64))],512),[[pd,s.value.category]])])]),C("div",dN,[C("button",{class:"btn btn-primary",onClick:l},""),s.value.id?(he(),be("button",{key:0,class:"btn btn-danger",onClick:c},"")):Gt("",!0),C("button",{class:"btn btn-secondary",onClick:h[5]||(h[5]=f=>Jt(i).hide())},"")])])])])],64))}},fN=ys(hN,[["__scopeId","data-v-e63282c5"]]);function Eo(t){return t+.5|0}const os=(t,e,n)=>Math.max(Math.min(t,n),e);function gr(t){return os(Eo(t*2.55),0,255)}function fs(t){return os(Eo(t*255),0,255)}function Mn(t){return os(Eo(t/2.55)/100,0,1)}function cp(t){return os(Eo(t*100),0,100)}const Yt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fu=[..."0123456789ABCDEF"],gN=t=>Fu[t&15],pN=t=>Fu[(t&240)>>4]+Fu[t&15],Uo=t=>(t&240)>>4===(t&15),mN=t=>Uo(t.r)&&Uo(t.g)&&Uo(t.b)&&Uo(t.a);function bN(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Yt[t[1]]*17,g:255&Yt[t[2]]*17,b:255&Yt[t[3]]*17,a:e===5?Yt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Yt[t[1]]<<4|Yt[t[2]],g:Yt[t[3]]<<4|Yt[t[4]],b:Yt[t[5]]<<4|Yt[t[6]],a:e===9?Yt[t[7]]<<4|Yt[t[8]]:255})),n}const vN=(t,e)=>t<255?e(t):"";function yN(t){var e=mN(t)?gN:pN;return t?"#"+e(t.r)+e(t.g)+e(t.b)+vN(t.a,e):void 0}const _N=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function A_(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function wN(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function EN(t,e,n){const s=A_(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function SN(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function th(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=SN(n,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function nh(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(fs)}function sh(t,e,n){return nh(A_,t,e,n)}function AN(t,e,n){return nh(EN,t,e,n)}function xN(t,e,n){return nh(wN,t,e,n)}function x_(t){return(t%360+360)%360}function RN(t){const e=_N.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?gr(+e[5]):fs(+e[5]));const i=x_(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=AN(i,r,o):e[1]==="hsv"?s=xN(i,r,o):s=sh(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function CN(t,e){var n=th(t);n[0]=x_(n[0]+e),n=sh(n),t.r=n[0],t.g=n[1],t.b=n[2]}function TN(t){if(!t)return;const e=th(t),n=e[0],s=cp(e[1]),i=cp(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${Mn(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const up={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},dp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function kN(){const t={},e=Object.keys(dp),n=Object.keys(up);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,up[r]);r=parseInt(dp[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Ho;function DN(t){Ho||(Ho=kN(),Ho.transparent=[0,0,0,0]);const e=Ho[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const ON=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function PN(t){const e=ON.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?gr(o):os(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?gr(s):os(s,0,255)),i=255&(e[4]?gr(i):os(i,0,255)),r=255&(e[6]?gr(r):os(r,0,255)),{r:s,g:i,b:r,a:n}}}function MN(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Mn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Nc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,yi=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function IN(t,e,n){const s=yi(Mn(t.r)),i=yi(Mn(t.g)),r=yi(Mn(t.b));return{r:fs(Nc(s+n*(yi(Mn(e.r))-s))),g:fs(Nc(i+n*(yi(Mn(e.g))-i))),b:fs(Nc(r+n*(yi(Mn(e.b))-r))),a:t.a+n*(e.a-t.a)}}function $o(t,e,n){if(t){let s=th(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=sh(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function R_(t,e){return t&&Object.assign(e||{},t)}function hp(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=fs(t[3]))):(e=R_(t,{r:0,g:0,b:0,a:1}),e.a=fs(e.a)),e}function NN(t){return t.charAt(0)==="r"?PN(t):RN(t)}class to{constructor(e){if(e instanceof to)return e;const n=typeof e;let s;n==="object"?s=hp(e):n==="string"&&(s=bN(e)||DN(e)||NN(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=R_(this._rgb);return e&&(e.a=Mn(e.a)),e}set rgb(e){this._rgb=hp(e)}rgbString(){return this._valid?MN(this._rgb):void 0}hexString(){return this._valid?yN(this._rgb):void 0}hslString(){return this._valid?TN(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=IN(this._rgb,e._rgb,n)),this}clone(){return new to(this.rgb)}alpha(e){return this._rgb.a=fs(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Eo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return $o(this._rgb,2,e),this}darken(e){return $o(this._rgb,2,-e),this}saturate(e){return $o(this._rgb,1,e),this}desaturate(e){return $o(this._rgb,1,-e),this}rotate(e){return CN(this._rgb,e),this}}function Tn(){}const LN=(()=>{let t=0;return()=>t++})();function de(t){return t==null}function Be(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function fe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ke(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ft(t,e){return Ke(t)?t:e}function re(t,e){return typeof t>"u"?e:t}const jN=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,C_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ie(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ce(t,e,n,s){let i,r,o;if(Be(t))for(r=t.length,i=0;i<r;i++)e.call(n,t[i],i);else if(fe(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function Wa(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function za(t){if(Be(t))return t.map(za);if(fe(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=za(t[n[i]]);return e}return t}function T_(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function BN(t,e,n,s){if(!T_(t))return;const i=e[t],r=n[t];fe(i)&&fe(r)?no(i,r,s):e[t]=za(r)}function no(t,e,n){const s=Be(e)?e:[e],i=s.length;if(!fe(t))return t;n=n||{};const r=n.merger||BN;let o;for(let a=0;a<i;++a){if(o=s[a],!fe(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,n)}return t}function Nr(t,e){return no(t,e,{merger:FN})}function FN(t,e,n){if(!T_(t))return;const s=e[t],i=n[t];fe(s)&&fe(i)?Nr(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=za(i))}const fp={"":t=>t,x:t=>t.x,y:t=>t.y};function UN(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function HN(t){const e=UN(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function bs(t,e){return(fp[e]||(fp[e]=HN(e)))(t)}function ih(t){return t.charAt(0).toUpperCase()+t.slice(1)}const so=t=>typeof t<"u",vs=t=>typeof t=="function",gp=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function $N(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const _e=Math.PI,Ne=2*_e,VN=Ne+_e,qa=Number.POSITIVE_INFINITY,WN=_e/180,Je=_e/2,Ts=_e/4,pp=_e*2/3,as=Math.log10,En=Math.sign;function Lr(t,e,n){return Math.abs(t-e)<n}function mp(t){const e=Math.round(t);t=Lr(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(as(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function zN(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function qN(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Gi(t){return!qN(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function GN(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function k_(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function nn(t){return t*(_e/180)}function rh(t){return t*(180/_e)}function bp(t){if(!Ke(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function D_(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*_e&&(r+=Ne),{angle:r,distance:i}}function Uu(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function KN(t,e){return(t-e+VN)%Ne-_e}function pt(t){return(t%Ne+Ne)%Ne}function io(t,e,n,s){const i=pt(t),r=pt(e),o=pt(n),a=pt(r-i),l=pt(o-i),c=pt(i-r),u=pt(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function ot(t,e,n){return Math.max(e,Math.min(n,t))}function YN(t){return ot(t,-32768,32767)}function Ln(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function oh(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const jn=(t,e,n,s)=>oh(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),JN=(t,e,n)=>oh(t,n,s=>t[s][e]>=n);function QN(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const O_=["push","pop","shift","splice","unshift"];function XN(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),O_.forEach(n=>{const s="_onData"+ih(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function vp(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(O_.forEach(r=>{delete t[r]}),delete t._chartjs)}function P_(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const M_=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function I_(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,M_.call(window,()=>{s=!1,t.apply(e,n)}))}}function ZN(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const ah=t=>t==="start"?"left":t==="end"?"right":"center",ft=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,eL=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function N_(t,e,n){const s=e.length;let i=0,r=s;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:d,max:h,minDefined:f,maxDefined:g}=o.getUserBounds();if(f){if(i=Math.min(jn(l,u,d).lo,n?s:jn(e,u,o.getPixelForValue(d)).lo),c){const p=l.slice(0,i+1).reverse().findIndex(m=>!de(m[a.axis]));i-=Math.max(0,p)}i=ot(i,0,s-1)}if(g){let p=Math.max(jn(l,o.axis,h,!0).hi+1,n?0:jn(e,u,o.getPixelForValue(h),!0).hi+1);if(c){const m=l.slice(p-1).findIndex(b=>!de(b[a.axis]));p+=Math.max(0,m)}r=ot(p,i,s)-i}else r=s-i}return{start:i,count:r}}function L_(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const Vo=t=>t===0||t===1,yp=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ne/n)),_p=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ne/n)+1,jr={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Je)+1,easeOutSine:t=>Math.sin(t*Je),easeInOutSine:t=>-.5*(Math.cos(_e*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Vo(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Vo(t)?t:yp(t,.075,.3),easeOutElastic:t=>Vo(t)?t:_p(t,.075,.3),easeInOutElastic(t){return Vo(t)?t:t<.5?.5*yp(t*2,.1125,.45):.5+.5*_p(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-jr.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?jr.easeInBounce(t*2)*.5:jr.easeOutBounce(t*2-1)*.5+.5};function lh(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function wp(t){return lh(t)?t:new to(t)}function Lc(t){return lh(t)?t:new to(t).saturate(.5).darken(.1).hexString()}const tL=["x","y","borderWidth","radius","tension"],nL=["color","borderColor","backgroundColor"];function sL(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:nL},numbers:{type:"number",properties:tL}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function iL(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ep=new Map;function rL(t,e){e=e||{};const n=t+JSON.stringify(e);let s=Ep.get(n);return s||(s=new Intl.NumberFormat(t,e),Ep.set(n,s)),s}function So(t,e,n){return rL(e,n).format(t)}const j_={values(t){return Be(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=oL(t,n)}const o=as(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),So(t,s,l)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(as(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?j_.numeric.call(this,t,e,n):""}};function oL(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ll={formatters:j_};function aL(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ll.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ni=Object.create(null),Hu=Object.create(null);function Br(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function jc(t,e,n){return typeof e=="string"?no(Br(t,e),n):no(Br(t,""),e)}class lL{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Lc(i.backgroundColor),this.hoverBorderColor=(s,i)=>Lc(i.borderColor),this.hoverColor=(s,i)=>Lc(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return jc(this,e,n)}get(e){return Br(this,e)}describe(e,n){return jc(Hu,e,n)}override(e,n){return jc(ni,e,n)}route(e,n,s,i){const r=Br(this,e),o=Br(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return fe(l)?Object.assign({},c,l):re(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var He=new lL({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[sL,iL,aL]);function cL(t){return!t||de(t.size)||de(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ga(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function uL(t,e,n,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(i=s.data={},r=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,d,h;for(l=0;l<a;l++)if(d=n[l],d!=null&&!Be(d))o=Ga(t,i,r,o,d);else if(Be(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!Be(h)&&(o=Ga(t,i,r,o,h));t.restore();const f=r.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[r[l]];r.splice(0,f)}return o}function ks(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function Sp(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function $u(t,e,n,s){B_(t,e,n,s,null)}function B_(t,e,n,s,i){let r,o,a,l,c,u,d,h;const f=e.pointStyle,g=e.rotation,p=e.radius;let m=(g||0)*WN;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,s,i/2,p,0,0,Ne):t.arc(n,s,p,0,Ne),t.closePath();break;case"triangle":u=i?i/2:p,t.moveTo(n+Math.sin(m)*u,s-Math.cos(m)*p),m+=pp,t.lineTo(n+Math.sin(m)*u,s-Math.cos(m)*p),m+=pp,t.lineTo(n+Math.sin(m)*u,s-Math.cos(m)*p),t.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(m+Ts)*l,d=Math.cos(m+Ts)*(i?i/2-c:l),a=Math.sin(m+Ts)*l,h=Math.sin(m+Ts)*(i?i/2-c:l),t.arc(n-d,s-a,c,m-_e,m-Je),t.arc(n+h,s-o,c,m-Je,m),t.arc(n+d,s+a,c,m,m+Je),t.arc(n-h,s+o,c,m+Je,m+_e),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,u=i?i/2:l,t.rect(n-u,s-l,2*u,2*l);break}m+=Ts;case"rectRot":d=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,h=Math.sin(m)*(i?i/2:p),t.moveTo(n-d,s-a),t.lineTo(n+h,s-o),t.lineTo(n+d,s+a),t.lineTo(n-h,s+o),t.closePath();break;case"crossRot":m+=Ts;case"cross":d=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,h=Math.sin(m)*(i?i/2:p),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o);break;case"star":d=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,h=Math.sin(m)*(i?i/2:p),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o),m+=Ts,d=Math.cos(m)*(i?i/2:p),o=Math.cos(m)*p,a=Math.sin(m)*p,h=Math.sin(m)*(i?i/2:p),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o);break;case"line":o=i?i/2:Math.cos(m)*p,a=Math.sin(m)*p,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(m)*(i?i/2:p),s+Math.sin(m)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Bn(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function jl(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Bl(t){t.restore()}function dL(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function hL(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function fL(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),de(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function gL(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function pL(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function si(t,e,n,s,i,r={}){const o=Be(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,fL(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&pL(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),de(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,s,r.maxWidth)),t.fillText(c,n,s,r.maxWidth),gL(t,n,s,c,r),s+=Number(i.lineHeight);t.restore()}function ro(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*_e,_e,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,_e,Je,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,Je,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-Je,!0),t.lineTo(n+o.topLeft,s)}const mL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function vL(t,e){const n=(""+t).match(mL);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const yL=t=>+t||0;function ch(t,e){const n={},s=fe(e),i=s?Object.keys(e):e,r=fe(t)?s?o=>re(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=yL(r(o));return n}function F_(t){return ch(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Js(t){return ch(t,["topLeft","topRight","bottomLeft","bottomRight"])}function St(t){const e=F_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function it(t,e){t=t||{},e=e||He.font;let n=re(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=re(t.style,e.style);s&&!(""+s).match(bL)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:re(t.family,e.family),lineHeight:vL(re(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:re(t.weight,e.weight),string:""};return i.string=cL(i),i}function pr(t,e,n,s){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function _L(t,e,n){const{min:s,max:i}=t,r=C_(e,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function Es(t,e){return Object.assign(Object.create(t),e)}function uh(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=V_("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>uh([a,...t],e,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return H_(a,l,()=>TL(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return xp(a).includes(l)},ownKeys(a){return xp(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Ki(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:U_(t,s),setContext:r=>Ki(t,r,n,s),override:r=>Ki(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return H_(r,o,()=>EL(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function U_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:vs(n)?n:()=>n,isIndexable:vs(s)?s:()=>s}}const wL=(t,e)=>t?t+ih(e):e,dh=(t,e)=>fe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function H_(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function EL(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return vs(a)&&o.isScriptable(e)&&(a=SL(e,a,t,n)),Be(a)&&a.length&&(a=AL(e,a,t,o.isIndexable)),dh(e,a)&&(a=Ki(a,i,r&&r[e],o)),a}function SL(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||s);return a.delete(t),dh(t,l)&&(l=hh(i._scopes,i,t,l)),l}function AL(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(fe(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=hh(c,i,t,u);e.push(Ki(d,r,o&&o[t],a))}}return e}function $_(t,e,n){return vs(t)?t(e,n):t}const xL=(t,e)=>t===!0?e:typeof t=="string"?bs(e,t):void 0;function RL(t,e,n,s,i){for(const r of e){const o=xL(n,r);if(o){t.add(o);const a=$_(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function hh(t,e,n,s){const i=e._rootScopes,r=$_(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let l=Ap(a,o,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=Ap(a,o,r,l,s),l===null)?!1:uh(Array.from(a),[""],i,r,()=>CL(e,n,s))}function Ap(t,e,n,s,i){for(;n;)n=RL(t,e,n,s,i);return n}function CL(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return Be(i)&&fe(n)?n:i||{}}function TL(t,e,n,s){let i;for(const r of e)if(i=V_(wL(r,t),n),typeof i<"u")return dh(t,i)?hh(n,s,t,i):i}function V_(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function xp(t){let e=t._keys;return e||(e=t._keys=kL(t._scopes)),e}function kL(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function W_(t,e,n,s){const{iScale:i}=t,{key:r="r"}=this._parsing,o=new Array(s);let a,l,c,u;for(a=0,l=s;a<l;++a)c=a+n,u=e[c],o[a]={r:i.parse(bs(u,r),c)};return o}const DL=Number.EPSILON||1e-14,Yi=(t,e)=>e<t.length&&!t[e].skip&&t[e],z_=t=>t==="x"?"y":"x";function OL(t,e,n,s){const i=t.skip?e:t,r=e,o=n.skip?e:n,a=Uu(r,i),l=Uu(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=s*c,h=s*u;return{previous:{x:r.x-d*(o.x-i.x),y:r.y-d*(o.y-i.y)},next:{x:r.x+h*(o.x-i.x),y:r.y+h*(o.y-i.y)}}}function PL(t,e,n){const s=t.length;let i,r,o,a,l,c=Yi(t,0);for(let u=0;u<s-1;++u)if(l=c,c=Yi(t,u+1),!(!l||!c)){if(Lr(e[u],0,DL)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=r*o*e[u])}}function ML(t,e,n="x"){const s=z_(n),i=t.length;let r,o,a,l=Yi(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Yi(t,c+1),!a)continue;const u=a[n],d=a[s];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${s}`]=d-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${s}`]=d+r*e[c])}}function IL(t,e="x"){const n=z_(e),s=t.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=Yi(t,0);for(o=0;o<s;++o)if(a=l,l=c,c=Yi(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?En(i[o-1])!==En(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}PL(t,i,r),ML(t,r,e)}function Wo(t,e,n){return Math.max(Math.min(t,n),e)}function NL(t,e){let n,s,i,r,o,a=Bn(t[0],e);for(n=0,s=t.length;n<s;++n)o=r,r=a,a=n<s-1&&Bn(t[n+1],e),r&&(i=t[n],o&&(i.cp1x=Wo(i.cp1x,e.left,e.right),i.cp1y=Wo(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Wo(i.cp2x,e.left,e.right),i.cp2y=Wo(i.cp2y,e.top,e.bottom)))}function LL(t,e,n,s,i){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")IL(t,i);else{let c=s?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=OL(c,a,t[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&NL(t,n)}function fh(){return typeof window<"u"&&typeof document<"u"}function gh(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ka(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Fl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function jL(t,e){return Fl(t).getPropertyValue(e)}const BL=["top","right","bottom","left"];function Qs(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=BL[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const FL=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function UL(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(FL(i,r,t.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Ls(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=Fl(n),r=i.boxSizing==="border-box",o=Qs(i,"padding"),a=Qs(i,"border","width"),{x:l,y:c,box:u}=UL(t,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:g}=e;return r&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-d)/f*n.width/s),y:Math.round((c-h)/g*n.height/s)}}function HL(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&gh(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=Fl(r),l=Qs(a,"border","width"),c=Qs(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,s=Ka(a.maxWidth,r,"clientWidth"),i=Ka(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||qa,maxHeight:i||qa}}const ls=t=>Math.round(t*10)/10;function $L(t,e,n,s){const i=Fl(t),r=Qs(i,"margin"),o=Ka(i.maxWidth,t,"clientWidth")||qa,a=Ka(i.maxHeight,t,"clientHeight")||qa,l=HL(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=Qs(i,"border","width"),f=Qs(i,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?c/s:u-r.height),c=ls(Math.min(c,o,l.maxWidth)),u=ls(Math.min(u,a,l.maxHeight)),c&&!u&&(u=ls(c/2)),(e!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=ls(Math.floor(u*s))),{width:c,height:u}}function Rp(t,e,n){const s=e||1,i=ls(t.height*s),r=ls(t.width*s);t.height=ls(t.height),t.width=ls(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const VL=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};fh()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function Cp(t,e){const n=jL(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function js(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function WL(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function zL(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=js(t,i,n),a=js(i,r,n),l=js(r,e,n),c=js(o,a,n),u=js(a,l,n);return js(c,u,n)}const qL=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},GL=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Bi(t,e,n){return t?qL(e,n):GL()}function q_(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function G_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function K_(t){return t==="angle"?{between:io,compare:KN,normalize:pt}:{between:Ln,compare:(e,n)=>e-n,normalize:e=>e}}function Tp({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function KL(t,e,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=K_(s),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(e[c%l][s]),i,r);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function Y_(t,e,n){if(!n)return[t];const{property:s,start:i,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=K_(s),{start:u,end:d,loop:h,style:f}=KL(t,e,n),g=[];let p=!1,m=null,b,v,y;const _=()=>l(i,y,b)&&a(i,y)!==0,S=()=>a(r,b)===0||l(r,y,b),T=()=>p||_(),x=()=>!p||S();for(let A=u,k=u;A<=d;++A)v=e[A%o],!v.skip&&(b=c(v[s]),b!==y&&(p=l(b,i,r),m===null&&T()&&(m=a(b,i)===0?A:k),m!==null&&x()&&(g.push(Tp({start:m,end:A,loop:h,count:o,style:f})),m=null),k=A,y=b));return m!==null&&g.push(Tp({start:m,end:d,loop:h,count:o,style:f})),g}function J_(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const r=Y_(s[i],t.points,e);r.length&&n.push(...r)}return n}function YL(t,e,n,s){let i=0,r=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function JL(t,e,n,s){const i=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:e%i,end:(l-1)%i,loop:s}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function QL(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=YL(n,i,r,s);if(s===!0)return kp(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return kp(t,JL(n,o,l,c),n,e)}function kp(t,e,n,s){return!s||!s.setContext||!n?e:XL(t,e,n,s)}function XL(t,e,n,s){const i=t._chart.getContext(),r=Dp(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,d=e[0].start,h=d;function f(g,p,m,b){const v=a?-1:1;if(g!==p){for(g+=l;n[g%l].skip;)g-=v;for(;n[p%l].skip;)p+=v;g%l!==p%l&&(c.push({start:g%l,end:p%l,loop:m,style:b}),u=b,d=p%l)}}for(const g of e){d=a?d:g.start;let p=n[d%l],m;for(h=d+1;h<=g.end;h++){const b=n[h%l];m=Dp(s.setContext(Es(i,{type:"segment",p0:p,p1:b,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),ZL(m,u)&&f(d,h-1,g.loop,u),p=b,u=m}d<h-1&&f(d,h-1,g.loop,u)}return c}function Dp(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function ZL(t,e){if(!e)return!1;const n=[],s=function(i,r){return lh(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function zo(t,e,n){return t.options.clip?t[n]:e[n]}function ej(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:zo(n,e,"left"),right:zo(n,e,"right"),top:zo(s,e,"top"),bottom:zo(s,e,"bottom")}:e}function Q_(t,e){const n=e._clip;if(n.disabled)return!1;const s=ej(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}class tj{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=M_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var kn=new tj;const Op="transparent",nj={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=wp(t||Op),i=s.valid&&wp(e||Op);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class sj{constructor(e,n,s,i){const r=n[s];i=pr([e.to,i,r,e.from]);const o=pr([e.from,r,i]);this._active=!0,this._fn=e.fn||nj[e.type||typeof o],this._easing=jr[e.easing]||jr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=pr([e.to,n,i,e.from]),this._from=pr([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class X_{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!fe(e))return;const n=Object.keys(He.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!fe(r))return;const o={};for(const a of n)o[a]=r[a];(Be(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,i=rj(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&ij(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=r[c];const h=s.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}r[c]=d=new sj(h,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return kn.add(this._chart,s),!0}}function ij(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function rj(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Pp(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function oj(t,e,n){if(n===!1)return!1;const s=Pp(t,n),i=Pp(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function aj(t){let e,n,s,i;return fe(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function Z_(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function Mp(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,s.all)continue;break}c=t.values[l],Ke(c)&&(r||e===0||En(e)===En(c))&&(e+=c)}return!u&&!s.all?0:e}function lj(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:t[u]};return a}function Bc(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function cj(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function uj(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function dj(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function Ip(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function Np(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=cj(r,o,s),d=e.length;let h;for(let f=0;f<d;++f){const g=e[f],{[l]:p,[c]:m}=g,b=g._stacks||(g._stacks={});h=b[c]=dj(i,u,p),h[a]=m,h._top=Ip(h,o,!0,s.type),h._bottom=Ip(h,o,!1,s.type);const v=h._visualValues||(h._visualValues={});v[a]=m}}function Fc(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function hj(t,e){return Es(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function fj(t,e,n){return Es(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ar(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const Uc=t=>t==="reset"||t==="none",Lp=(t,e)=>e?t:Object.assign({},t),gj=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Z_(n,!0),values:null};class Ss{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Bc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ar(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(d,h,f,g)=>d==="x"?h:d==="r"?g:f,r=n.xAxisID=re(s.xAxisID,Fc(e,"x")),o=n.yAxisID=re(s.yAxisID,Fc(e,"y")),a=n.rAxisID=re(s.rAxisID,Fc(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,o,a),u=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&vp(this._data,this),e._stacked&&ar(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(fe(n)){const i=this._cachedMeta;this._data=lj(n,i)}else if(s!==n){if(s){vp(s,this);const i=this._cachedMeta;ar(i),i._parsed=[]}n&&Object.isExtensible(n)&&XN(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=Bc(n.vScale,n),n.stack!==s.stack&&(i=!0,ar(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(Np(this,n._parsed),n._stacked=Bc(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=e===0&&n===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,d,h;if(this._parsing===!1)s._parsed=i,s._sorted=!0,h=i;else{Be(i[e])?h=this.parseArrayData(s,i,e,n):fe(i[e])?h=this.parseObjectData(s,i,e,n):h=this.parsePrimitiveData(s,i,e,n);const f=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)s._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);s._sorted=l}o&&Np(this,h)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,d=new Array(i);let h,f,g;for(h=0,f=i;h<f;++h)g=h+s,d[h]={[a]:u||r.parse(c[g],g),[l]:o.parse(n[g],g)};return d}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+s,d=n[u],a[l]={x:r.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,h,f;for(u=0,d=i;u<d;++u)h=u+s,f=n[h],c[u]={x:r.parse(bs(f,a),h),y:o.parse(bs(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:Z_(i,!0),values:n._stacks[e.axis]._visualValues};return Mp(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=Mp(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),l=gj(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=uj(a);let h,f;function g(){f=i[h];const p=f[a.axis];return!Ke(f[e.axis])||u>p||d<p}for(h=0;h<o&&!(!g()&&(this.updateRangeFromParsed(c,e,f,l),r));++h);if(r){for(h=o-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],Ke(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=aj(re(this.options.clip,oj(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=fj(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=hj(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&so(s);if(a)return Lp(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(He.elements[e]),g=()=>this.getContext(s,i,n),p=c.resolveNamedOptions(h,f,g,d);return p.$shared&&(p.$shared=l,r[o]=Object.freeze(Lp(p,l))),p}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,s,n))}const c=new X_(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Uc(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){Uc(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!Uc(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&ar(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function pj(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=P_(s.sort((i,r)=>i-r))}return t._cache.$bar}function mj(t){const e=t.iScale,n=pj(e,t.type);let s=e._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(so(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return s}function bj(t,e,n,s){const i=n.barThickness;let r,o;return de(i)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[t]-r/2}}function vj(t,e,n,s){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:c}}function yj(t,e,n,s){const i=n.parse(t[0],s),r=n.parse(t[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function ew(t,e,n,s){return Be(t)?yj(t,e,n,s):e[n.axis]=n.parse(t,s),e}function jp(t,e,n,s){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,d,h;for(c=n,u=n+s;c<u;++c)h=e[c],d={},d[i.axis]=a||i.parse(o[c],c),l.push(ew(h,d,r,c));return l}function Hc(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function _j(t,e,n){return t!==0?En(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function wj(t){let e,n,s,i,r;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:e,top:i,bottom:r}}function Ej(t,e,n,s){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=wj(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=c:(n._bottom||0)===s?i=u:(r[Bp(u,o,a,l)]=!0,i=c)),r[Bp(i,o,a,l)]=!0,t.borderSkipped=r}function Bp(t,e,n,s){return s?(t=Sj(t,e,n),t=Fp(t,n,e)):t=Fp(t,e,n),t}function Sj(t,e,n){return t===e?n:t===n?e:t}function Fp(t,e,n){return t==="start"?e:t==="end"?n:t}function Aj(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class xj extends Ss{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,s,i){return jp(e,n,s,i)}parseArrayData(e,n,s,i){return jp(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let h,f,g,p;for(h=s,f=s+i;h<f;++h)p=n[h],g={},g[r.axis]=r.parse(bs(p,c),h),d.push(ew(bs(p,u),g,o,h));return d}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(e),o=r._custom,a=Hc(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,i);for(let f=n;f<n+s;f++){const g=this.getParsed(f),p=r||de(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),m=this._calculateBarIndexPixels(f,u),b=(g._stacks||{})[a.axis],v={horizontal:c,base:p.base,enableBorderRadius:!b||Hc(g._custom)||o===b._top||o===b._bottom,x:c?p.head:m.center,y:c?m.center:p.head,height:c?m.size:Math.abs(p.size),width:c?Math.abs(p.size):m.size};h&&(v.options=d||this.resolveDataElementOptions(f,e[f].active?"active":i));const y=v.options||e[f].options;Ej(v,y,b,o),Aj(v,y,u.ratio),this.updateElement(e[f],f,v,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[s.axis],c=u=>{const d=u._parsed.find(f=>f[s.axis]===l),h=d&&d[u.vScale.axis];if(de(h)||isNaN(h))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[re(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const i=this._getStacks(e,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||mj(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=Hc(c);let d=l[n.axis],h=0,f=s?this.applyStack(n,l,s):d,g,p;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&En(d)!==En(c.barEnd)&&(h=0),h+=d);const m=!de(r)&&!u?r:h;let b=n.getPixelForValue(m);if(this.chart.getDataVisibility(e)?g=n.getPixelForValue(h+f):g=b,p=g-b,Math.abs(p)<o){p=_j(p,n,a)*o,d===a&&(b-=p/2);const v=n.getPixelForDecimal(0),y=n.getPixelForDecimal(1),_=Math.min(v,y),S=Math.max(v,y);b=Math.max(Math.min(b,S),_),g=b+p,s&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(g)-n.getValueForPixel(b))}if(b===n.getPixelForValue(a)){const v=En(p)*n.getLineWidthForValue(a)/2;b+=v,p-=v}return{size:p,base:b,head:g,center:g+p/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,r=i.skipNull,o=re(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const u=r?this._getStackCount(e):n.stackCount,d=i.barThickness==="flex"?vj(e,n,i,u*c):bj(e,n,i,u*c),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(re(h,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+f;a=d.start+d.chunk*g+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}class Rj extends Ss{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,s,i){const r=super.parsePrimitiveData(e,n,s,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+s).radius;return r}parseArrayData(e,n,s,i){const r=super.parseArrayData(e,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=re(a[2],this.resolveDataElementOptions(o+s).radius)}return r}parseObjectData(e,n,s,i){const r=super.parseObjectData(e,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=re(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let s=e.length-1;s>=0;--s)n=Math.max(n,e[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:s[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),u=o.axis,d=a.axis;for(let h=n;h<n+s;h++){const f=e[h],g=!r&&this.getParsed(h),p={},m=p[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(g[u]),b=p[d]=r?a.getBasePixel():a.getPixelForValue(g[d]);p.skip=isNaN(m)||isNaN(b),c&&(p.options=l||this.resolveDataElementOptions(h,f.active?"active":i),r&&(p.options.radius=0)),this.updateElement(f,h,p,i)}}resolveDataElementOptions(e,n){const s=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return n!=="active"&&(i.radius=0),i.radius+=re(s&&s._custom,r),i}}function Cj(t,e,n){let s=1,i=1,r=0,o=0;if(e<Ne){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(y,_,S)=>io(y,a,l,!0)?1:Math.max(_,_*n,S,S*n),g=(y,_,S)=>io(y,a,l,!0)?-1:Math.min(_,_*n,S,S*n),p=f(0,c,d),m=f(Je,u,h),b=g(_e,c,d),v=g(_e+Je,u,h);s=(p-b)/2,i=(m-v)/2,r=-(p+b)/2,o=-(m+v)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class ph extends Ss{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,c)=>{const d=e.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:d.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(c),lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:d.borderWidth,strokeStyle:d.borderColor,textAlign:i,pointStyle:s,borderRadius:o&&(a||d.borderRadius),index:c}}):[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(fe(s[e])){const{key:l="value"}=this._parsing;r=c=>+bs(s[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return nn(this.options.rotation-90)}_getCircumference(){return nn(this.options.circumference)}_getRotationExtents(){let e=Ne,n=-Ne;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(jN(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:g,offsetY:p}=Cj(d,u,l),m=(s.width-o)/h,b=(s.height-o)/f,v=Math.max(Math.min(m,b)/2,0),y=C_(this.options.radius,v),_=Math.max(y*l,0),S=(y-_)/this._getVisibleDatasetWeightTotal();this.offsetX=g*y,this.offsetY=p*y,i.total=this.calculateTotal(),this.outerRadius=y-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/Ne)}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=r&&c.animateScale,f=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(n,i);let b=this._getRotation(),v;for(v=0;v<n;++v)b+=this._circumference(v,r);for(v=n;v<n+s;++v){const y=this._circumference(v,r),_=e[v],S={x:u+this.offsetX,y:d+this.offsetY,startAngle:b,endAngle:b+y,circumference:y,outerRadius:g,innerRadius:f};m&&(S.options=p||this.resolveDataElementOptions(v,_.active?"active":i)),b+=y,this.updateElement(_,v,S,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ne*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=So(n._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,r,o,a,l;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(re(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Tj extends Ss{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=N_(n,i,o);this._drawStart=a,this._drawCount=l,L_(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),h=o.axis,f=a.axis,{spanGaps:g,segment:p}=this.options,m=Gi(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||i==="none",v=n+s,y=e.length;let _=n>0&&this.getParsed(n-1);for(let S=0;S<y;++S){const T=e[S],x=b?T:{};if(S<n||S>=v){x.skip=!0;continue}const A=this.getParsed(S),k=de(A[f]),B=x[h]=o.getPixelForValue(A[h],S),W=x[f]=r||k?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,A,l):A[f],S);x.skip=isNaN(B)||isNaN(W)||k,x.stop=S>0&&Math.abs(A[h]-_[h])>m,p&&(x.parsed=A,x.raw=c.data[S]),d&&(x.options=u||this.resolveDataElementOptions(S,T.active?"active":i)),b||this.updateElement(T,S,x,i),_=A}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class tw extends Ss{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=So(n._parsed[e].r,s.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,n,s,i){return W_.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,s=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(i/2,0),o=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*_e;let f=h,g;const p=360/this.countVisibleElements();for(g=0;g<n;++g)f+=this._computeAngle(g,i,p);for(g=n;g<n+s;g++){const m=e[g];let b=f,v=f+this._computeAngle(g,i,p),y=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=v,r&&(l.animateScale&&(y=0),l.animateRotate&&(b=v=h));const _={x:u,y:d,innerRadius:0,outerRadius:y,startAngle:b,endAngle:v,options:this.resolveDataElementOptions(g,m.active?"active":i)};this.updateElement(m,g,_,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,s){return this.chart.getDataVisibility(e)?nn(this.resolveDataElementOptions(e,n).angle||s):0}}class kj extends ph{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class Dj extends Ss{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const n=this._cachedMeta.vScale,s=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(e,n,s,i){return W_.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta,s=n.dataset,i=n.data||[],r=n.iScale.getLabels();if(s.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(s,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,s,i){const r=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+s;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=r.getPointPositionForValue(a,this.getParsed(a).r),d=o?r.xCenter:u.x,h=o?r.yCenter:u.y,f={x:d,y:h,angle:u.angle,skip:isNaN(d)||isNaN(h),options:c};this.updateElement(l,a,f,i)}}}class Oj extends Ss{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:s[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:s=[]}=n,i=this.chart._animationsDisabled;let{start:r,count:o}=N_(n,s,i);if(this._drawStart=r,this._drawCount=o,L_(n)&&(r=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),d=this.getSharedOptions(u),h=this.includeOptions(i,d),f=o.axis,g=a.axis,{spanGaps:p,segment:m}=this.options,b=Gi(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||i==="none";let y=n>0&&this.getParsed(n-1);for(let _=n;_<n+s;++_){const S=e[_],T=this.getParsed(_),x=v?S:{},A=de(T[g]),k=x[f]=o.getPixelForValue(T[f],_),B=x[g]=r||A?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[g],_);x.skip=isNaN(k)||isNaN(B)||A,x.stop=_>0&&Math.abs(T[f]-y[f])>b,m&&(x.parsed=T,x.raw=c.data[_]),h&&(x.options=d||this.resolveDataElementOptions(_,S.active?"active":i)),v||this.updateElement(S,_,x,i),y=T}this.updateSharedOptions(d,i,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=e.dataset,i=s.options&&s.options.borderWidth||0;if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,o)/2}}var Pj=Object.freeze({__proto__:null,BarController:xj,BubbleController:Rj,DoughnutController:ph,LineController:Tj,PieController:kj,PolarAreaController:tw,RadarController:Dj,ScatterController:Oj});function Ds(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class mh{static override(e){Object.assign(mh.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ds()}parse(){return Ds()}format(){return Ds()}add(){return Ds()}diff(){return Ds()}startOf(){return Ds()}endOf(){return Ds()}}var Mj={_date:mh};function Ij(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const c=a._reversePixels?JN:jn;if(s){if(i._sharedOptions){const u=r[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(r,e,n-d),f=c(r,e,n+d);return{lo:h.lo,hi:f.hi}}}}else{const u=c(r,e,n);if(l){const{vScale:d}=i._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(p=>!de(p[d.axis]));u.lo-=Math.max(0,f);const g=h.slice(u.hi).findIndex(p=>!de(p[d.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:r.length-1}}function Ul(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:d,hi:h}=Ij(r[a],e,o,i);for(let f=d;f<=h;++f){const g=u[f];g.skip||s(g,c,f)}}}function Nj(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function $c(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||Ul(t,n,e,function(a,l,c){!i&&!Bn(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function Lj(t,e,n,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:d}=D_(o,{x:e.x,y:e.y});io(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Ul(t,n,e,r),i}function jj(t,e,n,s,i,r){let o=[];const a=Nj(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,i);if(s&&!f)return;const g=u.getCenterPoint(i);if(!(!!r||t.isPointInArea(g))&&!f)return;const m=a(e,g);m<l?(o=[{element:u,datasetIndex:d,index:h}],l=m):m===l&&o.push({element:u,datasetIndex:d,index:h})}return Ul(t,n,e,c),o}function Vc(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?Lj(t,e,n,i):jj(t,e,n,s,i,r)}function Up(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Ul(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:r}var Bj={modes:{index(t,e,n,s){const i=Ls(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?$c(t,i,r,s,o):Vc(t,i,r,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,s){const i=Ls(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?$c(t,i,r,s,o):Vc(t,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,s){const i=Ls(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return $c(t,i,r,s,o)},nearest(t,e,n,s){const i=Ls(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Vc(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=Ls(e,t);return Up(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=Ls(e,t);return Up(t,i,"y",n.intersect,s)}}};const nw=["left","top","right","bottom"];function lr(t,e){return t.filter(n=>n.pos===e)}function Hp(t,e){return t.filter(n=>nw.indexOf(n.pos)===-1&&n.box.axis===e)}function cr(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function Fj(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function Uj(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!nw.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function Hj(t,e){const n=Uj(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&e.availableHeight)}return n}function $j(t){const e=Fj(t),n=cr(e.filter(c=>c.box.fullSize),!0),s=cr(lr(e,"left"),!0),i=cr(lr(e,"right")),r=cr(lr(e,"top"),!0),o=cr(lr(e,"bottom")),a=Hp(e,"x"),l=Hp(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:lr(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function $p(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function sw(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Vj(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!fe(i)){n.size&&(t[i]-=n.size);const d=s[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?r.height:r.width),n.size=d.size/d.count,t[i]+=n.size}r.getPadding&&sw(o,r.getPadding());const a=Math.max(0,e.outerWidth-$p(o,t,"left","right")),l=Math.max(0,e.outerHeight-$p(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Wj(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function zj(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function mr(t,e,n,s){const i=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,zj(a.horizontal,e));const{same:d,other:h}=Vj(e,n,a,s);c|=d&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&mr(i,e,n,s)||u}function qo(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function Vp(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=s[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;so(c.start)&&(o=c.start),l.fullSize?qo(l,i.left,o,n.outerWidth-i.right-i.left,h):qo(l,e.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,h=c.size||l.width;so(c.start)&&(r=c.start),l.fullSize?qo(l,r,i.top,h,n.outerHeight-i.bottom-i.top):qo(l,r,e.top+c.placed,h,d),c.start=r,c.placed+=d,r=l.right}}e.x=r,e.y=o}var wt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=St(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=$j(t.boxes),l=a.vertical,c=a.horizontal;Ce(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=l.reduce((p,m)=>m.box.options&&m.box.options.display===!1?p:p+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);sw(h,St(s));const f=Object.assign({maxPadding:h,w:r,h:o,x:i.left,y:i.top},i),g=Hj(l.concat(c),d);mr(a.fullSize,f,d,g),mr(l,f,d,g),mr(c,f,d,g)&&mr(l,f,d,g),Wj(f),Vp(a.leftAndTop,f,d,g),f.x+=f.w,f.y+=f.h,Vp(a.rightAndBottom,f,d,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Ce(a.chartArea,p=>{const m=p.box;Object.assign(m,t.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class iw{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class qj extends iw{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ha="$chartjs",Gj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Wp=t=>t===null||t==="";function Kj(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[ha]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Wp(i)){const r=Cp(t,"width");r!==void 0&&(t.width=r)}if(Wp(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=Cp(t,"height");r!==void 0&&(t.height=r)}return t}const rw=VL?{passive:!0}:!1;function Yj(t,e,n){t&&t.addEventListener(e,n,rw)}function Jj(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,rw)}function Qj(t,e){const n=Gj[t.type]||t.type,{x:s,y:i}=Ls(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Ya(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Xj(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ya(a.addedNodes,s),o=o&&!Ya(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Zj(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ya(a.removedNodes,s),o=o&&!Ya(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const oo=new Map;let zp=0;function ow(){const t=window.devicePixelRatio;t!==zp&&(zp=t,oo.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function eB(t,e){oo.size||window.addEventListener("resize",ow),oo.set(t,e)}function tB(t){oo.delete(t),oo.size||window.removeEventListener("resize",ow)}function nB(t,e,n){const s=t.canvas,i=s&&gh(s);if(!i)return;const r=I_((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),eB(t,r),o}function Wc(t,e,n){n&&n.disconnect(),e==="resize"&&tB(t)}function sB(t,e,n){const s=t.canvas,i=I_(r=>{t.ctx!==null&&n(Qj(r,t))},t);return Yj(s,e,i),i}class iB extends iw{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(Kj(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[ha])return!1;const s=n[ha].initial;["height","width"].forEach(r=>{const o=s[r];de(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[ha],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:Xj,detach:Zj,resize:nB}[n]||sB;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:Wc,detach:Wc,resize:Wc}[n]||Jj)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return $L(e,n,s,i)}isAttached(e){const n=e&&gh(e);return!!(n&&n.isConnected)}}function rB(t){return!fh()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?qj:iB}let Kn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Gi(this.x)&&Gi(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}};function oB(t,e){const n=t.options.ticks,s=aB(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?cB(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return uB(e,c,r,o/i),c;const u=lB(r,e,i);if(o>0){let d,h;const f=o>1?Math.round((l-a)/(o-1)):null;for(Go(e,c,u,de(f)?0:a-f,a),d=0,h=o-1;d<h;d++)Go(e,c,u,r[d],r[d+1]);return Go(e,c,u,l,de(f)?e.length:l+f),c}return Go(e,c,u),c}function aB(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function lB(t,e,n){const s=dB(t),i=e.length/n;if(!s)return Math.max(i,1);const r=zN(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function cB(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function uB(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function Go(t,e,n,s,i){const r=re(s,0),o=Math.min(re(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function dB(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const hB=t=>t==="left"?"right":t==="right"?"left":t,qp=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Gp=(t,e)=>Math.min(e||t,t);function Kp(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function fB(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function gB(t,e){Ce(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function ur(t){return t.drawTicks?t.tickLength:0}function Yp(t,e){if(!t.display)return 0;const n=it(t.font,e),s=St(t.padding);return(Be(t.text)?t.text.length:1)*n.lineHeight+s.height}function pB(t,e){return Es(t,{scale:e,type:"scale"})}function mB(t,e,n){return Es(t,{tick:n,index:e,type:"tick"})}function bB(t,e,n){let s=ah(t);return(n&&e!=="right"||!n&&e==="right")&&(s=hB(s)),s}function vB(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,g;const p=o-i,m=a-r;if(t.isHorizontal()){if(f=ft(s,r,a),fe(n)){const b=Object.keys(n)[0],v=n[b];g=u[b].getPixelForValue(v)+p-e}else n==="center"?g=(c.bottom+c.top)/2+p-e:g=qp(t,n,e);h=a-r}else{if(fe(n)){const b=Object.keys(n)[0],v=n[b];f=u[b].getPixelForValue(v)-m+e}else n==="center"?f=(c.left+c.right)/2-m+e:f=qp(t,n,e);g=ft(s,o,i),d=n==="left"?-Je:Je}return{titleX:f,titleY:g,maxWidth:h,rotation:d}}class ui extends Kn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=Ft(e,Number.POSITIVE_INFINITY),n=Ft(n,Number.NEGATIVE_INFINITY),s=Ft(s,Number.POSITIVE_INFINITY),i=Ft(i,Number.NEGATIVE_INFINITY),{min:Ft(e,s),max:Ft(n,i),minDefined:Ke(e),maxDefined:Ke(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:Ft(n,Ft(s,n)),max:Ft(s,Ft(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ie(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_L(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Kp(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=oB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ie(this.options.afterUpdate,[this])}beforeSetDimensions(){Ie(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ie(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ie(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ie(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=Ie(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){Ie(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ie(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=Gp(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=ot(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/s:f/(s-1),d+6>a&&(a=f/(s-(e.offset?.5:1)),l=this.maxHeight-ur(e.grid)-n.padding-Yp(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=rh(Math.min(Math.asin(ot((u.highest.height+6)/a,-1,1)),Math.asin(ot(l/c,-1,1))-Math.asin(ot(h/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ie(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ie(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Yp(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=ur(r)+l):(e.height=this.maxHeight,e.width=ur(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=s.padding*2,g=nn(this.labelRotation),p=Math.cos(g),m=Math.sin(g);if(a){const b=s.mirror?0:m*d.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+b+f)}else{const b=s.mirror?0:p*d.width+m*h.height;e.width=Math.min(this.maxWidth,e.width+b+f)}this._calculatePadding(c,u,m,p)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=i*e.width,f=s*n.height):(h=s*e.height,f=i*n.width):r==="start"?f=n.width:r==="end"?h=e.width:r!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;r==="start"?(u=0,d=e.height):r==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ie(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)de(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Kp(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/Gp(n,s));let c=0,u=0,d,h,f,g,p,m,b,v,y,_,S;for(d=0;d<n;d+=l){if(g=e[d].label,p=this._resolveTickFontOptions(d),i.font=m=p.string,b=r[m]=r[m]||{data:{},gc:[]},v=p.lineHeight,y=_=0,!de(g)&&!Be(g))y=Ga(i,b.data,b.gc,y,g),_=v;else if(Be(g))for(h=0,f=g.length;h<f;++h)S=g[h],!de(S)&&!Be(S)&&(y=Ga(i,b.data,b.gc,y,S),_+=v);o.push(y),a.push(_),c=Math.max(y,c),u=Math.max(_,u)}gB(r,n);const T=o.indexOf(c),x=a.indexOf(u),A=k=>({width:o[k]||0,height:a[k]||0});return{first:A(0),last:A(n-1),widest:A(T),highest:A(x),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return YN(this._alignToPixels?ks(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=mB(this.getContext(),e,s))}return this.$context||(this.$context=pB(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=nn(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=ur(r),f=[],g=a.setContext(this.getContext()),p=g.display?g.width:0,m=p/2,b=function(K){return ks(s,K,p)};let v,y,_,S,T,x,A,k,B,W,G,ce;if(o==="top")v=b(this.bottom),x=this.bottom-h,k=v-m,W=b(e.top)+m,ce=e.bottom;else if(o==="bottom")v=b(this.top),W=e.top,ce=b(e.bottom)-m,x=v+m,k=this.top+h;else if(o==="left")v=b(this.right),T=this.right-h,A=v-m,B=b(e.left)+m,G=e.right;else if(o==="right")v=b(this.left),B=e.left,G=b(e.right)-m,T=v+m,A=this.left+h;else if(n==="x"){if(o==="center")v=b((e.top+e.bottom)/2+.5);else if(fe(o)){const K=Object.keys(o)[0],z=o[K];v=b(this.chart.scales[K].getPixelForValue(z))}W=e.top,ce=e.bottom,x=v+m,k=x+h}else if(n==="y"){if(o==="center")v=b((e.left+e.right)/2);else if(fe(o)){const K=Object.keys(o)[0],z=o[K];v=b(this.chart.scales[K].getPixelForValue(z))}T=v-m,A=T-h,B=e.left,G=e.right}const Ae=re(i.ticks.maxTicksLimit,d),le=Math.max(1,Math.ceil(d/Ae));for(y=0;y<d;y+=le){const K=this.getContext(y),z=r.setContext(K),Z=a.setContext(K),xe=z.lineWidth,lt=z.color,Le=Z.dash||[],Te=Z.dashOffset,dt=z.tickWidth,tt=z.tickColor,ht=z.tickBorderDash||[],Ze=z.tickBorderDashOffset;_=fB(this,y,l),_!==void 0&&(S=ks(s,_,xe),c?T=A=B=G=S:x=k=W=ce=S,f.push({tx1:T,ty1:x,tx2:A,ty2:k,x1:B,y1:W,x2:G,y2:ce,width:xe,color:lt,borderDash:Le,borderDashOffset:Te,tickWidth:dt,tickColor:tt,tickBorderDash:ht,tickBorderDashOffset:Ze}))}return this._ticksLength=d,this._borderValue=v,f}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=r,h=ur(s.grid),f=h+u,g=d?-u:f,p=-nn(this.labelRotation),m=[];let b,v,y,_,S,T,x,A,k,B,W,G,ce="middle";if(i==="top")T=this.bottom-g,x=this._getXAxisLabelAlignment();else if(i==="bottom")T=this.top+g,x=this._getXAxisLabelAlignment();else if(i==="left"){const le=this._getYAxisLabelAlignment(h);x=le.textAlign,S=le.x}else if(i==="right"){const le=this._getYAxisLabelAlignment(h);x=le.textAlign,S=le.x}else if(n==="x"){if(i==="center")T=(e.top+e.bottom)/2+f;else if(fe(i)){const le=Object.keys(i)[0],K=i[le];T=this.chart.scales[le].getPixelForValue(K)+f}x=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")S=(e.left+e.right)/2-f;else if(fe(i)){const le=Object.keys(i)[0],K=i[le];S=this.chart.scales[le].getPixelForValue(K)}x=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?ce="top":l==="end"&&(ce="bottom"));const Ae=this._getLabelSizes();for(b=0,v=a.length;b<v;++b){y=a[b],_=y.label;const le=r.setContext(this.getContext(b));A=this.getPixelForTick(b)+r.labelOffset,k=this._resolveTickFontOptions(b),B=k.lineHeight,W=Be(_)?_.length:1;const K=W/2,z=le.color,Z=le.textStrokeColor,xe=le.textStrokeWidth;let lt=x;o?(S=A,x==="inner"&&(b===v-1?lt=this.options.reverse?"left":"right":b===0?lt=this.options.reverse?"right":"left":lt="center"),i==="top"?c==="near"||p!==0?G=-W*B+B/2:c==="center"?G=-Ae.highest.height/2-K*B+B:G=-Ae.highest.height+B/2:c==="near"||p!==0?G=B/2:c==="center"?G=Ae.highest.height/2-K*B:G=Ae.highest.height-W*B,d&&(G*=-1),p!==0&&!le.showLabelBackdrop&&(S+=B/2*Math.sin(p))):(T=A,G=(1-W)*B/2);let Le;if(le.showLabelBackdrop){const Te=St(le.backdropPadding),dt=Ae.heights[b],tt=Ae.widths[b];let ht=G-Te.top,Ze=0-Te.left;switch(ce){case"middle":ht-=dt/2;break;case"bottom":ht-=dt;break}switch(x){case"center":Ze-=tt/2;break;case"right":Ze-=tt;break;case"inner":b===v-1?Ze-=tt:b>0&&(Ze-=tt/2);break}Le={left:Ze,top:ht,width:tt+Te.width,height:dt+Te.height,color:le.backdropColor}}m.push({label:_,font:k,textOffset:G,options:{rotation:p,color:z,strokeColor:Z,strokeWidth:xe,textAlign:lt,textBaseline:ce,translation:[S,T],backdrop:Le}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-nn(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=ks(e,this.left,o)-o/2,u=ks(e,this.right,a)+a/2,d=h=l):(d=ks(e,this.top,o)-o/2,h=ks(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&jl(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;si(s,c,0,u,l,a)}i&&Bl(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=it(s.font),o=St(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||fe(n)?(l+=o.bottom,Be(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=vB(this,l,n,a);si(e,s.text,0,0,r,{color:s.color,maxWidth:d,rotation:h,textAlign:bB(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=re(e.grid&&e.grid.z,-1),i=re(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ui.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return it(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ko{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;wB(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,yB(e,o,s),this.override&&He.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in He[i]&&(delete He[i][s],this.override&&delete ni[s])}}function yB(t,e,n){const s=no(Object.create(null),[n?He.get(n):{},He.get(e),t.defaults]);He.set(e,s),t.defaultRoutes&&_B(e,t.defaultRoutes),t.descriptors&&He.describe(e,t.descriptors)}function _B(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");He.route(r,i,l,a)})}function wB(t){return"id"in t&&"defaults"in t}class EB{constructor(){this.controllers=new Ko(Ss,"datasets",!0),this.elements=new Ko(Kn,"elements"),this.plugins=new Ko(Object,"plugins"),this.scales=new Ko(ui,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):Ce(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=ih(e);Ie(s["before"+i],[],s),n[e](s),Ie(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var bn=new EB;class SB{constructor(){this._init=void 0}notify(e,n,s,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],l=[n,i,r.options];if(Ie(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){de(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=re(s.options&&s.options.plugins,{}),r=AB(s);return i===!1&&!n?[]:RB(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function AB(t){const e={},n=[],s=Object.keys(bn.plugins.items);for(let r=0;r<s.length;r++)n.push(bn.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function xB(t,e){return!e&&t===!1?null:t===!0?{}:t}function RB(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=xB(s[l],i);c!==null&&r.push({plugin:a,options:CB(t.config,{plugin:a,local:n[l]},c,o)})}return r}function CB(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vu(t,e){const n=He.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function TB(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function kB(t,e){return t===e?"_index_":"_value_"}function Jp(t){if(t==="x"||t==="y"||t==="r")return t}function DB(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Wu(t,...e){if(Jp(t))return t;for(const n of e){const s=n.axis||DB(n.position)||t.length>1&&Jp(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Qp(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function OB(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return Qp(t,"x",n[0])||Qp(t,"y",n[0])}return{}}function PB(t,e){const n=ni[t.type]||{scales:{}},s=e.scales||{},i=Vu(t.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!fe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Wu(o,a,OB(o,t),He.scales[a.type]),c=kB(l,i),u=n.scales||{};r[o]=Nr(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Vu(a,e),u=(ni[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=TB(d,l),f=o[h+"AxisID"]||h;r[f]=r[f]||Object.create(null),Nr(r[f],[{axis:h},s[f],u[d]])})}),Object.keys(r).forEach(o=>{const a=r[o];Nr(a,[He.scales[a.type],He.scale])}),r}function aw(t){const e=t.options||(t.options={});e.plugins=re(e.plugins,{}),e.scales=PB(t,e)}function lw(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function MB(t){return t=t||{},t.data=lw(t.data),aw(t),t}const Xp=new Map,cw=new Set;function Yo(t,e){let n=Xp.get(t);return n||(n=e(),Xp.set(t,n),cw.add(n)),n}const dr=(t,e,n)=>{const s=bs(e,n);s!==void 0&&t.add(s)};class IB{constructor(e){this._config=MB(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=lw(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),aw(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Yo(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Yo(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Yo(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Yo(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>dr(l,e,d))),u.forEach(d=>dr(l,i,d)),u.forEach(d=>dr(l,ni[r]||{},d)),u.forEach(d=>dr(l,He,d)),u.forEach(d=>dr(l,Hu,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),cw.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,ni[n]||{},He.datasets[n]||{},{type:n},He,Hu]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Zp(this._resolverCache,e,i);let l=o;if(LB(o,n)){r.$shared=!1,s=vs(s)?s():s;const c=this.createResolver(e,s,a);l=Ki(o,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,s=[""],i){const{resolver:r}=Zp(this._resolverCache,e,s);return fe(n)?Ki(r,n,void 0,i):r}}function Zp(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:uh(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const NB=t=>fe(t)&&Object.getOwnPropertyNames(t).some(e=>vs(t[e]));function LB(t,e){const{isScriptable:n,isIndexable:s}=U_(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(vs(a)||NB(a))||o&&Be(a))return!0}return!1}var jB="4.5.1";const BB=["top","bottom","left","right","chartArea"];function em(t,e){return t==="top"||t==="bottom"||BB.indexOf(t)===-1&&e==="x"}function tm(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function nm(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ie(n&&n.onComplete,[t],e)}function FB(t){const e=t.chart,n=e.options.animation;Ie(n&&n.onProgress,[t],e)}function uw(t){return fh()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const fa={},sm=t=>{const e=uw(t);return Object.values(fa).filter(n=>n.canvas===e).pop()};function UB(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function HB(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}class zu{static defaults=He;static instances=fa;static overrides=ni;static registry=bn;static version=jB;static getChart=sm;static register(...e){bn.add(...e),im()}static unregister(...e){bn.remove(...e),im()}constructor(e,n){const s=this.config=new IB(n),i=uw(e),r=sm(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||rB(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=LN(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new SB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ZN(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],fa[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}kn.listen(this,"complete",nm),kn.listen(this,"progress",FB),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return de(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return bn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Rp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Sp(this.canvas,this.ctx),this}stop(){return kn.stop(this),this}resize(e,n){kn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Rp(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ie(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ce(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Wu(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Ce(r,o=>{const a=o.options,l=a.id,c=Wu(l,a),u=re(a.type,o.dtype);(a.position===void 0||em(a.position,c)!==em(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in s&&s[l].type===u)d=s[l];else{const h=bn.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),s[d.id]=d}d.init(a,e)}),Ce(i,(o,a)=>{o||delete s[a]}),Ce(s,o=>{wt.configure(this,o,o.options),wt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(tm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||Vu(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=bn.getController(a),{datasetElementType:c,dataElementType:u}=He.datasets[a];Object.assign(l,{dataElementType:bn.getElement(u),datasetElementType:c&&bn.getElement(c)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ce(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&r.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||Ce(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(tm("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ce(this.scales,e=>{wt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!gp(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;UB(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!gp(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;wt.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Ce(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,vs(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(kn.has(this)?this.attached&&!kn.running(this)&&kn.start(this):(this.draw(),nm({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=Q_(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&jl(n,i),e.controller.draw(),i&&Bl(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Bn(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=Bj.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Es(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);so(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),kn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Sp(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete fa[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Ce(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Ce(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ce(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Wa(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),l=$N(e),c=HB(e,this._lastEvent,s,l);s&&(this._lastEvent=null,Ie(r.onHover,[e,a,this],this),l&&Ie(r.onClick,[e,a,this],this));const u=!Wa(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}function im(){return Ce(zu.instances,t=>t._plugins.invalidate())}function $B(t,e,n){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/o,pt(s-n));if(t.beginPath(),t.arc(i,r,o-c/2,s+d/2,n-d/2),a>0){const h=Math.min(c/a,pt(s-n));t.arc(i,r,a+c/2,n-h/2,s+h/2,!0)}else{const h=Math.min(c/2,o*pt(s-n));if(u==="round")t.arc(i,r,h,n-_e/2,s+_e/2,!0);else if(u==="bevel"){const f=2*h*h,g=-f*Math.cos(n+_e/2)+i,p=-f*Math.sin(n+_e/2)+r,m=f*Math.cos(s+_e/2)+i,b=f*Math.sin(s+_e/2)+r;t.lineTo(g,p),t.lineTo(m,b)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function VB(t,e,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(r,o,a,s-c,n+c),l>i?(c=i/l,t.arc(r,o,l,n+c,s-c,!0)):t.arc(r,o,i,n+Je,s-Je),t.closePath(),t.clip()}function WB(t){return ch(t,["outerStart","outerEnd","innerStart","innerEnd"])}function zB(t,e,n,s){const i=WB(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,s*e/2),a=l=>{const c=(n-Math.min(r,l))*s/2;return ot(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:ot(i.innerStart,0,o),innerEnd:ot(i.innerEnd,0,o)}}function _i(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Ja(t,e,n,s,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+s+n-c,0),h=u>0?u+s+n+c:0;let f=0;const g=i-l;if(s){const le=u>0?u-s:0,K=d>0?d-s:0,z=(le+K)/2,Z=z!==0?g*z/(z+s):g;f=(g-Z)/2}const p=Math.max(.001,g*d-n/_e)/d,m=(g-p)/2,b=l+m+f,v=i-m-f,{outerStart:y,outerEnd:_,innerStart:S,innerEnd:T}=zB(e,h,d,v-b),x=d-y,A=d-_,k=b+y/x,B=v-_/A,W=h+S,G=h+T,ce=b+S/W,Ae=v-T/G;if(t.beginPath(),r){const le=(k+B)/2;if(t.arc(o,a,d,k,le),t.arc(o,a,d,le,B),_>0){const xe=_i(A,B,o,a);t.arc(xe.x,xe.y,_,B,v+Je)}const K=_i(G,v,o,a);if(t.lineTo(K.x,K.y),T>0){const xe=_i(G,Ae,o,a);t.arc(xe.x,xe.y,T,v+Je,Ae+Math.PI)}const z=(v-T/h+(b+S/h))/2;if(t.arc(o,a,h,v-T/h,z,!0),t.arc(o,a,h,z,b+S/h,!0),S>0){const xe=_i(W,ce,o,a);t.arc(xe.x,xe.y,S,ce+Math.PI,b-Je)}const Z=_i(x,b,o,a);if(t.lineTo(Z.x,Z.y),y>0){const xe=_i(x,k,o,a);t.arc(xe.x,xe.y,y,b-Je,k)}}else{t.moveTo(o,a);const le=Math.cos(k)*d+o,K=Math.sin(k)*d+a;t.lineTo(le,K);const z=Math.cos(B)*d+o,Z=Math.sin(B)*d+a;t.lineTo(z,Z)}t.closePath()}function qB(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){Ja(t,e,n,s,l,i);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+(a%Ne||Ne))}return Ja(t,e,n,s,l,i),t.fill(),l}function GB(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h,borderRadius:f}=l,g=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,g?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(r){Ja(t,e,n,s,p,i);for(let m=0;m<r;++m)t.stroke();isNaN(a)||(p=o+(a%Ne||Ne))}g&&VB(t,e,p),l.selfJoin&&p-o>=_e&&f===0&&u!=="miter"&&$B(t,e,p),r||(Ja(t,e,n,s,p,i),t.stroke())}class KB extends Kn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,s){const i=this.getProps(["x","y"],s),{angle:r,distance:o}=D_(i,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),h=(this.options.spacing+this.options.borderWidth)/2,f=re(d,l-a),g=io(r,a,l)&&a!==l,p=f>=Ne||g,m=Ln(o,c+h,u+h);return p&&m}getCenterPoint(e){const{x:n,y:s,startAngle:i,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(i+r)/2,d=(o+a+c+l)/2;return{x:n+Math.cos(u)*d,y:s+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:s}=this,i=(n.offset||0)/4,r=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>Ne?Math.floor(s/Ne):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(_e,s||0)),c=i*l;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,qB(e,this,c,r,o),GB(e,this,c,r,o),e.restore()}}function dw(t,e,n=e){t.lineCap=re(n.borderCapStyle,e.borderCapStyle),t.setLineDash(re(n.borderDash,e.borderDash)),t.lineDashOffset=re(n.borderDashOffset,e.borderDashOffset),t.lineJoin=re(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=re(n.borderWidth,e.borderWidth),t.strokeStyle=re(n.borderColor,e.borderColor)}function YB(t,e,n){t.lineTo(n.x,n.y)}function JB(t){return t.stepped?dL:t.tension||t.cubicInterpolationMode==="monotone"?hL:YB}function hw(t,e,n={}){const s=t.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function QB(t,e,n,s){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:c}=hw(i,n,s),u=JB(r);let{move:d=!0,reverse:h}=s||{},f,g,p;for(f=0;f<=c;++f)g=i[(a+(h?c-f:f))%o],!g.skip&&(d?(t.moveTo(g.x,g.y),d=!1):u(t,p,g,h,r.stepped),p=g);return l&&(g=i[(a+(h?c:0))%o],u(t,p,g,h,r.stepped)),!!l}function XB(t,e,n,s){const i=e.points,{count:r,start:o,ilen:a}=hw(i,n,s),{move:l=!0,reverse:c}=s||{};let u=0,d=0,h,f,g,p,m,b;const v=_=>(o+(c?a-_:_))%r,y=()=>{p!==m&&(t.lineTo(u,m),t.lineTo(u,p),t.lineTo(u,b))};for(l&&(f=i[v(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=i[v(h)],f.skip)continue;const _=f.x,S=f.y,T=_|0;T===g?(S<p?p=S:S>m&&(m=S),u=(d*u+_)/++d):(y(),t.lineTo(_,S),g=T,d=0,p=m=S),b=S}y()}function qu(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?XB:QB}function ZB(t){return t.stepped?WL:t.tension||t.cubicInterpolationMode==="monotone"?zL:js}function eF(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),dw(t,e.options),t.stroke(i)}function tF(t,e,n,s){const{segments:i,options:r}=e,o=qu(e);for(const a of i)dw(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const nF=typeof Path2D=="function";function sF(t,e,n,s){nF&&!e.options.segment?eF(t,e,n,s):tF(t,e,n,s)}class Hl extends Kn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;LL(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=QL(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],r=this.points,o=J_(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=ZB(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:h}=o[c],f=r[d],g=r[h];if(f===g){a.push(f);continue}const p=Math.abs((i-f[n])/(g[n]-f[n])),m=l(f,g,p,s.stepped);m[n]=e[n],a.push(m)}return a.length===1?a[0]:a}pathSegment(e,n,s){return qu(this)(e,this,n,s)}path(e,n,s){const i=this.segments,r=qu(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),sF(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function rm(t,e,n,s){const i=t.options,{[n]:r}=t.getProps([n],s);return Math.abs(e-r)<i.radius+i.hitRadius}class iF extends Kn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,s){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(e-r,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return rm(this,e,"x",n)}inYRange(e,n){return rm(this,e,"y",n)}getCenterPoint(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const s=n&&e.borderWidth||0;return(n+s)*2}draw(e,n){const s=this.options;this.skip||s.radius<.1||!Bn(this,n,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,$u(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function fw(t,e){const{x:n,y:s,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,i),l=Math.max(n,i),c=s-d,u=s+d):(d=r/2,a=n-d,l=n+d,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function cs(t,e,n,s){return t?0:ot(e,n,s)}function rF(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,r=F_(s);return{t:cs(i.top,r.top,0,n),r:cs(i.right,r.right,0,e),b:cs(i.bottom,r.bottom,0,n),l:cs(i.left,r.left,0,e)}}function oF(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=Js(i),o=Math.min(e,n),a=t.borderSkipped,l=s||fe(i);return{topLeft:cs(!l||a.top||a.left,r.topLeft,0,o),topRight:cs(!l||a.top||a.right,r.topRight,0,o),bottomLeft:cs(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:cs(!l||a.bottom||a.right,r.bottomRight,0,o)}}function aF(t){const e=fw(t),n=e.right-e.left,s=e.bottom-e.top,i=rF(t,n/2,s/2),r=oF(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function zc(t,e,n,s){const i=e===null,r=n===null,a=t&&!(i&&r)&&fw(t,s);return a&&(i||Ln(e,a.left,a.right))&&(r||Ln(n,a.top,a.bottom))}function lF(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function cF(t,e){t.rect(e.x,e.y,e.w,e.h)}function qc(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class uF extends Kn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=aF(this),a=lF(o.radius)?ro:cF;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,qc(o,n,r)),e.clip(),a(e,qc(r,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,qc(r,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return zc(this,e,n,s)}inXRange(e,n){return zc(this,e,null,n)}inYRange(e,n){return zc(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var dF=Object.freeze({__proto__:null,ArcElement:KB,BarElement:uF,LineElement:Hl,PointElement:iF});const Gu=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],om=Gu.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function gw(t){return Gu[t%Gu.length]}function pw(t){return om[t%om.length]}function hF(t,e){return t.borderColor=gw(e),t.backgroundColor=pw(e),++e}function fF(t,e){return t.backgroundColor=t.data.map(()=>gw(e++)),e}function gF(t,e){return t.backgroundColor=t.data.map(()=>pw(e++)),e}function pF(t){let e=0;return(n,s)=>{const i=t.getDatasetMeta(s).controller;i instanceof ph?e=fF(n,e):i instanceof tw?e=gF(n,e):i&&(e=hF(n,e))}}function am(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function mF(t){return t&&(t.borderColor||t.backgroundColor)}function bF(){return He.borderColor!=="rgba(0,0,0,0.1)"||He.backgroundColor!=="rgba(0,0,0,0.1)"}var vF={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:s},options:i}=t.config,{elements:r}=i,o=am(s)||mF(i)||r&&am(r)||bF();if(!n.forceOverride&&o)return;const a=pF(t);s.forEach(a)}};function yF(t,e,n,s,i){const r=i.samples||s;if(r>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(r-2);let l=0;const c=e+n-1;let u=e,d,h,f,g,p;for(o[l++]=t[u],d=0;d<r-2;d++){let m=0,b=0,v;const y=Math.floor((d+1)*a)+1+e,_=Math.min(Math.floor((d+2)*a)+1,n)+e,S=_-y;for(v=y;v<_;v++)m+=t[v].x,b+=t[v].y;m/=S,b/=S;const T=Math.floor(d*a)+1+e,x=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:A,y:k}=t[u];for(f=g=-1,v=T;v<x;v++)g=.5*Math.abs((A-m)*(t[v].y-k)-(A-t[v].x)*(b-k)),g>f&&(f=g,h=t[v],p=v);o[l++]=h,u=p}return o[l++]=t[c],o}function _F(t,e,n,s){let i=0,r=0,o,a,l,c,u,d,h,f,g,p;const m=[],b=e+n-1,v=t[e].x,_=t[b].x-v;for(o=e;o<e+n;++o){a=t[o],l=(a.x-v)/_*s,c=a.y;const S=l|0;if(S===u)c<g?(g=c,d=o):c>p&&(p=c,h=o),i=(r*i+a.x)/++r;else{const T=o-1;if(!de(d)&&!de(h)){const x=Math.min(d,h),A=Math.max(d,h);x!==f&&x!==T&&m.push({...t[x],x:i}),A!==f&&A!==T&&m.push({...t[A],x:i})}o>0&&T!==f&&m.push(t[T]),m.push(a),u=S,r=0,g=p=c,d=h=f=o}}return m}function mw(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function lm(t){t.data.datasets.forEach(e=>{mw(e)})}function wF(t,e){const n=e.length;let s=0,i;const{iScale:r}=t,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(s=ot(jn(e,r.axis,o).lo,0,n-1)),c?i=ot(jn(e,r.axis,a).hi+1,s,n)-s:i=n-s,{start:s,count:i}}var EF={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){lm(t);return}const s=t.width;t.data.datasets.forEach((i,r)=>{const{_data:o,indexAxis:a}=i,l=t.getDatasetMeta(r),c=o||i.data;if(pr([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:h}=wF(l,c);const f=n.threshold||4*s;if(h<=f){mw(i);return}de(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let g;switch(n.algorithm){case"lttb":g=yF(c,d,h,s,n);break;case"min-max":g=_F(c,d,h,s);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=g})},destroy(t){lm(t)}};function SF(t,e,n){const s=t.segments,i=t.points,r=e.points,o=[];for(const a of s){let{start:l,end:c}=a;c=$l(l,c,i);const u=Ku(n,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const d=J_(e,u);for(const h of d){const f=Ku(n,r[h.start],r[h.end],h.loop),g=Y_(a,i,f);for(const p of g)o.push({source:p,target:h,start:{[n]:cm(u,f,"start",Math.max)},end:{[n]:cm(u,f,"end",Math.min)}})}}return o}function Ku(t,e,n,s){if(s)return;let i=e[t],r=n[t];return t==="angle"&&(i=pt(i),r=pt(r)),{property:t,start:i,end:r}}function AF(t,e){const{x:n=null,y:s=null}=t||{},i=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=$l(o,a,i);const l=i[o],c=i[a];s!==null?(r.push({x:l.x,y:s}),r.push({x:c.x,y:s})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function $l(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function cm(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function bw(t,e){let n=[],s=!1;return Be(t)?(s=!0,n=t):n=AF(t,e),n.length?new Hl({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function um(t){return t&&t.fill!==!1}function xF(t,e,n){let i=t[e].fill;const r=[e];let o;if(!n)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!Ke(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function RF(t,e,n){const s=DF(t);if(fe(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return Ke(i)&&Math.floor(i)===i?CF(s[0],e,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function CF(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function TF(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:fe(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function kF(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:fe(t)?s=t.value:s=e.getBaseValue(),s}function DF(t){const e=t.options,n=e.fill;let s=re(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function OF(t){const{scale:e,index:n,line:s}=t,i=[],r=s.segments,o=s.points,a=PF(e,n);a.push(bw({x:null,y:e.bottom},s));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)MF(i,o[u],a)}return new Hl({points:i,options:{}})}function PF(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function MF(t,e,n){const s=[];for(let i=0;i<n.length;i++){const r=n[i],{first:o,last:a,point:l}=IF(r,e,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(t.push(l),!a)break}}t.push(...s)}function IF(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const i=s[n],r=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],d=o[u.start][n],h=o[u.end][n];if(Ln(i,d,h)){a=i===d,l=i===h;break}}return{first:a,last:l,point:s}}class vw{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:i,y:r,radius:o}=this;return n=n||{start:0,end:Ne},e.arc(i,r,o,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:i}=this,r=e.angle;return{x:n+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function NF(t){const{chart:e,fill:n,line:s}=t;if(Ke(n))return LF(e,n);if(n==="stack")return OF(t);if(n==="shape")return!0;const i=jF(t);return i instanceof vw?i:bw(i,s)}function LF(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function jF(t){return(t.scale||{}).getPointPositionForValue?FF(t):BF(t)}function BF(t){const{scale:e={},fill:n}=t,s=TF(n,e);if(Ke(s)){const i=e.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function FF(t){const{scale:e,fill:n}=t,s=e.options,i=e.getLabels().length,r=s.reverse?e.max:e.min,o=kF(n,e,r),a=[];if(s.grid.circular){const l=e.getPointPositionForValue(0,r);return new vw({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function Gc(t,e,n){const s=NF(e),{chart:i,index:r,line:o,scale:a,axis:l}=e,c=o.options,u=c.fill,d=c.backgroundColor,{above:h=d,below:f=d}=u||{},g=i.getDatasetMeta(r),p=Q_(i,g);s&&o.points.length&&(jl(t,n),UF(t,{line:o,target:s,above:h,below:f,area:n,scale:a,axis:l,clip:p}),Bl(t))}function UF(t,e){const{line:n,target:s,above:i,below:r,area:o,scale:a,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let u=r;r!==i&&(c==="x"?(dm(t,s,o.top),Kc(t,{line:n,target:s,color:i,scale:a,property:c,clip:l}),t.restore(),t.save(),dm(t,s,o.bottom)):c==="y"&&(hm(t,s,o.left),Kc(t,{line:n,target:s,color:r,scale:a,property:c,clip:l}),t.restore(),t.save(),hm(t,s,o.right),u=i)),Kc(t,{line:n,target:s,color:u,scale:a,property:c,clip:l}),t.restore()}function dm(t,e,n){const{segments:s,points:i}=e;let r=!0,o=!1;t.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],d=i[$l(l,c,i)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function hm(t,e,n){const{segments:s,points:i}=e;let r=!0,o=!1;t.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],d=i[$l(l,c,i)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(n,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,d.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Kc(t,e){const{line:n,target:s,property:i,color:r,scale:o,clip:a}=e,l=SF(n,s,i);for(const{source:c,target:u,start:d,end:h}of l){const{style:{backgroundColor:f=r}={}}=c,g=s!==!0;t.save(),t.fillStyle=f,HF(t,o,a,g&&Ku(i,d,h)),t.beginPath();const p=!!n.pathSegment(t,c);let m;if(g){p?t.closePath():fm(t,s,h,i);const b=!!s.pathSegment(t,u,{move:p,reverse:!0});m=p&&b,m||fm(t,s,d,i)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function HF(t,e,n,s){const i=e.chart.chartArea,{property:r,start:o,end:a}=s||{};if(r==="x"||r==="y"){let l,c,u,d;r==="x"?(l=o,c=i.top,u=a,d=i.bottom):(l=i.left,c=o,u=i.right,d=a),t.beginPath(),n&&(l=Math.max(l,n.left),u=Math.min(u,n.right),c=Math.max(c,n.top),d=Math.min(d,n.bottom)),t.rect(l,c,u-l,d-c),t.clip()}}function fm(t,e,n,s){const i=e.interpolate(n,s);i&&t.lineTo(i.x,i.y)}var $F={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,i=[];let r,o,a,l;for(o=0;o<s;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Hl&&(l={visible:t.isDatasetVisible(o),index:o,fill:RF(a,o,s),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,i.push(l);for(o=0;o<s;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=xF(i,o,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),s&&a.fill&&Gc(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;um(r)&&Gc(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!um(s)||n.drawTime!=="beforeDatasetDraw"||Gc(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const gm=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},VF=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class pm extends Kn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ie(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=it(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=gm(s,r);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;r.textAlign="left",r.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((g,p)=>{const m=s+n/2+r.measureText(g.text).width;(p===0||c[c.length-1]+m+2*a>o)&&(d+=u,c[c.length-(p>0?0:1)]=0,f+=u,h++),l[p]={left:0,top:f,row:h,width:m,height:i},c[c.length-1]+=m+a}),d}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,h=0,f=0,g=0,p=0;return this.legendItems.forEach((m,b)=>{const{itemWidth:v,itemHeight:y}=WF(s,n,r,m,i);b>0&&f+y+2*a>u&&(d+=h+a,c.push({width:h,height:f}),g+=h+a,p++,h=f=0),l[b]={left:g,top:f,col:p,width:v,height:y},h=Math.max(h,v),f+=y+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=Bi(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=ft(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=ft(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=ft(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=ft(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;jl(e,this),this._draw(),Bl(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=He.color,l=Bi(e.rtl,this.left,this.width),c=it(o.font),{padding:u}=o,d=c.size,h=d/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:p,itemHeight:m}=gm(o,d),b=function(T,x,A){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;i.save();const k=re(A.lineWidth,1);if(i.fillStyle=re(A.fillStyle,a),i.lineCap=re(A.lineCap,"butt"),i.lineDashOffset=re(A.lineDashOffset,0),i.lineJoin=re(A.lineJoin,"miter"),i.lineWidth=k,i.strokeStyle=re(A.strokeStyle,a),i.setLineDash(re(A.lineDash,[])),o.usePointStyle){const B={radius:p*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:k},W=l.xPlus(T,g/2),G=x+h;B_(i,B,W,G,o.pointStyleWidth&&g)}else{const B=x+Math.max((d-p)/2,0),W=l.leftForLtr(T,g),G=Js(A.borderRadius);i.beginPath(),Object.values(G).some(ce=>ce!==0)?ro(i,{x:W,y:B,w:g,h:p,radius:G}):i.rect(W,B,g,p),i.fill(),k!==0&&i.stroke()}i.restore()},v=function(T,x,A){si(i,A.text,T,x+m/2,c,{strikethrough:A.hidden,textAlign:l.textAlign(A.textAlign)})},y=this.isHorizontal(),_=this._computeTitleHeight();y?f={x:ft(r,this.left+u,this.right-s[0]),y:this.top+u+_,line:0}:f={x:this.left+u,y:ft(r,this.top+_+u,this.bottom-n[0].height),line:0},q_(this.ctx,e.textDirection);const S=m+u;this.legendItems.forEach((T,x)=>{i.strokeStyle=T.fontColor,i.fillStyle=T.fontColor;const A=i.measureText(T.text).width,k=l.textAlign(T.textAlign||(T.textAlign=o.textAlign)),B=g+h+A;let W=f.x,G=f.y;l.setWidth(this.width),y?x>0&&W+B+u>this.right&&(G=f.y+=S,f.line++,W=f.x=ft(r,this.left+u,this.right-s[f.line])):x>0&&G+S>this.bottom&&(W=f.x=W+n[f.line].width+u,f.line++,G=f.y=ft(r,this.top+_+u,this.bottom-n[f.line].height));const ce=l.x(W);if(b(ce,G,T),W=eL(k,W+g+h,y?W+B:this.right,e.rtl),v(l.x(W),G,T),y)f.x+=B+u;else if(typeof T.text!="string"){const Ae=c.lineHeight;f.y+=yw(T,Ae)+u}else f.y+=S}),G_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=it(n.font),i=St(n.padding);if(!n.display)return;const r=Bi(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=ft(e.align,d,this.right-h);else{const g=this.columnSizes.reduce((p,m)=>Math.max(p,m.height),0);u=c+ft(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=ft(a,d,d+h);o.textAlign=r.textAlign(ah(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,si(o,n.text,f,u,s)}_computeTitleHeight(){const e=this.options.title,n=it(e.font),s=St(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(Ln(e,this.left,this.right)&&Ln(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],Ln(e,i.left,i.left+i.width)&&Ln(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!GF(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=VF(i,s);i&&!r&&Ie(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&Ie(n.onHover,[e,s,this],this)}else s&&Ie(n.onClick,[e,s,this],this)}}function WF(t,e,n,s,i){const r=zF(s,t,e,n),o=qF(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function zF(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+s.measureText(i).width}function qF(t,e,n){let s=t;return typeof e.text!="string"&&(s=yw(e,n)),s}function yw(t,e){const n=t.text?t.text.length:0;return e*n}function GF(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var KF={id:"legend",_element:pm,start(t,e,n){const s=t.legend=new pm({ctx:t.ctx,options:n,chart:t});wt.configure(t,s,n),wt.addBox(t,s)},stop(t){wt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;wt.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=St(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class bh extends Kn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Be(s.text)?s.text.length:1;this._padding=St(s.padding);const r=i*it(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=ft(a,s,r),d=n+e,c=r-s):(o.position==="left"?(u=s+e,d=ft(a,i,n),l=_e*-.5):(u=r-e,d=ft(a,n,i),l=_e*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=it(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);si(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:ah(n.align),textBaseline:"middle",translation:[o,a]})}}function YF(t,e){const n=new bh({ctx:t.ctx,options:e,chart:t});wt.configure(t,n,e),wt.addBox(t,n),t.titleBlock=n}var JF={id:"title",_element:bh,start(t,e,n){YF(t,n)},stop(t){const e=t.titleBlock;wt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;wt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jo=new WeakMap;var QF={id:"subtitle",start(t,e,n){const s=new bh({ctx:t.ctx,options:n,chart:t});wt.configure(t,s,n),wt.addBox(t,s),Jo.set(t,s)},stop(t){wt.removeBox(t,Jo.get(t)),Jo.delete(t)},beforeUpdate(t,e,n){const s=Jo.get(t);wt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const br={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Uu(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function pn(t,e){return e&&(Be(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Dn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function XF(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function mm(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=it(e.bodyFont),c=it(e.titleFont),u=it(e.footerFont),d=r.length,h=i.length,f=s.length,g=St(e.padding);let p=g.height,m=0,b=s.reduce((_,S)=>_+S.before.length+S.lines.length+S.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,d&&(p+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),b){const _=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=f*_+(b-f)*l.lineHeight+(b-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let v=0;const y=function(_){m=Math.max(m,n.measureText(_).width+v)};return n.save(),n.font=c.string,Ce(t.title,y),n.font=l.string,Ce(t.beforeBody.concat(t.afterBody),y),v=e.displayColors?o+2+e.boxPadding:0,Ce(s,_=>{Ce(_.before,y),Ce(_.lines,y),Ce(_.after,y)}),v=0,n.font=u.string,Ce(t.footer,y),n.restore(),m+=g.width,{width:m,height:p}}function ZF(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function eU(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function tU(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),eU(c,t,e,n)&&(c="center"),c}function bm(t,e,n){const s=n.yAlign||e.yAlign||ZF(t,n);return{xAlign:n.xAlign||e.xAlign||tU(t,e,n,s),yAlign:s}}function nU(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function sU(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function vm(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Js(o);let g=nU(e,a);const p=sU(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,h)+i:a==="right"&&(g+=Math.max(d,f)+i),{x:ot(g,0,s.width-e.width),y:ot(p,0,s.height-e.height)}}function Qo(t,e,n){const s=St(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function ym(t){return pn([],Dn(t))}function iU(t,e,n){return Es(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function _m(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const _w={beforeTitle:Tn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Tn,beforeBody:Tn,beforeLabel:Tn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return de(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Tn,afterBody:Tn,beforeFooter:Tn,footer:Tn,afterFooter:Tn};function Dt(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?_w[e].call(n,s):i}class wm extends Kn{static positioners=br;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new X_(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=iU(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=Dt(s,"beforeTitle",this,e),r=Dt(s,"title",this,e),o=Dt(s,"afterTitle",this,e);let a=[];return a=pn(a,Dn(i)),a=pn(a,Dn(r)),a=pn(a,Dn(o)),a}getBeforeBody(e,n){return ym(Dt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return Ce(e,r=>{const o={before:[],lines:[],after:[]},a=_m(s,r);pn(o.before,Dn(Dt(a,"beforeLabel",this,r))),pn(o.lines,Dt(a,"label",this,r)),pn(o.after,Dn(Dt(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,n){return ym(Dt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=Dt(s,"beforeFooter",this,e),r=Dt(s,"footer",this,e),o=Dt(s,"afterFooter",this,e);let a=[];return a=pn(a,Dn(i)),a=pn(a,Dn(r)),a=pn(a,Dn(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(XF(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,h)=>e.filter(u,d,h,s))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,s))),Ce(a,u=>{const d=_m(e.callbacks,u);i.push(Dt(d,"labelColor",this,u)),r.push(Dt(d,"labelPointStyle",this,u)),o.push(Dt(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=br[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=mm(this,s),c=Object.assign({},a,l),u=bm(this.chart,s,c),d=vm(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Js(a),{x:h,y:f}=e,{width:g,height:p}=n;let m,b,v,y,_,S;return r==="center"?(_=f+p/2,i==="left"?(m=h,b=m-o,y=_+o,S=_-o):(m=h+g,b=m+o,y=_-o,S=_+o),v=m):(i==="left"?b=h+Math.max(l,u)+o:i==="right"?b=h+g-Math.max(c,d)-o:b=this.caretX,r==="top"?(y=f,_=y-o,m=b-o,v=b+o):(y=f+p,_=y+o,m=b+o,v=b-o),S=y),{x1:m,x2:b,x3:v,y1:y,y2:_,y3:S}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=Bi(s.rtl,this.x,this.width);for(e.x=Qo(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=it(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,u=it(r.bodyFont),d=Qo(this,"left",r),h=i.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+f;if(r.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=i.leftForLtr(h,c)+c/2,b=g+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,$u(e,p,m,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,$u(e,p,m,b)}else{e.lineWidth=fe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const p=i.leftForLtr(h,c),m=i.leftForLtr(i.xPlus(h,1),c-2),b=Js(o.borderRadius);Object.values(b).some(v=>v!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,ro(e,{x:p,y:g,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ro(e,{x:m,y:g+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(p,g,c,l),e.strokeRect(p,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(m,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,d=it(s.bodyFont);let h=d.lineHeight,f=0;const g=Bi(s.rtl,this.x,this.width),p=function(A){n.fillText(A,g.x(e.x+f),e.y+h/2),e.y+=h+r},m=g.textAlign(o);let b,v,y,_,S,T,x;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Qo(this,m,s),n.fillStyle=s.bodyColor,Ce(this.beforeBody,p),f=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,_=0,T=i.length;_<T;++_){for(b=i[_],v=this.labelTextColors[_],n.fillStyle=v,Ce(b.before,p),y=b.lines,a&&y.length&&(this._drawColorBox(n,e,_,g,s),h=Math.max(d.lineHeight,l)),S=0,x=y.length;S<x;++S)p(y[S]),h=d.lineHeight;Ce(b.after,p)}f=0,h=d.lineHeight,Ce(this.afterBody,p),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=Bi(s.rtl,this.x,this.width);for(e.x=Qo(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=it(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=Js(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=br[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=mm(this,e),l=Object.assign({},o,this._size),c=bm(n,e,l),u=vm(e,l,c,n);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=St(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),q_(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),G_(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Wa(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),l=n||!Wa(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=br[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}}var rU={id:"tooltip",_element:wm,positioners:br,afterInit(t,e,n){n&&(t.tooltip=new wm({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_w},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},oU=Object.freeze({__proto__:null,Colors:vF,Decimation:EF,Filler:$F,Legend:KF,SubTitle:QF,Title:JF,Tooltip:rU});const aU=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function lU(t,e,n,s){const i=t.indexOf(e);if(i===-1)return aU(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const cU=(t,e)=>t===null?null:ot(Math.round(t),0,e);function Em(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class uU extends ui{static id="category";static defaults={ticks:{callback:Em}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(de(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:lU(s,e,re(n,e),this._addedLabels),cU(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return Em.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function dU(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=r||1,g=u-1,{min:p,max:m}=e,b=!de(o),v=!de(a),y=!de(c),_=(m-p)/(d+1);let S=mp((m-p)/g/f)*f,T,x,A,k;if(S<1e-14&&!b&&!v)return[{value:p},{value:m}];k=Math.ceil(m/S)-Math.floor(p/S),k>g&&(S=mp(k*S/g/f)*f),de(l)||(T=Math.pow(10,l),S=Math.ceil(S*T)/T),i==="ticks"?(x=Math.floor(p/S)*S,A=Math.ceil(m/S)*S):(x=p,A=m),b&&v&&r&&GN((a-o)/r,S/1e3)?(k=Math.round(Math.min((a-o)/S,u)),S=(a-o)/k,x=o,A=a):y?(x=b?o:x,A=v?a:A,k=c-1,S=(A-x)/k):(k=(A-x)/S,Lr(k,Math.round(k),S/1e3)?k=Math.round(k):k=Math.ceil(k));const B=Math.max(bp(S),bp(x));T=Math.pow(10,de(l)?B:l),x=Math.round(x*T)/T,A=Math.round(A*T)/T;let W=0;for(b&&(h&&x!==o?(n.push({value:o}),x<o&&W++,Lr(Math.round((x+W*S)*T)/T,o,Sm(o,_,t))&&W++):x<o&&W++);W<k;++W){const G=Math.round((x+W*S)*T)/T;if(v&&G>a)break;n.push({value:G})}return v&&h&&A!==a?n.length&&Lr(n[n.length-1].value,a,Sm(a,_,t))?n[n.length-1].value=a:n.push({value:a}):(!v||A===a)&&n.push({value:A}),n}function Sm(t,e,{horizontal:n,minRotation:s}){const i=nn(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class Qa extends ui{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return de(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(e){const l=En(i),c=En(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=dU(i,r);return e.bounds==="ticks"&&k_(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return So(e,this.chart.options.locale,this.options.ticks.format)}}class hU extends Qa{static id="linear";static defaults={ticks:{callback:Ll.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ke(e)?e:0,this.max=Ke(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=nn(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const ao=t=>Math.floor(as(t)),Os=(t,e)=>Math.pow(10,ao(t)+e);function Am(t){return t/Math.pow(10,ao(t))===1}function xm(t,e,n){const s=Math.pow(10,n),i=Math.floor(t/s);return Math.ceil(e/s)-i}function fU(t,e){const n=e-t;let s=ao(n);for(;xm(t,e,s)>10;)s++;for(;xm(t,e,s)<10;)s--;return Math.min(s,ao(t))}function gU(t,{min:e,max:n}){e=Ft(t.min,e);const s=[],i=ao(e);let r=fU(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=i>r?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,r)),h=Ft(t.min,Math.round((l+u+d*Math.pow(10,r))*o)/o);for(;h<n;)s.push({value:h,major:Am(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(r++,d=2,o=r>=0?1:o),h=Math.round((l+u+d*Math.pow(10,r))*o)/o;const f=Ft(t.max,h);return s.push({value:f,major:Am(f),significand:d}),s}class pU extends ui{static id="logarithmic";static defaults={ticks:{callback:Ll.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=Qa.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return Ke(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ke(e)?Math.max(0,e):null,this.max=Ke(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ke(this._userMin)&&(this.min=e===Os(this.min,0)?Os(this.min,-1):Os(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const r=a=>s=e?s:a,o=a=>i=n?i:a;s===i&&(s<=0?(r(1),o(10)):(r(Os(s,-1)),o(Os(i,1)))),s<=0&&r(Os(i,-1)),i<=0&&o(Os(s,1)),this.min=s,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=gU(n,this);return e.bounds==="ticks"&&k_(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":So(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=as(e),this._valueRange=as(this.max)-as(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(as(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}function Yu(t){const e=t.ticks;if(e.display&&t.display){const n=St(e.backdropPadding);return re(e.font&&e.font.size,He.font.size)+n.height}return 0}function mU(t,e,n){return n=Be(n)?n:[n],{w:uL(t,e.string,n),h:n.length*e.lineHeight}}function Rm(t,e,n,s,i){return t===s||t===i?{start:e-n/2,end:e+n/2}:t<s||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function bU(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],i=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?_e/r:0;for(let l=0;l<r;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),d=it(c.font),h=mU(t.ctx,d,t._pointLabels[l]);s[l]=h;const f=pt(t.getIndexAngle(l)+a),g=Math.round(rh(f)),p=Rm(g,u.x,h.w,0,180),m=Rm(g,u.y,h.h,90,270);vU(n,e,f,p,m)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=wU(t,s,i)}function vU(t,e,n,s,i){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;s.start<e.l?(a=(e.l-s.start)/r,t.l=Math.min(t.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function yU(t,e,n){const s=t.drawingArea,{extra:i,additionalAngle:r,padding:o,size:a}=n,l=t.getPointPosition(e,s+i+o,r),c=Math.round(rh(pt(l.angle+Je))),u=AU(l.y,a.h,c),d=EU(c),h=SU(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function _U(t,e){if(!e)return!0;const{left:n,top:s,right:i,bottom:r}=t;return!(Bn({x:n,y:s},e)||Bn({x:n,y:r},e)||Bn({x:i,y:s},e)||Bn({x:i,y:r},e))}function wU(t,e,n){const s=[],i=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:Yu(r)/2,additionalAngle:o?_e/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const d=yU(t,u,l);s.push(d),a==="auto"&&(d.visible=_U(d,c),d.visible&&(c=d))}return s}function EU(t){return t===0||t===180?"center":t<180?"left":"right"}function SU(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function AU(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function xU(t,e,n){const{left:s,top:i,right:r,bottom:o}=n,{backdropColor:a}=e;if(!de(a)){const l=Js(e.borderRadius),c=St(e.backdropPadding);t.fillStyle=a;const u=s-c.left,d=i-c.top,h=r-s+c.width,f=o-i+c.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),ro(t,{x:u,y:d,w:h,h:f,radius:l}),t.fill()):t.fillRect(u,d,h,f)}}function RU(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let i=e-1;i>=0;i--){const r=t._pointLabelItems[i];if(!r.visible)continue;const o=s.setContext(t.getPointLabelContext(i));xU(n,o,r);const a=it(o.font),{x:l,y:c,textAlign:u}=r;si(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function ww(t,e,n,s){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Ne);else{let r=t.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=t.getPointPosition(o,e),i.lineTo(r.x,r.y)}}function CU(t,e,n,s,i){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!s||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),ww(t,n,o,s),r.closePath(),r.stroke(),r.restore())}function TU(t,e,n){return Es(t,{label:n,index:e,type:"pointLabel"})}class kU extends Qa{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ll.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=St(Yu(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Ke(e)&&!isNaN(e)?e:0,this.max=Ke(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Yu(this.options))}generateTickLabels(e){Qa.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const i=Ie(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?bU(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,i))}getIndexAngle(e){const n=Ne/(this._pointLabels.length||1),s=this.options.startAngle||0;return pt(e*n+nn(s))}getDistanceFromCenterForValue(e){if(de(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(de(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return TU(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const i=this.getIndexAngle(e)-Je+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:i,bottom:r}=this._pointLabelItems[e];return{left:n,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),ww(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:i,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&RU(this,o),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),f=i.setContext(h),g=r.setContext(h);CU(this,f,l,o,g)}}),s.display){for(e.save(),a=o-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=s.setContext(this.getContext(l)),u=it(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=St(c.backdropPadding);e.fillRect(-o/2-d.left,-r-u.size/2-d.top,o+d.width,u.size+d.height)}si(e,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}const Vl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ot=Object.keys(Vl);function Cm(t,e){return t-e}function Tm(t,e){if(de(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),Ke(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Gi(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function km(t,e,n,s){const i=Ot.length;for(let r=Ot.indexOf(t);r<i-1;++r){const o=Vl[Ot[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return Ot[r]}return Ot[i-1]}function DU(t,e,n,s,i){for(let r=Ot.length-1;r>=Ot.indexOf(n);r--){const o=Ot[r];if(Vl[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return Ot[n?Ot.indexOf(n):0]}function OU(t){for(let e=Ot.indexOf(t)+1,n=Ot.length;e<n;++e)if(Vl[Ot[e]].common)return Ot[e]}function Dm(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=oh(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function PU(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function Om(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:PU(t,s,i,n)}class Ju extends ui{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new Mj._date(e.adapters.date);i.init(n),Nr(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Tm(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Ke(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=Ke(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=QN(i,r,o);return this._unit=n.unit||(s.autoSkip?km(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):DU(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:OU(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),Om(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=ot(n,0,o),s=ot(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||km(r.minUnit,n,s,this._getLabelCapacity(n)),a=re(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Gi(l)||l===!0,u={};let d=n,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<s;h=+e.add(h,a,o),f++)Dm(u,h,g);return(h===s||i.bounds==="ticks"||f===1)&&Dm(u,h,g),Object.keys(u).sort(Cm).map(p=>+p)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return Ie(o,[e,n,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=s[n],f=c&&d&&h&&h.major;return this._adapter.format(e,i||(f?d:u))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=nn(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,Om(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(Tm(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return P_(e.sort(Cm))}}function Xo(t,e,n){let s=0,i=t.length-1,r,o,a,l;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=jn(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:l}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=jn(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:l}=t[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class MU extends Ju{static id="timeseries";static defaults=Ju.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Xo(n,this.min),this._tableRange=Xo(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Xo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Xo(this._table,s*this._tableRange+this._minPos,!0)}}var IU=Object.freeze({__proto__:null,CategoryScale:uU,LinearScale:hU,LogarithmicScale:pU,RadialLinearScale:kU,TimeScale:Ju,TimeSeriesScale:MU});const NU=[Pj,dF,oU,IU],LU={class:"container my-4"},jU={class:"card p-3 mb-3"},BU={class:"row g-3 align-items-end"},FU={class:"col-md-3"},UU={class:"col-md-3"},HU={class:"col-md-3"},$U=["value"],VU={class:"d-flex justify-content-between mb-3"},WU={class:"btn-group"},zU={class:"btn-group"},qU=["disabled"],GU=["disabled"],KU={key:0,class:"text-center py-5"},YU={key:1,class:"alert alert-info text-center"},JU={key:3,class:"table table-bordered text-center"},QU={class:"fw-bold"},XU={__name:"Calendardashboard",setup(t){zu.register(...NU);const e=ue(null);let n=null;const s=ue(!1),i=ue([]),r=ue("table"),o=[{label:"",value:""},{label:"Work",value:"work"},{label:"Personal",value:"personal"},{label:"Family",value:"family"},{label:"Other",value:"other"}],a=o.filter(x=>x.value),l={work:"#0d6efd",personal:"#198754",family:"#fd7e14",other:"#6c757d"},c=x=>x.toISOString().slice(0,10),u=new Date,d=ue({start_date:c(new Date(u.getTime()-14*864e5)),end_date:c(new Date(u.getTime()+14*864e5)),category:""}),h=ue({...d.value}),f=Ve(()=>[...new Set(i.value.map(x=>x.date))].sort((x,A)=>new Date(x)-new Date(A))),g=Ve(()=>f.value.map(x=>{const A={date:x,total:0};return a.forEach(k=>{const B=i.value.find(G=>G.date===x&&G.category===k.value),W=B?B.count:0;A[k.value]=W,A.total+=W}),A})),p=Ve(()=>g.value.length>0),m=Ve(()=>a.map(x=>({label:x.label,data:f.value.map(A=>{const k=i.value.find(B=>B.date===A&&B.category===x.value);return k?k.count:0}),backgroundColor:l[x.value],borderColor:l[x.value],tension:.3}))),b=()=>{n&&(n.destroy(),n=null)},v=async()=>{r.value==="table"||!p.value||(b(),await ho(),e.value&&(n=new zu(e.value,{type:r.value,data:{labels:f.value,datasets:m.value},options:{responsive:!0,plugins:{legend:{position:"top"}}}})))},y=async()=>{s.value=!0,h.value={...d.value};try{const x=await Pt.get("/calendar/stats",{params:h.value});i.value=Array.isArray(x.data)?x.data:[],await v()}finally{s.value=!1}},_=()=>{if(!p.value)return;const x=["Date","Work","Personal","Family","Other","Total"],A=g.value.map(B=>[B.date,B.work,B.personal,B.family,B.other,B.total]),k="\uFEFF"+[x,...A].map(B=>B.join(",")).join(`
`);T(k,"calendar_stats.csv","text/csv")},S=()=>_(),T=(x,A,k)=>{const B=new Blob([x],{type:k}),W=URL.createObjectURL(B),G=document.createElement("a");G.href=W,G.download=A,G.click(),URL.revokeObjectURL(W)};return Pi(r,v),Ji(y),(x,A)=>(he(),be("div",LU,[C("div",jU,[C("div",BU,[C("div",FU,[A[6]||(A[6]=C("label",{class:"form-label"},"",-1)),Wt(C("input",{type:"date",class:"form-control","onUpdate:modelValue":A[0]||(A[0]=k=>d.value.start_date=k)},null,512),[[wn,d.value.start_date]])]),C("div",UU,[A[7]||(A[7]=C("label",{class:"form-label"},"",-1)),Wt(C("input",{type:"date",class:"form-control","onUpdate:modelValue":A[1]||(A[1]=k=>d.value.end_date=k)},null,512),[[wn,d.value.end_date]])]),C("div",HU,[A[8]||(A[8]=C("label",{class:"form-label"},"",-1)),Wt(C("select",{class:"form-select","onUpdate:modelValue":A[2]||(A[2]=k=>d.value.category=k)},[(he(),be(bt,null,ya(o,k=>C("option",{key:k.value,value:k.value},je(k.label),9,$U)),64))],512),[[pd,d.value.category]])]),C("div",{class:"col-md-3"},[C("button",{class:"btn btn-primary w-100",onClick:y},"Search")])])]),C("div",VU,[C("div",WU,[C("button",{class:Ut(["btn btn-outline-secondary",{active:r.value==="table"}]),onClick:A[3]||(A[3]=k=>r.value="table")}," Table ",2),C("button",{class:Ut(["btn btn-outline-secondary",{active:r.value==="bar"}]),onClick:A[4]||(A[4]=k=>r.value="bar")}," Bar ",2),C("button",{class:Ut(["btn btn-outline-secondary",{active:r.value==="line"}]),onClick:A[5]||(A[5]=k=>r.value="line")}," Line ",2)]),C("div",zU,[C("button",{class:"btn btn-outline-success",disabled:!p.value,onClick:_}," Export CSV ",8,qU),C("button",{class:"btn btn-outline-success",disabled:!p.value,onClick:S}," Export Excel ",8,GU)])]),s.value?(he(),be("div",KU,"Loading...")):p.value?Gt("",!0):(he(),be("div",YU,"No data available.")),r.value!=="table"&&p.value?(he(),be("canvas",{key:2,ref_key:"chartRef",ref:e},null,512)):Gt("",!0),r.value==="table"&&p.value?(he(),be("table",JU,[A[9]||(A[9]=C("thead",{class:"table-light"},[C("tr",null,[C("th",null,"Date"),C("th",null,"Work"),C("th",null,"Personal"),C("th",null,"Family"),C("th",null,"Other"),C("th",null,"Total")])],-1)),C("tbody",null,[(he(!0),be(bt,null,ya(g.value,k=>(he(),be("tr",{key:k.date},[C("td",null,je(k.date),1),C("td",null,je(k.work),1),C("td",null,je(k.personal),1),C("td",null,je(k.family),1),C("td",null,je(k.other),1),C("td",QU,je(k.total),1)]))),128))])])):Gt("",!0)]))}},Ew=oA({history:FS("/Vue_DEMO/"),routes:[{path:"/loginbackground",name:"Loginbackground",component:Bf,meta:{guestOnly:!0},children:[{path:"login",name:"Login",component:Xx},{path:"register",name:"Register",component:dR},{path:"forgotpassword",name:"Forgotpassword",component:kR},{path:"forgotpasswordreset",name:"Forgotpasswordreset",component:bk}]},{path:"/inloginbackground",name:"inLoginbackground",component:Bf,meta:{requiresAuth:!0},children:[{path:"resetpassword",name:"Resetpassword",component:wR}]},{path:"/dashboard",component:kk,meta:{requiresAuth:!0},children:[{path:"updprofiles",name:"Updprofiles",component:Uk},{path:"calendarevent",name:"Calendarevent",component:fN},{path:"calendardashboard",name:"Calendardashboard",component:XU}]},{path:"/",redirect:"/dashboard"}]});Ew.beforeEach(async t=>{const e=El();if(e.isReady||await e.init(),!e.isLogin&&t.meta.requiresAuth)return"/loginbackground/login";if(e.isLogin&&t.meta.guestOnly)return"/dashboard"});const vh=qE(lA);vh.use(YE());vh.use(Ew);vh.mount("#app");
